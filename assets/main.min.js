!function(c){var v={};function _(k){if(v[k])return v[k].exports;var M=v[k]={i:k,l:!1,exports:{}};return c[k].call(M.exports,M,M.exports,_),M.l=!0,M.exports}_.m=c,_.c=v,_.d=function(c,v,k){_.o(c,v)||Object.defineProperty(c,v,{enumerable:!0,get:k})},_.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},_.t=function(c,v){if(1&v&&(c=_(c)),8&v)return c;if(4&v&&"object"==typeof c&&c&&c.__esModule)return c;var k=Object.create(null);if(_.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:c}),2&v&&"string"!=typeof c)for(var M in c)_.d(k,M,function(v){return c[v]}.bind(null,M));return k},_.n=function(c){var v=c&&c.__esModule?function(){return c.default}:function(){return c};return _.d(v,"a",v),v},_.o=function(c,v){return Object.prototype.hasOwnProperty.call(c,v)},_.p="",_(_.s=6)}([function(c,v){c.exports={defaults:function c(v,_){if(!v||"function"==typeof v)return _;var k={};for(var M in _)k[M]=_[M];for(M in v)v[M]&&("object"==typeof k[M]?k[M]=c(k[M],v[M]):k[M]=v[M]);return k},inherits:function(c,v){if("function"==typeof Object.create)c.super_=v,c.prototype=Object.create(v.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});else{c.super_=v;var _=function(){};_.prototype=v.prototype,c.prototype=new _,c.prototype.constructor=c}}}},function(c,v,_){var k=_(2),M=k.drawLine,B=k.checkLineIntersection;function A(c,v,_){this.chart=c,this.group=this.chart.paper.set(),this.symbol=_,this.connectedTo=[],this.symbolType=v.symbolType,this.flowstate=v.flowstate||"future",this.lineStyle=v.lineStyle||{},this.key=v.key||"",this.next_direction=v.next&&v.direction_next?v.direction_next:void 0,this.text=this.chart.paper.text(0,0,v.text),v.key&&(this.text.node.id=v.key+"t"),this.text.node.setAttribute("class",this.getAttr("class")+"t"),this.text.attr({"text-anchor":"start",x:this.getAttr("text-margin"),fill:this.getAttr("font-color"),"font-size":this.getAttr("font-size")});var k=this.getAttr("font"),M=this.getAttr("font-family"),B=this.getAttr("font-weight");k&&this.text.attr({font:k}),M&&this.text.attr({"font-family":M}),B&&this.text.attr({"font-weight":B}),v.link&&this.text.attr("href",v.link),v.target&&this.text.attr("target",v.target);var A=this.getAttr("maxWidth");if(A){for(var E=v.text.split(" "),I="",D=0,q=E.length;D<q;D++){var j=E[D];this.text.attr("text",I+" "+j),this.text.getBBox().width>A?I+="\n"+j:I+=" "+j}this.text.attr("text",I.substring(1))}if(this.group.push(this.text),_){var N=this.getAttr("text-margin");_.attr({fill:this.getAttr("fill"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*N,height:this.text.getBBox().height+2*N}),_.node.setAttribute("class",this.getAttr("class")),v.link&&_.attr("href",v.link),v.target&&_.attr("target",v.target),v.key&&(_.node.id=v.key),this.group.push(_),_.insertBefore(this.text),this.text.attr({y:_.getBBox().height/2}),this.initialize()}}A.prototype.getAttr=function(c){if(this.chart){var v,_=this.chart.options?this.chart.options[c]:void 0,k=this.chart.options.symbols?this.chart.options.symbols[this.symbolType][c]:void 0;return this.chart.options.flowstate&&this.chart.options.flowstate[this.flowstate]&&(v=this.chart.options.flowstate[this.flowstate][c]),v||k||_}},A.prototype.initialize=function(){this.group.transform("t"+this.getAttr("line-width")+","+this.getAttr("line-width")),this.width=this.group.getBBox().width,this.height=this.group.getBBox().height},A.prototype.getCenter=function(){return{x:this.getX()+this.width/2,y:this.getY()+this.height/2}},A.prototype.getX=function(){return this.group.getBBox().x},A.prototype.getY=function(){return this.group.getBBox().y},A.prototype.shiftX=function(c){this.group.transform("t"+(this.getX()+c)+","+this.getY())},A.prototype.setX=function(c){this.group.transform("t"+c+","+this.getY())},A.prototype.shiftY=function(c){this.group.transform("t"+this.getX()+","+(this.getY()+c))},A.prototype.setY=function(c){this.group.transform("t"+this.getX()+","+c)},A.prototype.getTop=function(){var c=this.getY();return{x:this.getX()+this.width/2,y:c}},A.prototype.getBottom=function(){var c=this.getY()+this.height;return{x:this.getX()+this.width/2,y:c}},A.prototype.getLeft=function(){var c=this.getY()+this.group.getBBox().height/2;return{x:this.getX(),y:c}},A.prototype.getRight=function(){var c=this.getY()+this.group.getBBox().height/2;return{x:this.getX()+this.group.getBBox().width,y:c}},A.prototype.render=function(){if(this.next){var c=this,v=this.getAttr("line-length");if("right"===this.next_direction){var _=this.getRight();this.next.isPositioned||(this.next.setY(_.y-this.next.height/2),this.next.shiftX(this.group.getBBox().x+this.width+v),function _(){for(var k,M=!1,B=0,A=c.chart.symbols.length;B<A;B++){k=c.chart.symbols[B];var E=Math.abs(k.getCenter().x-c.next.getCenter().x);if(k.getCenter().y>c.next.getCenter().y&&E<=c.next.width/2){M=!0;break}}if(M){if("end"===c.next.symbolType)return;c.next.setX(k.getX()+k.width+v),_()}}(),this.next.isPositioned=!0,this.next.render())}else if("left"===this.next_direction){var k=this.getLeft();this.next.isPositioned||(this.next.setY(k.y-this.next.height/2),this.next.shiftX(-(this.group.getBBox().x+this.width+v)),function _(){for(var k,M=!1,B=0,A=c.chart.symbols.length;B<A;B++){k=c.chart.symbols[B];var E=Math.abs(k.getCenter().x-c.next.getCenter().x);if(k.getCenter().y>c.next.getCenter().y&&E<=c.next.width/2){M=!0;break}}if(M){if("end"===c.next.symbolType)return;c.next.setX(k.getX()+k.width+v),_()}}(),this.next.isPositioned=!0,this.next.render())}else{var M=this.getBottom();this.next.isPositioned||(this.next.shiftY(this.getY()+this.height+v),this.next.setX(M.x-this.next.width/2),this.next.isPositioned=!0,this.next.render())}}},A.prototype.renderLines=function(){this.next&&(this.next_direction?this.drawLineTo(this.next,this.getAttr("arrow-text")||"",this.next_direction):this.drawLineTo(this.next,this.getAttr("arrow-text")||""))},A.prototype.drawLineTo=function(c,v,_){this.connectedTo.indexOf(c)<0&&this.connectedTo.push(c);var k,A=this.getCenter().x,E=this.getCenter().y,I=this.getRight(),D=this.getBottom(),q=this.getTop(),j=this.getLeft(),N=c.getCenter().x,P=c.getCenter().y,H=c.getTop(),$=c.getRight(),z=c.getLeft(),F=A===N,V=E===P,W=E<P,G=E>P||this===c,Y=A>N,J=A<N,Z=0,Q=this.getAttr("line-length"),K=this.getAttr("line-width");if(_&&"bottom"!==_||!F||!W)if(_&&"right"!==_||!V||!J)if(_&&"left"!==_||!V||!Y)if(_&&"right"!==_||!F||!G)if(_&&"right"!==_||!F||!W)if(_&&"bottom"!==_||!Y)if(_&&"bottom"!==_||!J||!W)if(_&&"bottom"!==_||!J)if(_&&"right"===_&&Y)k=M(this.chart,I,[{x:I.x+Q/2,y:I.y},{x:I.x+Q/2,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.rightStart=!0,c.topEnd=!0,Z=I.x+Q/2;else if(_&&"right"===_&&J)k=M(this.chart,I,[{x:H.x,y:I.y},{x:H.x,y:H.y}],v),this.rightStart=!0,c.topEnd=!0,Z=I.x+Q/2;else if(_&&"bottom"===_&&F&&G)k=M(this.chart,D,[{x:D.x,y:D.y+Q/2},{x:I.x+Q/2,y:D.y+Q/2},{x:I.x+Q/2,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.bottomStart=!0,c.topEnd=!0,Z=D.x+Q/2;else if("left"===_&&F&&G){var u=j.x-Q/2;z.x<j.x&&(u=z.x-Q/2),k=M(this.chart,j,[{x:u,y:j.y},{x:u,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.leftStart=!0,c.topEnd=!0,Z=j.x}else"left"===_?(k=M(this.chart,j,[{x:H.x+(j.x-H.x)/2,y:j.y},{x:H.x+(j.x-H.x)/2,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.leftStart=!0,c.topEnd=!0,Z=j.x):"top"===_&&(k=M(this.chart,q,[{x:q.x,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.topStart=!0,c.topEnd=!0,Z=q.x);else k=M(this.chart,D,[{x:D.x,y:D.y+Q/2},{x:D.x+(D.x-H.x)/2,y:D.y+Q/2},{x:D.x+(D.x-H.x)/2,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.bottomStart=!0,c.topEnd=!0,Z=D.x+(D.x-H.x)/2;else k=M(this.chart,D,[{x:D.x,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.bottomStart=!0,c.topEnd=!0,Z=D.x,H.x>Z&&(Z=H.x);else k=this.leftEnd&&G?M(this.chart,D,[{x:D.x,y:D.y+Q/2},{x:D.x+(D.x-H.x)/2,y:D.y+Q/2},{x:D.x+(D.x-H.x)/2,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v):M(this.chart,D,[{x:D.x,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.bottomStart=!0,c.topEnd=!0,Z=D.x+(D.x-H.x)/2;else k=M(this.chart,I,[{x:I.x+Q/2,y:I.y},{x:I.x+Q/2,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.rightStart=!0,c.topEnd=!0,Z=I.x+Q/2;else k=M(this.chart,I,[{x:I.x+Q/2,y:I.y},{x:I.x+Q/2,y:H.y-Q/2},{x:H.x,y:H.y-Q/2},{x:H.x,y:H.y}],v),this.rightStart=!0,c.topEnd=!0,Z=I.x+Q/2;else k=M(this.chart,j,$,v),this.leftStart=!0,c.rightEnd=!0,Z=$.x;else k=M(this.chart,I,z,v),this.rightStart=!0,c.leftEnd=!0,Z=z.x;else k=M(this.chart,D,H,v),this.bottomStart=!0,c.topEnd=!0,Z=D.x;if(this.lineStyle[c.key]&&k&&k.attr(this.lineStyle[c.key]),k){for(var R=0,S=this.chart.lines.length;R<S;R++)for(var C=this.chart.lines[R].attr("path"),O=k.attr("path"),U=0,w=C.length-1;U<w;U++){var d=[];d.push(["M",C[U][1],C[U][2]]),d.push(["L",C[U+1][1],C[U+1][2]]);for(var X=d[0][1],x=d[0][2],a=d[1][1],f=d[1][2],r=0,T=O.length-1;r<T;r++){var p=[];p.push(["M",O[r][1],O[r][2]]),p.push(["L",O[r+1][1],O[r+1][2]]);var L,h=p[0][1],y=p[0][2],s=p[1][1],g=p[1][2],b=B(X,x,a,f,h,y,s,g);if(b.onLine1&&b.onLine2)y===g?h>s?(L=["L",b.x+2*K,y],O.splice(r+1,0,L),L=["C",b.x+2*K,y,b.x,y-4*K,b.x-2*K,y],O.splice(r+2,0,L),k.attr("path",O)):(L=["L",b.x-2*K,y],O.splice(r+1,0,L),L=["C",b.x-2*K,y,b.x,y-4*K,b.x+2*K,y],O.splice(r+2,0,L),k.attr("path",O)):y>g?(L=["L",h,b.y+2*K],O.splice(r+1,0,L),L=["C",h,b.y+2*K,h+4*K,b.y,h,b.y-2*K],O.splice(r+2,0,L),k.attr("path",O)):(L=["L",h,b.y-2*K],O.splice(r+1,0,L),L=["C",h,b.y-2*K,h+4*K,b.y,h,b.y+2*K],O.splice(r+2,0,L),k.attr("path",O)),r+=2,2}}this.chart.lines.push(k),(void 0===this.chart.minXFromSymbols||this.chart.minXFromSymbols>j.x)&&(this.chart.minXFromSymbols=j.x)}(!this.chart.maxXFromLine||this.chart.maxXFromLine&&Z>this.chart.maxXFromLine)&&(this.chart.maxXFromLine=Z)},c.exports=A},function(c,v){c.exports={drawPath:function(c,v,_){var k,M,B="M{0},{1}";for(k=2,M=2*_.length+2;k<M;k+=2)B+=" L{"+k+"},{"+(k+1)+"}";var A=[v.x,v.y];for(k=0,M=_.length;k<M;k++)A.push(_[k].x),A.push(_[k].y);var E=c.paper.path(B,A);E.attr("stroke",c.options["element-color"]),E.attr("stroke-width",c.options["line-width"]);var I=c.options.font,D=c.options["font-family"],q=c.options["font-weight"];return I&&E.attr({font:I}),D&&E.attr({"font-family":D}),q&&E.attr({"font-weight":q}),E},drawLine:function(c,v,_,k){var M,B;"[object Array]"!==Object.prototype.toString.call(_)&&(_=[_]);var A="M{0},{1}";for(M=2,B=2*_.length+2;M<B;M+=2)A+=" L{"+M+"},{"+(M+1)+"}";var E=[v.x,v.y];for(M=0,B=_.length;M<B;M++)E.push(_[M].x),E.push(_[M].y);var I=c.paper.path(A,E);I.attr({stroke:c.options["line-color"],"stroke-width":c.options["line-width"],"arrow-end":c.options["arrow-end"]});var D=c.options.font,q=c.options["font-family"],j=c.options["font-weight"];if(D&&I.attr({font:D}),q&&I.attr({"font-family":q}),j&&I.attr({"font-weight":j}),k){var N=c.paper.text(0,0,k),P=!1,H=_[0];v.y===H.y&&(P=!0);var $=0,z=0;$=v.x,z=v.y,P?($+=c.options["text-margin"]/2,z-=c.options["text-margin"]):($+=c.options["text-margin"]/2,z+=c.options["text-margin"],v.y>H.y&&(z-=2*c.options["text-margin"])),N.attr({"text-anchor":"start","font-size":c.options["font-size"],fill:c.options["font-color"],x:$,y:z}),D&&N.attr({font:D}),q&&N.attr({"font-family":q}),j&&N.attr({"font-weight":j})}return I},checkLineIntersection:function(c,v,_,k,M,B,A,E){var I,D,q,j,N={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(I=(E-B)*(_-c)-(A-M)*(k-v))?N:(j=(_-c)*(D=v-B)-(k-v)*(q=c-M),D=((A-M)*D-(E-B)*q)/I,q=j/I,N.x=c+D*(_-c),N.y=v+D*(k-v),D>0&&D<1&&(N.onLine1=!0),q>0&&q<1&&(N.onLine2=!0),N)}}},function(c,v,_){var k=_(13),M=_(16),B=_(17),A=_(18),E=_(19),I=_(20),D=_(4),q=_(5);c.exports=function(c){c=(c=c||"").trim();for(var v={symbols:{},start:null,drawSVG:function(c,v){var _=this;this.diagram&&this.diagram.clean();var j=new k(c,v);this.diagram=j;var N={};!function c(v,k,P){var H=function(c){if(N[c.key])return N[c.key];switch(c.symbolType){case"start":N[c.key]=new M(j,c);break;case"end":N[c.key]=new B(j,c);break;case"operation":N[c.key]=new A(j,c);break;case"inputoutput":N[c.key]=new E(j,c);break;case"subroutine":N[c.key]=new I(j,c);break;case"condition":N[c.key]=new D(j,c);break;case"parallel":N[c.key]=new q(j,c);break;default:return new Error("Wrong symbol type!")}return N[c.key]}(v);return _.start===v?j.startWith(H):k&&P&&!k.pathOk&&(k instanceof D?(P.yes===v&&k.yes(H),P.no===v&&k.no(H)):k instanceof q?(P.path1===v&&k.path1(H),P.path2===v&&k.path2(H),P.path3===v&&k.path3(H)):k.then(H)),H.pathOk?H:(H instanceof D?(v.yes&&c(v.yes,H,v),v.no&&c(v.no,H,v)):H instanceof q?(v.path1&&c(v.path1,H,v),v.path2&&c(v.path2,H,v),v.path3&&c(v.path3,H,v)):v.next&&c(v.next,H,v),H)}(this.start),j.render()},clean:function(){this.diagram.clean()}},_=[],j=0,N=1,P=c.length;N<P;N++)if("\n"===c[N]&&"\\"!==c[N-1]){var H=c.substring(j,N);j=N+1,_.push(H.replace(/\\\n/g,"\n"))}j<c.length&&_.push(c.substr(j));for(var $=1,z=_.length;$<z;){var F=_[$];F.indexOf("->")<0&&F.indexOf("=>")<0&&F.indexOf("@>")<0?(_[$-1]+="\n"+F,_.splice($,1),z--):$++}function V(c){var v=c.indexOf("(")+1,_=c.indexOf(")");return v>=0&&_>=0?c.substring(v,_):"{}"}function W(c){var v=c.indexOf("(")+1,_=c.indexOf(")");return v>=0&&_>=0?c.substring(v,_):""}function G(c){var _=c.indexOf("(")+1,k=c.indexOf(")");return _>=0&&k>=0?v.symbols[c.substring(0,_-1)]:v.symbols[c]}function Y(c){var v="next",_=c.indexOf("(")+1,k=c.indexOf(")");return _>=0&&k>=0&&(v=x.substring(_,k)).indexOf(",")<0&&"yes"!==v&&"no"!==v&&(v="next, "+v),v}for(;_.length>0;){var J=_.splice(0,1)[0].trim();if(J.indexOf("=>")>=0){var Z,Q=J.split("=>"),K={key:Q[0].replace(/\(.*\)/,""),symbolType:Q[1],text:null,link:null,target:null,flowstate:null,lineStyle:{},params:{}},u=Q[0].match(/\((.*)\)/);if(u&&u.length>1)for(var R=u[1].split(","),S=0;S<R.length;S++){var C=R[0].split("=");2==C.length&&(K.params[C[0]]=C[1])}if(K.symbolType.indexOf(": ")>=0&&(Z=K.symbolType.split(": "),K.symbolType=Z.shift(),K.text=Z.join(": ")),K.text&&K.text.indexOf(":>")>=0?(Z=K.text.split(":>"),K.text=Z.shift(),K.link=Z.join(":>")):K.symbolType.indexOf(":>")>=0&&(Z=K.symbolType.split(":>"),K.symbolType=Z.shift(),K.link=Z.join(":>")),K.symbolType.indexOf("\n")>=0&&(K.symbolType=K.symbolType.split("\n")[0]),K.link){var O=K.link.indexOf("[")+1,U=K.link.indexOf("]");O>=0&&U>=0&&(K.target=K.link.substring(O,U),K.link=K.link.substring(0,O-1))}if(K.text&&K.text.indexOf("|")>=0){var w=K.text.split("|");K.flowstate=w.pop().trim(),K.text=w.join("|")}v.symbols[K.key]=K}else if(J.indexOf("->")>=0)for(var d=J.split("->"),X=(S=0,d.length);S<X;S++){var x=d[S],a=W(x);"true"!==a&&"false"!==a||(x=(x=x.replace("true","yes")).replace("false","no"));var f=G(x),r=Y(x),T=null;if(r.indexOf(",")>=0){var p=r.split(",");r=p[0],T=p[1].trim()}if(v.start||(v.start=f),S+1<X){var L=d[S+1];f[r]=G(L),f["direction_"+r]=T,T=null}}else if(J.indexOf("@>")>=0){var h=J.split("@>");for(S=0,X=h.length;S<X;S++)if(S+1!=X){var y=G(h[S]);L=G(h[S+1]),y.lineStyle[L.key]=JSON.parse(V(h[S+1]))}}}return v}},function(c,v,_){var k=_(1),M=_(0).inherits,B=_(2).drawPath;function A(c,v){v=v||{},k.call(this,c,v),this.textMargin=this.getAttr("text-margin"),this.yes_direction="bottom",this.no_direction="right",this.params=v.params,v.yes&&v.direction_yes&&v.no&&!v.direction_no?"right"===v.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):"top"===v.direction_yes?(this.no_direction="right",this.yes_direction="top"):(this.no_direction="right",this.yes_direction="bottom"):v.yes&&!v.direction_yes&&v.no&&v.direction_no?"right"===v.direction_no?(this.yes_direction="bottom",this.no_direction="right"):(this.yes_direction="right",this.no_direction="bottom"):v.yes&&v.direction_yes&&v.no&&v.direction_no&&v.direction_no!==v.direction_yes?"right"===v.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):"top"===v.direction_yes?(this.no_direction="right",this.yes_direction="top"):(this.no_direction="right",this.yes_direction="bottom"):(this.yes_direction="bottom",this.no_direction="right"),this.yes_direction=this.yes_direction||"bottom",this.no_direction=this.no_direction||"right",this.text.attr({x:2*this.textMargin});var _=this.text.getBBox().width+3*this.textMargin;_+=_/2;var M=this.text.getBBox().height+2*this.textMargin;M+=M/2;var A=_/4,E=(M=Math.max(.5*_,M))/4;this.text.attr({x:A+this.textMargin/2});var I=B(c,{x:A,y:E},[{x:A-_/4,y:E+M/4},{x:A-_/4+_/2,y:E+M/4+M/2},{x:A-_/4+_,y:E+M/4},{x:A-_/4+_/2,y:E+M/4-M/2},{x:A-_/4,y:E+M/4}]);I.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),v.link&&I.attr("href",v.link),v.target&&I.attr("target",v.target),v.key&&(I.node.id=v.key),I.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:I.getBBox().height/2}),this.group.push(I),I.insertBefore(this.text),this.initialize()}M(A,k),A.prototype.render=function(){this.yes_direction&&(this[this.yes_direction+"_symbol"]=this.yes_symbol),this.no_direction&&(this[this.no_direction+"_symbol"]=this.no_symbol);var c=this.getAttr("line-length");if(this.bottom_symbol){var v=this.getBottom();this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+c),this.bottom_symbol.setX(v.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.right_symbol){var _=this.getRight();if(!this.right_symbol.isPositioned){this.right_symbol.setY(_.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+c);var k=this;!function v(){for(var _,M=!1,B=0,A=k.chart.symbols.length;B<A;B++)if(_=k.chart.symbols[B],!k.params["align-next"]||"no"!==k.params["align-next"]){var E=Math.abs(_.getCenter().x-k.right_symbol.getCenter().x);if(_.getCenter().y>k.right_symbol.getCenter().y&&E<=k.right_symbol.width/2){M=!0;break}}if(M){if("end"===k.right_symbol.symbolType)return;k.right_symbol.setX(_.getX()+_.width+c),v()}}(),this.right_symbol.isPositioned=!0,this.right_symbol.render()}}},A.prototype.renderLines=function(){this.yes_symbol&&this.drawLineTo(this.yes_symbol,this.getAttr("yes-text"),this.yes_direction),this.no_symbol&&this.drawLineTo(this.no_symbol,this.getAttr("no-text"),this.no_direction)},c.exports=A},function(c,v,_){var k=_(1);function M(c,v){var _=c.paper.rect(0,0,0,0);v=v||{},k.call(this,c,v,_),this.textMargin=this.getAttr("text-margin"),this.path1_direction="bottom",this.path2_direction="right",this.path3_direction="top",this.params=v.params,"path1"===v.direction_next&&!v[v.direction_next]&&v.next&&(v[v.direction_next]=v.next),"path2"===v.direction_next&&!v[v.direction_next]&&v.next&&(v[v.direction_next]=v.next),"path3"===v.direction_next&&!v[v.direction_next]&&v.next&&(v[v.direction_next]=v.next),v.path1&&v.direction_path1&&v.path2&&!v.direction_path2&&v.path3&&!v.direction_path3?"right"===v.direction_path1?(this.path2_direction="bottom",this.path1_direction="right",this.path3_direction="top"):"top"===v.direction_path1?(this.path2_direction="right",this.path1_direction="top",this.path3_direction="bottom"):"left"===v.direction_path1?(this.path2_direction="right",this.path1_direction="left",this.path3_direction="bottom"):(this.path2_direction="right",this.path1_direction="bottom",this.path3_direction="top"):v.path1&&!v.direction_path1&&v.path2&&v.direction_path2&&v.path3&&!v.direction_path3?"right"===v.direction_path2?(this.path1_direction="bottom",this.path2_direction="right",this.path3_direction="top"):"left"===v.direction_path2?(this.path1_direction="bottom",this.path2_direction="left",this.path3_direction="right"):(this.path1_direction="right",this.path2_direction="bottom",this.path3_direction="top"):v.path1&&!v.direction_path1&&v.path2&&!v.direction_path2&&v.path3&&v.direction_path3?"right"===v.direction_path2?(this.path1_direction="bottom",this.path2_direction="top",this.path3_direction="right"):"left"===v.direction_path2?(this.path1_direction="bottom",this.path2_direction="right",this.path3_direction="left"):(this.path1_direction="right",this.path2_direction="bottom",this.path3_direction="top"):(this.path1_direction=v.direction_path1,this.path2_direction=v.direction_path2,this.path3_direction=v.direction_path3),this.path1_direction=this.path1_direction||"bottom",this.path2_direction=this.path2_direction||"right",this.path3_direction=this.path3_direction||"top",this.initialize()}(0,_(0).inherits)(M,k),M.prototype.render=function(){this.path1_direction&&(this[this.path1_direction+"_symbol"]=this.path1_symbol),this.path2_direction&&(this[this.path2_direction+"_symbol"]=this.path2_symbol),this.path3_direction&&(this[this.path3_direction+"_symbol"]=this.path3_symbol);var c=this.getAttr("line-length");if(this.bottom_symbol){var v=this.getBottom();this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+c),this.bottom_symbol.setX(v.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.top_symbol){var _=this.getTop();this.top_symbol.isPositioned||(this.top_symbol.shiftY(this.getY()-this.top_symbol.height-c),this.top_symbol.setX(_.x+this.top_symbol.width),this.top_symbol.isPositioned=!0,this.top_symbol.render())}var k=this;if(this.left_symbol){var M=this.getLeft();this.left_symbol.isPositioned||(this.left_symbol.setY(M.y-this.left_symbol.height/2),this.left_symbol.shiftX(-(this.group.getBBox().x+this.width+c)),function v(){for(var _,M=!1,B=0,A=k.chart.symbols.length;B<A;B++)if(_=k.chart.symbols[B],!k.params["align-next"]||"no"!==k.params["align-next"]){var E=Math.abs(_.getCenter().x-k.left_symbol.getCenter().x);if(_.getCenter().y>k.left_symbol.getCenter().y&&E<=k.left_symbol.width/2){M=!0;break}}if(M){if("end"===k.left_symbol.symbolType)return;k.left_symbol.setX(_.getX()+_.width+c),v()}}(),this.left_symbol.isPositioned=!0,this.left_symbol.render())}if(this.right_symbol){var B=this.getRight();this.right_symbol.isPositioned||(this.right_symbol.setY(B.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+c),function v(){for(var _,M=!1,B=0,A=k.chart.symbols.length;B<A;B++)if(_=k.chart.symbols[B],!k.params["align-next"]||"no"!==k.params["align-next"]){var E=Math.abs(_.getCenter().x-k.right_symbol.getCenter().x);if(_.getCenter().y>k.right_symbol.getCenter().y&&E<=k.right_symbol.width/2){M=!0;break}}if(M){if("end"===k.right_symbol.symbolType)return;k.right_symbol.setX(_.getX()+_.width+c),v()}}(),this.right_symbol.isPositioned=!0,this.right_symbol.render())}},M.prototype.renderLines=function(){this.path1_symbol&&this.drawLineTo(this.path1_symbol,"",this.path1_direction),this.path2_symbol&&this.drawLineTo(this.path2_symbol,"",this.path2_direction),this.path3_symbol&&this.drawLineTo(this.path3_symbol,"",this.path3_direction)},c.exports=M},function(c,v,_){"use strict";_.r(v);_(23);var k,M=_(7),B=_(8),A=_(9),E=(_(10),_(11)),I=_(22),D=D||[];function q(c){var v={prefix:"",suffix:"前",seconds:"几秒",minute:"1分钟",minutes:"%d分钟",hour:"1小时",hours:"%d小时",day:"1天",days:"%d天",month:"1个月",months:"%d个月",year:"1年",years:"%d年"},_=function(c,_){return v[c]&&v[c].replace(/%d/i,Math.abs(Math.round(_)))},k=function(c){if(c){c=(c=(c=(c=c.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),c=new Date(1e3*c||c);var k=.001*((new Date).getTime()-c)>>0,M=k/60,B=M/60,A=B/24,E=A/365;return v.prefix+(k<45&&_("seconds",k)||k<90&&_("minute",1)||M<45&&_("minutes",M)||M<90&&_("hour",1)||B<24&&_("hours",B)||B<42&&_("day",1)||A<30&&_("days",A)||A<45&&_("month",1)||A<365&&_("months",A/30)||E<1.5&&_("year",1)||_("years",E))+v.suffix}},M=document.getElementsByClassName("timeago");for(var B in M){var A=M[B];"object"==typeof A&&(A.innerHTML=k(A.getAttribute("datetime")))}setTimeout(q,6e4)}function j(c){for(var v=window.location.search.substring(1).split("&"),_=0;_<v.length;_++){var k=v[_].split("=");if(k[0]==c)return k[1]}return!1}if(Date.prototype.Format=function(c){var v={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var _ in/(y+)/.test(c)&&(c=c.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),v)new RegExp("("+_+")").test(c)&&(c=c.replace(RegExp.$1,1==RegExp.$1.length?v[_]:("00"+v[_]).substr((""+v[_]).length)));return c},"function"!=typeof(k=window.Element.prototype).matches&&(k.matches=k.msMatchesSelector||k.mozMatchesSelector||k.webkitMatchesSelector||function(c){for(var v=(this.document||this.ownerDocument).querySelectorAll(c),_=0;v[_]&&v[_]!==this;)++_;return Boolean(v[_])}),"function"!=typeof k.closest&&(k.closest=function(c){for(var v=this;v&&1===v.nodeType;){if(v.matches(c))return v;v=v.parentNode}return null}),browser.wechat&&location.origin==site.home){var N=new XMLHttpRequest;N.onreadystatechange=function(){if(4==N.readyState&&200==N.status){var c=JSON.parse(N.responseText);B.config({debug:!1,appId:c.appId,timestamp:c.timestamp,nonceStr:c.nonceStr,signature:c.signature,jsApiList:["chooseImage","previewImage"]})}},N.open("GET",site.api+"/wechat/jssdk.php?url="+location.href,!0),N.send(),B.ready(function(){})}window.addEventListener("beforeunload",function(c){document.getElementById("menu").checked=!1}),document.addEventListener("DOMContentLoaded",function(c){var v=new M("comment",{forum:site.forum,site:site.home,api:site.api+"/disqus",title:page.title,url:page.url,mode:2,timeout:3e3,slug:page.url.slice(1).split(".")[0],init:!0,toggle:"comment-toggle",sort:"newest",emoji_path:site.api+"/emoji/unicode/"});v.count(),q();var _=document.querySelector(".post-toc"),k=document.querySelectorAll(".page-content h2,.page-content h3"),N=document.documentElement.clientHeight;function P(){var c=document.documentElement.clientWidth/2-410-_.offsetWidth;c<15?_.style.visibility="hidden":(_.style.visibility="visible",_.style.left=c+"px")}_&&(document.addEventListener("scroll",function(){for(var c=[],v=[],_=0;_<k.length;_++)c.push(k[_].id),v.push(k[_].offsetTop);var M=document.documentElement.scrollTop||document.body.scrollTop,B=document.body.offsetHeight-k[k.length-1].offsetTop;for(_=0;_<v.length;_++)_===k.length-1&&N>B&&(M+=N-B),v[_]<=M&&v[_]<M+N&&(document.querySelector(".active")&&document.querySelector(".active").classList.remove("active"),document.querySelector('[href="#'+c[_]+'"]').classList.add("active"))},!1),window.addEventListener("resize",P,!1),P()),"参考资料"===document.querySelectorAll("h2")[document.querySelectorAll("h2").length-1].innerHTML&&document.querySelectorAll("h2")[document.querySelectorAll("h2").length-1].insertAdjacentHTML("afterend",'<ol id="refs"></ol>');for(var H=document.getElementsByTagName("a"),$=[],z=0;z<H.length;z++)if(H[z].hostname!=location.hostname&&!1===/^javascript/.test(H[z].href)){var F=H[z].innerHTML;if(/\[[0-9]*\]/.test(F)){var V=parseInt(F.slice(1,-1));$.push({num:V,title:H[z].title,href:H[z].href}),H[z].classList.add("ref"),H[z].href="#note-"+V,H[z].id="ref-"+V}else H[z].target="_blank"}$=$.sort(function(c,v){return+(c.num>v.num)||+(c.num===v.num)-1});for(z=0;z<$.length;z++)document.getElementById("refs").insertAdjacentHTML("beforeend",'<li id="note-'+$[z].num+'" class="note"><a href="#ref-'+$[z].num+'">^</a> <a href="'+$[z].href+'" title="'+$[z].title+'" class="exf-text" target="_blank">'+$[z].title+"</a></li>");if("post"==page.layout){var W=document.querySelectorAll('.post-content img[data-src]:not([class="emoji"])'),G={src:[],thumb:[],title:[],coord:[]};for(z=0;z<W.length;z++)G.thumb[z]=W[z].src,G.src[z]=W[z].dataset.src;G.jpg=G.src.filter(function(c){return c.indexOf(".jpg")>-1&&new RegExp(site.img,"i").test(c)}),[].forEach.call(W,function(c,v){G.title[v]=c.title||c.parentElement.textContent.trim()||c.alt,c.title=G.title[v],c.classList.add("post-image"),c.parentElement.outerHTML=c.parentElement.outerHTML.replace("<p>",'<figure class="post-figure" data-index='+v+">").replace("</p>","</figure>").replace(c.parentElement.textContent,"");var _=document.querySelector('.post-image[data-src="'+G.src[v]+'"]');new RegExp(site.img,"i").test(G.src[v])&&_.insertAdjacentHTML("afterend",'<figcaption class="post-figcaption">&#9650; '+G.title[v]+"</figcaption>"),_.addEventListener("click",function(){browser.wechat&&browser.mobile?B.previewImage({current:G.src[v],urls:G.src}):window.open(G.src[v])})});var Y=function(c){if(c<G.jpg.length){var v=G.jpg[c],_=new XMLHttpRequest;_.open("GET",v+"?exif",!0),_.onreadystatechange=function(){if(4==this.readyState){if(200==this.status){var _=JSON.parse(this.responseText),k=function(c){return c?c.val:"无"};if(_.DateTimeOriginal){var M=_.DateTimeOriginal.val.split(/\:|\s/),B=M[0]+"-"+M[1]+"-"+M[2]+" "+M[3]+":"+M[4],E=k(_.Make),I=k(_.Model),D=k(_.FNumber),q=k(_.ExposureTime),j=k(_.ISOSpeedRatings),N=k(_.FocalLength);document.querySelector('.post-image[data-src="'+v+'"]').closest(".post-figure").dataset.exif="时间: "+B+" 器材: "+(I.indexOf(E)>-1?"":E)+" "+I+" 光圈: "+D+" 快门: "+q+" 感光度: "+j+" 焦距: "+N}if(_.GPSLongitude){for(var P=_.GPSLatitude.val.split(", "),H=_.GPSLongitude.val.split(", "),$=0,z=0,F=0;F<P.length;F++)$+=P[F]/Math.pow(60,F),z+=H[F]/Math.pow(60,F);$="S"==_.GPSLatitudeRef.val?-$:$,z="W"==_.GPSLongitudeRef.val?-z:z,G.coord[c]=A.wgs84togcj02(z,$).join(",")}}Y(++c)}},_.send()}else{var k=new XMLHttpRequest;k.open("GET","//restapi.amap.com/v3/geocode/regeo?key=890ae1502f6ab57aaa7d73d32f2c8cc1&batch=true&location="+G.coord.filter(function(){return!0}).join("|"),!0),k.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var c=JSON.parse(this.responseText);if("OK"==c.info)for(var v,_,k,M,B=0,A=0;B<G.jpg.length;B++)v=c.regeocodes[A],B in G.coord&&v&&(_=(v=v.addressComponent).city||"",k=v.district||"",M=v.township||"",document.querySelector('[data-src="'+G.jpg[B]+'"]').title="摄于"+_+k+M,A++)}},k.send()}};G.jpg.length>0&&Y(0);var J=document.getElementsByClassName("language-flow");[].forEach.call(J,function(c,v){var _="flow-"+(v+1),k=document.createElement("div");k.classList.add("flow"),k.id=_;var M=c.parentNode;M.insertAdjacentElement("beforebegin",k),M.style.display="none",E.parse(c.innerText).drawSVG(_,{"yes-text":"是","no-text":"否"})}),window.addEventListener("load",function(){var c=document.querySelectorAll(".flow a");[].forEach.call(c,function(c){/^#/i.test(c.href)&&(c.target="_self")})}),(s=new XMLHttpRequest).open("GET","/posts.json",!0),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(h=JSON.parse(s.responseText),function(c){var v=[],_=0,k="";for(;_<5;){var M=Math.floor(Math.random()*c.length);"-1"==v.indexOf(M)&&(k+='<li class="post-extend-item"><a class="post-extend-link" href="'+c[M].url+'" title="'+c[M].title+'">'+c[M].title+"</a></li>\n",v.push(M),_++)}document.querySelector("#random-posts").insertAdjacentHTML("beforeend",k)}(function(c,v){var _=[],k=[];h.forEach(function(v,M){v.tags.some(function(v){return c.indexOf(v)>-1})&&v.url!=location.pathname&&(_.push(v),k.push(M))});for(;_.length<5;){var M=Math.floor(Math.random()*h.length),B=h[M];"-1"==k.indexOf(M)&&B.category==v&&B.url!=location.pathname&&(_.push(B),k.push(M))}return _}(page.tags,page.category)))},s.send(null);new I("qrcode",{text:document.getElementById("qrcode").dataset.qrcodeUrl,width:80,height:80,colorDark:"#000000",colorLight:"#ffffff",correctLevel:I.CorrectLevel.L,useSVG:!0});if(document.getElementById("wechat-qrcode"))new I("wechat-qrcode",{text:document.getElementById("wechat-qrcode").dataset.qrcodeUrl,width:80,height:80,colorDark:"#000000",colorLight:"#ffffff",correctLevel:I.CorrectLevel.L,useSVG:!0})}if("/archive.html"==page.url&&document.querySelector(".page-search-input").addEventListener("keyup",function(c){for(var v=document.getElementsByClassName("archive-item-link"),_=0;_<v.length;_++)v[_].title.toLowerCase().indexOf(this.value.toLowerCase())>-1?v[_].closest("li").style.display="block":v[_].closest("li").style.display="none";13==c.keyCode&&(location.href="/search.html?keyword="+this.value)}),"/search.html"==page.url){var Z,Q=j("keyword"),K=document.querySelector(".search-input"),u=document.querySelector(".search-result"),R=new XMLHttpRequest;function S(c){u.innerHTML="";var v="搜索："+c+" | "+site.title,_="/search.html?keyword="+c,k=(u.length,"");Z.forEach(function(v){if((v.title+v.tags.join("")+v.content).toLowerCase().indexOf(c.toLowerCase())>-1){var _=v.content.toLowerCase().indexOf(c.toLowerCase()),M=v.content.substr(_,c.length),B=_>75?_-75:0,A=B+150;k+='<div class="search-result-item">      <i class="search-result-thumb" data-src="'+v.thumb+'" style="background-image:url('+v.thumb+')"></i>      <div class="search-result-content">        <div class="search-result-header">           <div class="search-result-title"><a class="search-result-link" target="_blank" href="'+v.url+'">'+v.title+'</a></div>           <div class="search-result-comment"></div>        </div>        <div class="search-result-desc">'+v.content.slice(B,A).replace(new RegExp(M,"g"),'<span class="search-result-highlight">'+M+"</span>")+"</div>      </div>    </div>"}}),u.innerHTML=k,document.title=v,history.replaceState({title:v,url:_},v,_),site.home===location.origin&&window.parent==window&&D.push(["_trackPageview",_])}R.open("GET","/search.json",!0),R.onreadystatechange=function(){4==R.readyState&&200==R.status&&(Z=JSON.parse(R.responseText),Q&&(K.value=decodeURI(Q),S(decodeURI(Q))),K.placeholder="请输入关键词，回车搜索")},R.send(null),document.querySelector(".search-input").addEventListener("keyup",function(c){13==c.keyCode&&S(decodeURI(this.value))})}if("/tags.html"==page.url){var C;Q=j("keyword");function O(c){var v="标签："+c+" | "+site.title,_="/tags.html?keyword="+c,k=document.getElementById("tags-table");k.style.display="table",k.querySelector("thead tr").innerHTML="<th colspan=2>以下是标签含有“"+c+"”的所有文章</th>";var M="";C.forEach(function(v){if(v.tags.indexOf(c)>-1){var _=v.date.slice(0,10).split("-");_=_[0]+" 年 "+_[1]+" 月 "+_[2]+" 日",M+="<tr><td><time>"+_+'</time></td><td><a href="'+v.url+'" title="'+v.title+'">'+v.title+"</a></td></tr>"}}),k.getElementsByTagName("tbody")[0].innerHTML=M,document.title=v,history.replaceState({title:v,url:_},v,_),site.home===location.origin&&window.parent==window&&D.push(["_trackPageview",_])}(s=new XMLHttpRequest).open("GET","/posts.json",!0),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&(C=JSON.parse(s.responseText),Q&&O(decodeURI(Q)))},s.send(null);var U=document.getElementsByClassName("post-tags-item"),w=U.length;for(z=0;z<w;z++)U[z].addEventListener("click",function(c){O(c.currentTarget.title),c.preventDefault()},!1)}var d=function(c){return c?c<10?"0"+c:c:"00"};if("/running.html"==page.url){var X=document.querySelector(".running-table-container"),x=new XMLHttpRequest;x.open("GET",site.api+"/nike/best.php",!0),x.onreadystatechange=function(){if(4==x.readyState&&200==x.status){for(var c=JSON.parse(x.responseText).records,v="",_="",k=0;k<c.length;k++){var M=c[k];switch(M.type_id){case"fastest.run.continuous.5k":v+="<th>5 公里</th>";break;case"fastest.run.continuous.10k":v+="<th>10 公里</th>";break;case"fastest.run.continuous.half_marathon":v+="<th>半马</th>";break;case"fastest.run.continuous.marathon":v+="<th>全马</th>";break;case"longest.run.distance.activity":v+="<th>最远记录</th>";break;case"longest.run.duration.activity":v+="<th>最久记录</th>"}if(M.type_id.indexOf("distance")>-1)_+="<td>"+(M.value/1e3).toFixed(2)+" 公里</td>";if(/5k|10k|marathon|duration/.test(M.type_id)){var B=M.value,A=parseInt(B/60),E=parseInt(B%60),I=parseInt(A%60),D=parseInt(A/60);_+="<td>"+d(D)+":"+d(I)+":"+d(E)+"</td>"}}v="<thead><tr>"+v+"</tr></thead>",_="<tbody><tr>"+_+"</tr></tbody>",X.innerHTML="<table>"+v+_+"</table>"}},x.send();var a=new Date,f="",r=[],T=document.querySelector(".running-list"),p=document.querySelector(".running-loadmore-link"),L=function(){p.style.display="none";var c="",v=new XMLHttpRequest;v.open("GET",site.api+"/nike/posts.php"+f,!0),v.onreadystatechange=function(){4==v.readyState&&200==v.status&&((r=JSON.parse(v.responseText)).forEach(function(v){a=new Date(v.published),c+='<div class="running-item"><a class="running-item-thumb" href="'+v.tags.image.url+'" target="_blank"><img class="running-item-image" src="'+v.tags.image.thumb+'"></a><div class="running-item-intro"><p>'+a.Format("yyyy-MM-dd hh:mm")+'</p><p><a href="/running-map.html?id='+v.object.id+'" target="_blank" title="跑步路径详情"><svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M552.279379 912.204821c-13.853519-0.723477-27.333532-1.896186-40.054251-3.480264-11.007705-1.622964-20.9788 6.393617-22.338774 17.381879-1.369184 10.988262 6.423293 20.979824 17.391089 22.349007 13.659091 1.700735 28.088732 2.971681 42.888809 3.75451 0.36225 0.019443 0.714268 0.019443 1.075495 0.019443 10.56973 0 19.407002-8.290827 19.973914-18.965957C571.803038 922.196383 563.328016 912.771733 552.279379 912.204821zM435.441347 891.459335c-12.717649-4.555759-24.292266-9.893324-34.391275-15.818267-9.54233-5.650697-21.811772-2.385327-27.40414 7.117095-5.602601 9.54233-2.40477 21.820981 7.128351 27.41335 12.239765 7.175423 26.083052 13.549597 41.138956 18.9854 2.238994 0.781806 4.514827 1.153266 6.765077 1.153266 8.211009 0 15.905248-5.064342 18.848277-13.256932C451.260637 906.671805 445.854511 895.173936 435.441347 891.459335zM949.942307 313.422316c-5.083785-9.854439-17.166985-13.70514-26.963095-8.641821 0 0-6.843872 3.539616-18.222013 10.011005-9.600659 5.473665-12.964266 17.695011-7.488555 27.316136 3.694135 6.471388 10.460236 10.088776 17.420765 10.088776 3.361561 0 6.765077-0.841158 9.893324-2.620687 10.285251-5.846148 16.542768-9.092076 16.738219-9.190313C951.135482 335.322092 955.007673 323.256288 949.942307 313.422316zM716.209962 511.901763c3.207042 1.877767 6.707772 2.777253 10.16757 2.777253 6.843872 0 13.531178-3.499707 17.265222-9.81453 5.964852-10.128685 13.491269-20.590967 22.328541-31.148417 7.118118-8.466835 6.004761-21.097504-2.463098-28.214599-8.485255-7.118118-21.116947-5.982248-28.195156 2.482541-10.264784 12.221346-19.065218 24.51944-26.160823 36.506449C703.539384 494.012324 706.687074 506.271532 716.209962 511.901763zM351.513866 812.818253c-0.167822-10.910491-9.073656-19.72832-20.022009-19.72832-11.057847 0-20.022009 8.974395-20.022009 20.041452 0 1.896186 0.261966 12.0832 5.542226 26.357298 2.991124 8.095375 10.645454 13.080923 18.780739 13.080923 2.306532 0 4.663206-0.410346 6.951319-1.270946 10.371208-3.832282 15.661701-15.329127 11.82942-25.731034C351.863836 818.292941 351.531262 813.287951 351.513866 812.818253zM332.116073 192.214766c-77.409021 0-140.154064 62.724577-140.154064 140.116201 0 77.388555 62.745043 140.133597 140.154064 140.133597 77.409021 0 140.154064-62.745043 140.154064-140.133597C472.270137 254.939343 409.525094 192.214766 332.116073 192.214766zM332.116073 432.165744c-55.285141 0-100.110045-44.853557-100.110045-100.168374 0-55.314817 44.824905-100.169397 100.110045-100.169397 55.29435 0 100.110045 44.855604 100.110045 100.169397C432.226119 387.31321 387.410424 432.165744 332.116073 432.165744zM834.777381 760.064772c-10.831696 2.248204-17.793248 12.845563-15.545044 23.678282 1.349741 6.472412 2.034333 12.827143 2.034333 18.868743 0 4.927219-0.470721 9.854439-1.369184 14.566764-2.112104 10.871605 4.985548 21.37175 15.857153 23.443945 1.270946 0.273223 2.561335 0.37146 3.811816 0.37146 9.406231 0 17.793248-6.627954 19.631106-16.20917 1.407046-7.234775 2.112104-14.665001 2.112104-22.172999 0-8.759501-0.958838-17.851577-2.855024-27.001981C856.186993 764.757654 845.511863 757.874897 834.777381 760.064772zM781.535783 870.850971c-9.42465 6.53074-20.490683 12.435217-32.868595 17.519002-10.226922 4.223185-15.09479 15.915481-10.892071 26.161846 3.187599 7.722892 10.657734 12.396331 18.516726 12.396331 2.542916 0 5.14416-0.48914 7.626701-1.505283 15.036461-6.198166 28.64541-13.510712 40.416502-21.644973 9.092076-6.335289 11.358699-18.809391 5.063319-27.882024C803.100938 866.823238 790.586926 864.554568 781.535783 870.850971zM736.211505 603.369987c-5.728468-10.245342-9.228175-20.88261-10.381441-31.655977-1.173732-10.988262-10.813277-18.927071-22.035876-17.754363-11.007705 1.172709-18.96698 11.028171-17.773805 22.035876 1.739621 16.170285 6.863315 31.969109 15.270798 46.946218 3.656273 6.550183 10.459213 10.245342 17.479093 10.245342 3.305279 0 6.667863-0.821715 9.757225-2.561335C738.187509 625.229854 741.627864 613.028974 736.211505 603.369987zM831.922357 361.444029c-11.164271 8.016581-22.680559 16.736173-34.099632 26.024723-8.565073 6.999414-9.854439 19.611663-2.87549 28.17469 3.970428 4.868891 9.718339 7.371898 15.545044 7.371898 4.439102 0 8.916067-1.467421 12.629645-4.497431 10.753925-8.759501 21.606087-16.993023 32.145118-24.538883 8.973372-6.433526 11.048637-18.946514 4.594645-27.922956C853.430206 357.063255 840.936661 355.011526 831.922357 361.444029zM817.96139 693.546799c-8.464789-11.105942-18.24248-22.25077-29.05371-33.219589-7.744381-7.879458-20.413935-7.958252-28.312836-0.214894-7.880481 7.742335-7.958252 20.451798-0.196475 28.331255 9.620102 9.757225 18.301831 19.689435 25.76992 29.427216 3.950985 5.161556 9.894348 7.860015 15.917528 7.860015 4.242627 0 8.523117-1.348718 12.141528-4.125971C823.026756 714.859197 824.688605 702.3063 817.96139 693.546799zM673.056116 907.883399c-12.748349 1.818415-26.160823 3.167133-39.887452 4.047176-11.036357 0.723477-19.404955 10.245342-18.692734 21.292955 0.684592 10.597359 9.494235 18.73162 19.963681 18.73162 0.430812 0 0.870834-0.038886 1.309832-0.038886 14.743796-0.977257 29.191856-2.424212 42.938951-4.379751 10.948353-1.564635 18.554588-11.692297 17.010419-22.641673C694.1352 913.944442 684.025958 906.240993 673.056116 907.883399zM332.116073 71.770604c-143.752008 0-260.286118 117.354801-260.286118 262.10351 0 212.967416 260.286118 418.643776 260.286118 418.643776s260.286118-205.675336 260.286118-418.643776C592.402191 189.125405 475.868081 71.770604 332.116073 71.770604zM332.076164 699.882088c-23.824615-21.25407-61.619406-57.230446-99.347682-102.475929-55.138808-66.107627-120.854509-165.494195-120.854509-263.532045 0-122.418121 98.800213-222.059492 220.2421-222.059492 121.440863 0 220.2421 99.641371 220.2421 222.059492C552.358173 487.871463 394.352533 644.234697 332.076164 699.882088z"></path></svg></a>'+v.tags.text+"</p></div></div>"}),T.insertAdjacentHTML("beforeend",c),r.length<12?(p.innerHTML="没有更多啦",p.style.display="inline",p.style.pointerEvents="none"):p.style.display="inline",a.setTime(a.getTime()-1),f="?start_time="+a.toISOString())},v.send(null)};p.addEventListener("click",L,!1),L()}if("/tech.html"==page.url||"/life.html"==page.url||"/album.html"==page.url){var h,y=j("page")?parseInt(j("page")):1,s=(r=[],new XMLHttpRequest),g=page.url.slice(1,-5);s.open("GET","/posts.json",!0),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&((h=JSON.parse(s.responseText)).forEach(function(c){c.category==g&&r.push(c)}),function c(_){var k="";switch(page.url){case"/tech.html":k="技术";break;case"/life.html":k="生活";break;case"/album.html":k="相册"}var M=1==_?k+" | "+site.title:k+"：第"+_+"页 | "+site.title;var B=1==_?page.url:page.url+"?page="+_;var A="";var E=r.length;var I=10*(_-1);var j=E>10*_?10*_:E;for(var N=I;N<j;N++){var P=r[N];A+='<article class="post-item">    <i class="post-item-thumb" data-src="'+P.thumb+'" style="background-image:url('+P.thumb+')"></i>    <section class="post-item-summary">    <h3 class="post-item-title"><a class="post-item-link" href="'+P.url+'" title="'+P.title+'">'+P.title+(P.images>0?"["+P.images+"P]":"")+'</a></h3>    <time class="post-item-date timeago" datetime="'+P.date+'"></time>    </section>    <a class="post-item-comment" title="查看评论" data-disqus-url="'+P.url+'" href="'+P.url+'#comment"></a></article>'}var H=Math.ceil(E/10);var $=_>1?_-1:0;var z=_<H?_+1:0;var F=$?'<a class="pagination-item-link" href="'+page.url+"?page="+$+'" data-page="'+$+'">&laquo; 较新文章</a>':"";var V=z?'<a class="pagination-item-link" href="'+page.url+"?page="+z+'" data-page="'+z+'">&laquo; 较旧文章</a>':"";A+='<nav class="pagination"><ul class="pagination-list"><li class="pagination-item">'+V+'</li><li class="pagination-item">'+_+" / "+H+'</li><li class="pagination-item">'+F+"</li></ul></nav>";scrollTo(0,0);document.querySelector(".post-list").innerHTML=A;q();v.count();var W=document.getElementsByClassName("pagination-item-link");for(var N=0;N<W.length;N++)W[N].addEventListener("click",function(v){var _=parseInt(v.currentTarget.dataset.page);c(_),v.preventDefault()});document.title=M;history.replaceState({title:M,url:B},M,B);site.home===location.origin&&window.parent==window&&D.push(["_trackPageview",B])}(y))},s.send(null)}});site.home===location.origin&&window.parent==window&&setTimeout(function(){var c=document.getElementsByTagName("script")[0],v=document.createElement("script");v.src="//hm.baidu.com/hm.js?"+site.tongji,c.parentNode.insertBefore(v,c);var _=document.createElement("script");_.src="https://zz.bdstatic.com/linksubmit/push.js",c.parentNode.insertBefore(_,c),function(c,v,_,k,M,B,A){c.GoogleAnalyticsObject=M,c.ga=c.ga||function(){(c.ga.q=c.ga.q||[]).push(arguments)},c.ga.l=1*new Date,B=v.createElement(_),A=v.getElementsByTagName(_)[0],B.async=1,B.src="//www.google-analytics.com/analytics.js",A.parentNode.insertBefore(B,A)}(window,document,"script",0,"ga"),ga("create",site.analytics,"auto"),ga("send","pageview")},1e3)},function(module,exports,__webpack_require__){var factory;window,factory=function(){return function(c){var v={};function _(k){if(v[k])return v[k].exports;var M=v[k]={i:k,l:!1,exports:{}};return c[k].call(M.exports,M,M.exports,_),M.l=!0,M.exports}return _.m=c,_.c=v,_.d=function(c,v,k){_.o(c,v)||Object.defineProperty(c,v,{enumerable:!0,get:k})},_.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},_.t=function(c,v){if(1&v&&(c=_(c)),8&v)return c;if(4&v&&"object"==typeof c&&c&&c.__esModule)return c;var k=Object.create(null);if(_.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:c}),2&v&&"string"!=typeof c)for(var M in c)_.d(k,M,function(v){return c[v]}.bind(null,M));return k},_.n=function(c){var v=c&&c.__esModule?function(){return c.default}:function(){return c};return _.d(v,"a",v),v},_.o=function(c,v){return Object.prototype.hasOwnProperty.call(c,v)},_.p="",_(_.s="./src/iDisqus.js")}({"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./src/iDisqus.scss":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader!./node_modules/postcss-loader/src??ref--4-2!./node_modules/sass-loader/lib/loader.js!./src/iDisqus.scss ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);\n// imports\n\n\n// module\nexports.push([module.i, ".comment{position:relative;font:13.5px/1.6 \\"Helvetica Neue\\", Helvetica, Arial, \\"\\\\5FAE\\\\8F6F\\\\96C5\\\\9ED1\\", \\"Microsoft YaHei\\", sans-serif;color:#2a2e2e;margin:5px auto;word-wrap:break-word;padding:0;box-sizing:border-box}.comment#disqus_thread{display:none}.comment input,.comment textarea,.comment select,.comment button{font:13.5px/1.6 \\"Helvetica Neue\\", Helvetica, Arial, \\"\\\\5FAE\\\\8F6F\\\\96C5\\\\9ED1\\", \\"Microsoft YaHei\\", sans-serif}.comment a{text-decoration:none}.comment .icon{max-width:20px}.comment *{margin:0;padding:0;box-sizing:border-box}.comment strong,.comment b{font-weight:bold;color:#000}.comment :focus{outline:none}.comment abbr[title]{text-decoration:none}.comment .hide{display:none}.comment .init-bg{display:none}.comment.init{display:block}.comment.init>*{display:none}.comment.init .init-container{margin:20px auto 20px;color:#9d9ea1;text-align:center;display:block;position:relative;height:100px;line-height:40px;width:250px}.comment.init .init-container .init-bg{display:block;-webkit-transform:rotate(-135deg);transform:rotate(-135deg);margin:0 auto}.comment.init .init-container:before,.comment.init .init-container:after{display:block;position:absolute}.comment.init .init-container:before{content:attr(data-tips);top:64px;left:0;width:100%;height:30px;line-height:30px}.comment.init .init-container:after{content:\\"\\";box-sizing:border-box;width:26px;height:26px;top:20px;left:115px;border-width:3px;border-style:solid;border-color:#9d9ea1 transparent;border-radius:13px;-webkit-transform-origin:50% 50% 0;transform-origin:50% 50% 0;-webkit-animation:disqus-loader-spinner-animation .7s infinite linear;animation:disqus-loader-spinner-animation .7s infinite linear}.comment.loading .comment-order{pointer-events:none}.comment-box{display:flex;margin:0 0 20px}.comment-navbar{display:flex;justify-content:space-between;align-items:center;height:48px}.comment-navbar .comment-navbar-item{display:flex}.comment-navbar .comment-recommend{display:flex;align-items:center;line-height:27px;height:27px;border:1px solid #656c7a;padding:0 5px;border-radius:3px;color:#656c7a;font-size:12px}.comment-navbar .comment-recommend .icon{fill:#656c7a;width:16px;height:16px}.comment-navbar .comment-recommend.voted .icon{fill:#f05f70}.comment-navbar .comment-recommend-text{margin:0 5px}.comment-navbar .comment-order-label{display:block;height:20px;line-height:20px;margin-right:10px;font-size:12px;border-radius:2px;padding:0 5px;background-color:#e7e9ee;cursor:pointer}.comment-navbar .comment-order-label:last-child{margin-right:0}.comment-navbar .comment-order-radio{display:none}.comment-navbar .comment-order-radio:checked+.comment-order-label{color:#fff;background-color:#c2c6cc}.comment-header{display:flex;justify-content:space-between;border-bottom:2px solid #e7e9ee}.comment-header .comment-header-item{height:36px;line-height:36px;font-weight:bold;font-size:15px;color:#656c7a;display:inline-block;border-bottom:2px solid #656c7a;margin-bottom:-2px;margin-right:10px;padding:0 5px}.comment-header .comment-header-item:last-child{margin-right:0;border-bottom-color:transparent}.comment-header .comment-header-item:last-child:hover{color:#2a2a2a}.comment-header #comment-user{display:none}.comment-header #comment-user:checked+.comment-user{color:#2a2a2a}.comment-header #comment-user:checked+.comment-user:after{border-top-color:#2a2a2a}.comment-header #comment-user:checked+.comment-user .comment-logout{display:block}.comment-header .comment-login{cursor:pointer}.comment-header .comment-user{cursor:pointer;position:relative;padding-right:15px}.comment-header .comment-user:after{content:\\"\\";display:block;position:absolute;height:0;width:0;border:5px solid transparent;border-top-color:#656c7a;top:50%;right:0;margin-top:0}.comment-header .comment-user:hover:after{border-top-color:#2a2a2a}.comment-header .comment-logout{cursor:pointer;z-index:1;display:none;position:absolute;border-radius:3px;border:2px solid #c2c6cc;width:80px;background-color:#fff;height:32px;line-height:28px;text-align:center;right:0;top:80%;color:#656c7a;font-size:13px}.comment-header .comment-logout:hover{color:#0095dd}.comment-header .comment-show{width:120px;text-align:center;position:relative;transition:all 0.2s ease-in-out;color:#2a2e2e;text-transform:capitalize;cursor:pointer;display:none}.comment-header .comment-header-count{width:120px;text-align:center;transition:all 0.2s ease-in-out;text-transform:capitalize;display:inline-block}.comment-header .comment-header-count:after{content:\\" \\";display:block;height:2px;position:absolute;bottom:-2px;left:0px;right:0px;background:#2e9fff}.comment-form{display:flex;flex-direction:column;width:calc(100% - 60px)}.comment-item-child .comment-form{width:calc(100% - 42px)}.placeholder{color:#7f919e;line-height:30px;font-size:12px;position:absolute;top:7px;left:10px;right:9px;white-space:nowrap;text-overflow:ellipsis;cursor:text;overflow:hidden}.comment-form-wrapper{display:flex;flex-direction:column;border:2px solid #dbdfe4;border-radius:4px;width:100%}.comment-actions{background:#f6f8f9;border-radius:0 0 2px 2px;display:flex;justify-content:space-between;height:0;transition:opacity linear .2s;opacity:0;filter:alpha(opacity=0);visibility:hidden}.comment-actions .comment-actions-group{display:flex;position:relative}.comment-actions .comment-actions-input{display:none}.comment-actions .comment-actions-input[type=\\"checkbox\\"]:checked+.comment-actions-label .icon{fill:#1d2f3a}.comment-actions .comment-actions-label{display:inline-block;width:34px;height:34px;cursor:pointer}.comment-actions .comment-actions-label .icon{height:18px;margin:8px;display:inline-block;color:#737474;cursor:pointer;fill:#c2c6cc;transition:all .2s}.comment-actions .comment-actions-label:hover .icon{fill:#1d2f3a !important}.comment-actions .emojione-list{cursor:default;position:absolute;opacity:0;filter:alpha(opacity=0);visibility:hidden;list-style:none;width:125px;background-color:#fff;padding:5px 0 0 5px;border-radius:2px;border:2px solid #c2c6cc;bottom:100%;left:-2px;margin-left:0;display:flex;flex-wrap:wrap}.comment-actions .emojione-item{position:relative;height:24px;width:24px;margin:0 5px 5px 0}.comment-actions .emojione-item:before{content:\\"\\";display:inline-block;position:absolute;left:0;top:0;bottom:0;right:0;z-index:4}.comment-actions .emojione-item-image{height:24px;width:24px}.comment-actions .comment-actions-input[type=\\"checkbox\\"]:checked+.emojione:before{position:fixed;top:0;left:0;width:100%;height:100%;content:\\"\\";display:block;cursor:default}.comment-actions .comment-actions-input[type=\\"checkbox\\"]:checked+.emojione .emojione-list{opacity:1;filter:alpha(opacity=100);visibility:visible !important}.expanded .comment-image{display:flex;overflow-x:auto}.expanded .comment-image .comment-image-progress{position:relative;height:80px;width:0;background:url(\\"https://a.disquscdn.com/next/embed/assets/img/loader.5cc23909da9c4a9874500d7a85c4125f.gif\\") center no-repeat;margin:0 5px;overflow:hidden}.expanded .comment-image .comment-image-progress:before{position:absolute;content:\\"\\";display:block;top:55px;bottom:20px;left:0;right:0;height:5px;width:100%;background-color:#dbdfe4}.expanded .comment-image .comment-image-progress .comment-image-loaded{position:absolute;background-color:#7f919e;top:55px;left:0;right:0;bottom:20px;height:5px;width:0}.expanded .comment-image .comment-image-list{list-style:none;display:flex}.expanded .comment-image .comment-image-item{height:80px;margin-left:5px;position:relative;border-radius:3px;overflow:hidden;flex:none}.expanded .comment-image .comment-image-item .comment-image-object{display:block;height:100%;border-radius:3px;overflow:hidden}.expanded .comment-image .comment-image-item.loading .comment-image-object{width:20px;margin:0 30px}.comment-form-wrapper.editing+.comment-form-user{opacity:1;height:auto;margin-top:10px}.comment-form-wrapper.editing .comment-form-textarea{height:74px;font-size:13.5px;line-height:16px}.comment-form-wrapper.editing .comment-image{transition:padding-bottom .15s ease-in-out;background-color:rgba(16,48,68,0.03)}.comment-form-wrapper.editing .comment-actions{transition:all 0.2s ease-in-out;border-top:solid 2px #dbdfe4;opacity:1;height:36px;filter:alpha(opacity=100);visibility:visible !important}.comment-form-wrapper.editing .comment-actions-form{transition:all .3s .5s;margin:87px -2px -2px}.comment-form-wrapper.editing .comment-form-submit{opacity:1}.comment-form-wrapper.focus{border:2px solid #c2c6cc}.comment-form-wrapper.focus .comment-actions{border-top:2px solid #c2c6cc}.comment-form-wrapper.focus .comment-actions-label .icon{fill:#656c7a}.comment-form-wrapper.focus.expanded .comment-image{border-top:2px solid #c2c6cc}.comment-form-wrapper.preview{border:2px solid #c2c6cc}.comment-form-wrapper.preview .comment-actions{border-top:2px solid #c2c6cc}.comment-form-wrapper.preview .comment-actions-label{pointer-events:none}.comment-form-wrapper.preview .comment-actions-label[for^=\\"preview-input\\"]{pointer-events:auto}.comment-form-wrapper.preview .comment-actions-label[for^=\\"preview-input\\"] .icon{fill:#656c7a}.comment-form-wrapper.expanded .comment-image{border-top:2px solid #dbdfe4;padding:10px 0 8px}.comment-form-wrapper.logged-in .comment-form-submit{border-radius:0 0 4px;transition:none;opacity:1}.comment-form-wrapper.logged-in .comment-actions-form{margin:0;transition:all .5s}.comment-form-wrapper.logged-in+.comment-form-user{height:0;opacity:0;margin-top:-40px}.comment-form-wrapper.logged-in .exit{display:block}.comment-form-wrapper .comment-form-preview{border-radius:4px;display:none;min-height:74px;padding:7px;white-space:pre-wrap}.comment-form-wrapper .comment-form-textarea{width:100%;display:block;border:none;font-size:18px;line-height:30px;border-radius:4px;color:#2a2e2e;cursor:text;resize:none;height:44px;padding:7px;transition:all .2s ease-in-out;background-color:#fefefe}.comment-form-wrapper .comment-form-textarea::-webkit-input-placeholder{color:#7f919e}.comment-form-wrapper .comment-form-textarea::-moz-placeholder{color:#7f919e}.comment-form-wrapper .comment-form-alert:not(:empty){background-color:#f05f70;padding:10px;line-height:20px;font-size:13px;font-weight:700;color:#fff;margin:0 -2px;border-top:2px solid #dbdfe4}.comment-actions-form{display:flex}.comment-actions-form .comment-form-cancel{line-height:36px;padding:0 15px;font-size:12px}.comment-actions-form .comment-form-submit{z-index:1;border:none;opacity:0;margin:-2px;white-space:nowrap;border-radius:4px;height:38px;width:80px;display:inline-block;background-color:rgba(29,47,58,0.6);cursor:pointer;line-height:38px}.comment-actions-form .comment-form-submit .icon{margin:9px;fill:#fff;cursor:pointer;width:20px;height:20px}.comment-actions-form .comment-form-submit:hover{background-color:rgba(29,47,58,0.75)}.comment-form-user{display:flex;opacity:0;transition:all .5s .2s;height:0;margin:-40px -5px 40px;overflow:hidden;line-height:32px}.comment-form-user .comment-form-guest{display:flex;flex-wrap:wrap;flex:1}.comment-form-user .comment-form-auth{height:32px}.comment-form-user .comment-form-login{background-color:transparent;border:none;height:32px;width:32px;margin:0 0 0 5px;cursor:pointer}.comment-thread-form{text-align:center;color:#656c7a;line-height:32px}.comment-thread-form .comment-form-submit{background-color:rgba(29,47,58,0.6);border:none;white-space:nowrap;border-radius:4px;height:38px;width:120px;display:inline-block;cursor:pointer;line-height:38px;margin:10px 0;color:#fff;font-size:15px}.comment-thread-form .comment-form-submit:hover{background-color:rgba(29,47,58,0.75)}.comment-form-item{display:flex;margin:10px 0}.comment-form-item .comment-form-label{display:block;height:32px;line-height:32px;color:#656c7a;width:100px;text-align:right;font-weight:bold}.comment-form-item .comment-form-textarea{background-color:#fff;border:2px solid #dbdfe4;transition:all .2s linear;padding:2px 10px;border-radius:4px;height:64px;margin:0 5px;width:30px;line-height:20px;flex:auto}.comment-form-item .comment-form-textarea:focus{border:2px solid #c2c6cc}.comment-form-input{background-color:#fff;border:2px solid #dbdfe4;transition:all .2s linear;padding:0 7px;border-radius:4px;height:32px;margin:0 5px;width:30px;line-height:32px;flex:auto}.comment-form-input::-webkit-input-placeholder{color:#7f919e}.comment-form-input::-moz-placeholder{color:#7f919e}.comment-form-input:focus{border:2px solid #c2c6cc}.comment-form-input[disabled]{color:#656c7a}.comment-list:empty:after{content:attr(data-tips);display:block;opacity:.6;line-height:80px;text-align:center}.comment-list p{margin:0}.comment-list a{text-decoration:none;color:#288ce4}.comment-list a[href=\\"javascript:void(0);\\"]{color:#000;cursor:default}.comment-list code{line-height:20px;font-size:12px;font-family:monaco,menlo,monospace;padding:0 .3em;display:inline-block;vertical-align:top;margin:2px}.comment-list pre{overflow-x:auto;margin:0 0 15px;border-left:4px solid #7f919e;padding:0 0 0 12px}.comment-list pre code{display:block;overflow-y:hidden;white-space:pre;line-height:1.1}.comment-list #comment-preview{opacity:.6}.comment-list .comment-item{padding-top:6px}.comment-list .comment-item-body{display:flex;margin-bottom:5px}.comment-list .comment-item-header,.comment-list .comment-item-footer{line-height:1.2;color:#c2c6cc}.comment-list .comment-item-header .comment-item-bullet,.comment-list .comment-item-footer .comment-item-bullet{padding:0 2px}.comment-list .comment-item-header{font-size:13px}.comment-list .comment-item-header .comment-item-pname{color:#656c7a;position:relative}.comment-list .comment-item-header .comment-item-pname .icon{width:12px;height:12px;margin:1px 2px;vertical-align:top;fill:#656c7a}.comment-list .comment-item-header .comment-item-pname:hover{color:#2a2e2e}.comment-list .comment-item-header .comment-item-pname:hover .icon{fill:#656c7a}.comment-list .comment-item-header .comment-item-pname:hover .comment-item-parent{display:flex}.comment-list .comment-item-header .comment-item-parent{display:none;position:absolute;border-radius:3px;border:2px solid #dbdfe4;padding:5px;width:250px;background-color:#fff;align-items:center;height:48px;top:50%;margin-top:-24px;left:15px;line-height:18px;box-shadow:0 1px 1px 0 rgba(0,0,0,0.1)}.comment-list .comment-item-header .comment-item-parent .comment-item-pmain{width:calc(100% - 42px)}.comment-list .comment-item-header .comment-item-parent .comment-item-pheader{color:#656c7a}.comment-list .comment-item-header .comment-item-parent .comment-item-pcontent{font-size:12px;padding:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.comment-list .comment-item-header .comment-item-badge{color:#fff;background:#7f919e;padding:1px 3px;margin:0 2px;font-size:10px;line-height:1.1;font-weight:700;border-radius:3px;display:inline-block}.comment-list .comment-item-header .comment-item-time{font-size:12px;color:#7f919e;word-spacing:-2px;font-weight:400}.comment-list .comment-item-header .comment-item-name{color:#0095dd;font-weight:700}.comment-list .comment-item-header .comment-item-name[href^=\\"javascript\\"]{cursor:text;color:#000}.comment-list .comment-item-footer{font-size:12px;padding:5px 0}.comment-list .comment-item-footer .comment-item-reply,.comment-list .comment-item-footer .comment-item-edit,.comment-list .comment-item-footer .comment-item-delete{color:#656c7a;font-weight:500}.comment-list .comment-item-footer .comment-item-reply:hover,.comment-list .comment-item-footer .comment-item-edit:hover,.comment-list .comment-item-footer .comment-item-delete:hover{color:#2a2e2e}.comment-list .comment-item-footer .comment-item-cancel{color:#0095dd;font-weight:700}.comment-list .comment-item-image a{display:inline-block}.comment-list .comment-item-image img{display:block;border-radius:3px;max-width:100%;max-height:480px}.comment-list iframe{width:100%}.comment-list .comment-item.transparent{opacity:.4}.comment-list .comment-item-content{padding-top:5px;letter-spacing:.5px}.comment-list .comment-item-content spoiler{display:inline;background-color:#687a86;color:transparent;white-space:pre-wrap}.comment-list .comment-item-content spoiler:hover{color:#2e2e2e;background-color:transparent}.comment-list .comment-item-content p{margin-bottom:5px}.comment-list .comment-item-content p:last-child{margin-bottom:0}.comment-list .comment-item-content a[data-dsq-mention]:before{content:\\"@\\"}.comment-list .comment-item-content .comment-item-content{min-height:20px}.comment-list .comment-item-content img.emojione{vertical-align:top;width:24px;height:24px;margin:0 3px}.comment-list .comment-item-children .comment-item-avatar,.comment-list .comment-item-children .comment-item-avatar img,.comment-list .comment-item-children .comment-box .comment-avatar,.comment-list .comment-item-children .comment-box .comment-avatar-image,.comment-list .comment-item-body+.comment-box .comment-avatar,.comment-list .comment-item-body+.comment-box .comment-avatar-image{width:36px;height:36px;margin-right:6px;box-shadow:0 0.5px 0.5px 0 rgba(0,0,0,0.05)}.comment-list .comment-form-textarea{height:32px;padding:5px;line-height:22px;font-size:15px}.comment-list .comment-item-main{width:calc(100% - 60px)}.comment-list .comment-item-main:empty{line-height:48px}.comment-list .comment-item-main:empty:after{content:attr(data-message);line-height:36px;color:#7f919e}.comment-list .comment-box{margin:0}.comment-list .comment-box+.comment-item-body{display:none}.comment-list .comment-item-body+.comment-box{padding-left:60px;padding-top:6px;margin-bottom:20px}.comment-list .comment-item-children{padding-left:60px}.comment-list .comment-item-children .comment-item-main{width:calc(100% - 42px)}.comment-list .comment-item-children .comment-item-main:empty{line-height:36px}.comment-list .comment-item-children .comment-item-children,.comment-list .comment-item-children .comment-item-body+.comment-box{padding-left:42px}.comment-list .comment-item-children .comment-item-children .comment-item-children .comment-item-children,.comment-list .comment-item-children .comment-item-children .comment-item-children .comment-box,.comment-list .comment-item-children .comment-item-body+.comment-box .comment-item-children .comment-item-children,.comment-list .comment-item-children .comment-item-body+.comment-box .comment-item-children .comment-box{padding-left:0}.comment-loadmore{font-weight:500;display:block;text-align:center;padding:11px 14px;background-color:rgba(29,47,58,0.6);color:#fff !important;line-height:1.1;border-radius:3px;transition:background .2s;text-shadow:none}.comment-loadmore:hover{background-color:rgba(29,47,58,0.7)}.comment-loadmore.loading{background-color:#edeff2;color:#444 !important;cursor:wait}.comment-form-error{position:absolute;background-color:#fff;padding:10px;line-height:20px;border-radius:3px;box-shadow:0 0 5px 1px rgba(0,0,0,0.3);margin-top:40px;margin-left:2px;z-index:10}.comment-form-error:before{content:\\"\\";display:block;position:absolute;width:10px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background-color:#fff;box-shadow:0 0 5px 1px rgba(0,0,0,0.3);top:-4px;left:15px}.comment-form-error:after{content:\\"\\";display:block;position:absolute;width:20px;height:12px;top:0;left:10px;background-color:#fff}.comment-list,.comment-item-children{text-align:left;list-style:none;margin-left:0;line-height:20px}.comment-avatar,.comment-item-avatar{display:block;width:48px;height:48px;margin-right:12px}.comment-avatar img,.comment-item-avatar img{border-radius:3px;width:48px;height:48px}.mention-user{background-color:#fff;border-radius:2px;box-shadow:1px 1px 2px 1px rgba(29,47,58,0.2);position:absolute;overflow:hidden}.mention-user .mention-user-list{list-style:none}.mention-user .mention-user-item{height:30px;padding:3px;line-height:24px;font-size:12px;display:flex;cursor:default}.mention-user .mention-user-item.active{background-color:#2e9fff;color:#fff}.mention-user .mention-user-item.active .mention-user-name{color:#fff}.mention-user .mention-user-avatar{width:24px;height:24px;border-radius:3px;display:block}.mention-user .mention-user-username{font-weight:600;padding-left:4px}.mention-user .mention-user-name{color:#656c7a;padding-left:4px}.comment-related{color:#444;margin-top:20px;width:100%}.comment-related .comment-related-title{font-weight:700;text-transform:uppercase;color:rgba(34,59,74,0.5);margin-bottom:5px;white-space:nowrap;text-overflow:ellipsis}.comment-related .comment-related-forumname{color:#413a3a}.comment-related .related-list{display:flex;flex-wrap:wrap;list-style:none}.comment-related .related-list .related-item{width:48%;margin-bottom:10px}.comment-related .related-list .related-item:nth-child(odd){margin-right:4%}.comment-related .related-list .related-item-link{color:#000}.comment-related .related-list .related-item-link:hover .related-item-avatar{opacity:.8}.comment-related .related-list .related-item-link:hover .related-item-name{color:#aaa}.comment-related .related-list .related-item-title{display:block;overflow:hidden;font-weight:700}.comment-related .related-list .related-item-desc{color:rgba(30,55,70,0.4);font-weight:500;font-size:12px}.comment-related .related-list .related-item-post{padding:5px 0;display:flex}.comment-related .related-list .related-item-avatar{width:30px;height:30px;margin-right:5px;flex:none}.comment-related .related-list .related-item-avatar img{display:block;width:100%;border-radius:3px}.comment-related .related-list .related-item-main{flex:1;height:30px;line-height:15px;overflow:hidden;font-size:13px}.comment-related .related-list .related-item-name{color:rgba(30,55,70,0.4);font-weight:600}.comment-related .related-list .related-item-message{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.comment-reaction{display:flex;flex-direction:column}.comment-reaction .comment-reaction-header{text-align:center;line-height:25px}.comment-reaction .comment-reaction-list{display:flex;justify-content:center;list-style-type:none}.comment-reaction .comment-reaction-list:not(:empty){padding:10px 0}.comment-reaction .comment-reaction-list .comment-reaction-item{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px;color:#656c7a;margin-right:10px}.comment-reaction .comment-reaction-list .comment-reaction-item:last-child{margin-right:0}.comment-reaction .comment-reaction-list .comment-reaction-btn{display:flex;align-items:center;padding:0 5px;border:1px solid #c2c6cc;border-radius:3px;height:30px;line-height:30px;max-width:100px;color:#656c7a}.comment-reaction .comment-reaction-list .comment-reaction-btn.selected{border-color:#656c7a}.comment-reaction .comment-reaction-list .comment-reaction-count{padding:5px 0}.comment-reaction .comment-reaction-list .comment-reaction-text{margin-left:5px}.comment-reaction .comment-reaction-list img{width:20px;height:20px}@-webkit-keyframes disqus-loader-spinner-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes disqus-loader-spinner-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@media screen and (max-width: 450px){.comment-reaction-text{display:none}.comment-form-wrapper.editing .comment-actions-form{margin:180px 0 0}.comment-form-wrapper.logged-in .comment-actions-form{margin:0}.comment-item .at{display:none}.comment-item .comment-avatar{display:none}.comment-item .comment-form{width:100%}.comment-item .comment-item-children .comment-item-children,.comment-item .comment-item-children .comment-box{padding-left:0 !important}.comment-item .comment-item-children .comment-item-avatar{display:none}.comment-item .comment-item-children .comment-item-main,.comment-item .comment-item-children .comment-form{width:100%}.comment-form-user{line-height:42px}.comment-form-user .comment-form-auth{margin:5px}.comment-form-user .comment-form-input{margin:5px;width:100%}.comment-related .related-list .related-item{width:100%;padding-left:10px}}\\n", ""]);\n\n// exports\n\n\n//# sourceURL=webpack://%5Bname%5D/./src/iDisqus.scss?./node_modules/css-loader!./node_modules/postcss-loader/src??ref--4-2!./node_modules/sass-loader/lib/loader.js')},"./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn "@media " + item[2] + "{" + content + "}";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || \'\';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === \'function\') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn \'/*# sourceURL=\' + cssMapping.sourceRoot + source + \' */\'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n\t}\n\n\treturn [content].join(\'\\n\');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = \'sourceMappingURL=data:application/json;charset=utf-8;base64,\' + base64;\n\n\treturn \'/*# \' + data + \' */\';\n}\n\n\n//# sourceURL=webpack://%5Bname%5D/./node_modules/css-loader/lib/css-base.js?')},"./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve "head" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }\n                // }\n                if (typeof target === \'function\') {\n                        return target();\n                }\n                if (typeof memo[target] === "undefined") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === "object" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = "head";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === "top") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === "bottom") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === "object" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error("[Style Loader]\\n\\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\\n Must be \'top\', \'bottom\', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement("style");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement("link");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\toptions.attrs.rel = "stylesheet";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === \'function\'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don\'t add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute("media", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn\'t defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n//# sourceURL=webpack://%5Bname%5D/./node_modules/style-loader/lib/addStyles.js?')},"./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */function(module,exports){eval('\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function "fixes" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== "undefined" && window.location;\n\n  if (!location) {\n    throw new Error("fixUrls requires window.location");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== "string") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + "//" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, "/");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word "url" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn\'t a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn\'t a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn\'t a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^"(.*)"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^\'(.*)\'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf("//") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf("/") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with \'/\'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, ""); // Strip leading \'./\'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn "url(" + JSON.stringify(newUrl) + ")";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n//# sourceURL=webpack://%5Bname%5D/./node_modules/style-loader/lib/urls.js?')},"./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */function(module,exports){eval('module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, "loaded", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, "id", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n//# sourceURL=webpack://%5Bname%5D/(webpack)/buildin/module.js?')},"./src/iDisqus.js":
/*!************************!*\
  !*** ./src/iDisqus.js ***!
  \************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;/*!\r\n * \r\n * @author fooleap\r\n * @email fooleap@gmail.com\r\n * @create 2017-06-17 20:48:25\r\n * @update 2018-10-16 23:42:23\r\n * @version 0.2.25\r\n * Copyright 2017-2018 fooleap\r\n * Released under the MIT license\r\n */\r\n__webpack_require__(/*! ./iDisqus.scss */ \"./src/iDisqus.scss\");\r\n(function (global) {\r\n    'use strict';\r\n\r\n    var d = document,\r\n        l = localStorage,\r\n        scripts = d.scripts,\r\n        lasturl = scripts[scripts.length - 1].src,\r\n        filepath = lasturl.substring(0, lasturl.lastIndexOf('/')),\r\n        isEdge = navigator.userAgent.indexOf(\"Edge\") > -1,\r\n        isIE = !!window.ActiveXObject || \"ActiveXObject\" in window;\r\n\r\n    function getLocation(href) {\r\n        var link = d.createElement('a');\r\n        link.href = href;\r\n        return link;\r\n    }\r\n\r\n    function getAjax(url, success, error) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open ('GET', encodeURI(url));\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState == 4 && xhr.status == 200) {\r\n                success(xhr.responseText);\r\n            }\r\n        }\r\n        xhr.onerror = error;\r\n        xhr.withCredentials = true;\r\n        xhr.send();\r\n        return xhr;\r\n    }\r\n    \r\n    function postAjax(url, data, success, error) {\r\n        var params = typeof data == 'string' ? data : Object.keys(data).filter(function(k){\r\n            return data[k] != null;\r\n        }).map(function(k){ \r\n            return encodeURIComponent(k) + '=' + encodeURIComponent(data[k])\r\n        }).join('&');\r\n\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('POST', url);\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState == 4 && xhr.status == 200) {\r\n                success(xhr.responseText); \r\n            }\r\n        };\r\n        xhr.onerror = error; \r\n        xhr.withCredentials = true;\r\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n        xhr.send(params);\r\n        return xhr;\r\n    }\r\n    \r\n    function generateGUID() {\r\n        var time = Number(new Date().getTime().toString().substring(3));\r\n        var guid = Math.abs(time + Math.floor(Math.random() * 1e5) - 48*1e6+Math.floor(Math.random()*1e6)).toString(32);\r\n        guid +=  Math.floor(Math.random() * 1e9).toString(32);\r\n        return guid;\r\n    }\r\n\r\n    (function (ElementProto) {\r\n        // matches & closest polyfill https://github.com/jonathantneal/closest\r\n        if (typeof ElementProto.matches !== 'function') {\r\n            ElementProto.matches = ElementProto.msMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.webkitMatchesSelector || function matches(selector) {\r\n                var element = this;\r\n                var elements = (element.document || element.ownerDocument).querySelectorAll(selector);\r\n                var index = 0;\r\n\r\n                while (elements[index] && elements[index] !== element) {\r\n                    ++index;\r\n                }\r\n\r\n                return Boolean(elements[index]);\r\n            };\r\n        }\r\n\r\n        if (typeof ElementProto.closest !== 'function') {\r\n            ElementProto.closest = function closest(selector) {\r\n                var element = this;\r\n\r\n                while (element && element.nodeType === 1) {\r\n                    if (element.matches(selector)) {\r\n                        return element;\r\n                    }\r\n\r\n                    element = element.parentNode;\r\n                }\r\n\r\n                return null;\r\n            };\r\n        }\r\n\r\n        // 事件委托\r\n        ElementProto.on = function on(eventName, selector, handler) {\r\n            this.addEventListener(eventName, function(e) {\r\n                for (var target = e.target; target && target != this; target = target.parentNode) {\r\n                    if (target.matches(selector)) {\r\n                        handler.call(null, e, target);\r\n                        break;\r\n                    }\r\n                }\r\n            }, true);\r\n        };\r\n\r\n    })(window.Element.prototype);\r\n\r\n    // 访客信息\r\n    var User = function () {\r\n        this.dom = arguments[0];\r\n        this.opts = arguments[1];\r\n        this.init();\r\n        this.autologin();\r\n    }\r\n\r\n    User.prototype = {\r\n        // 初始化访客信息\r\n        init: function(){\r\n            var _ = this;\r\n            // 读取访客信息\r\n            _.name = l.getItem('name');\r\n            _.email = l.getItem('email');\r\n            _.url = l.getItem('url');\r\n            _.avatar = l.getItem('avatar');\r\n            _.type = l.getItem('type');\r\n            _.logged_in = l.getItem('logged_in');\r\n            _.unique = l.getItem('disqus_unique')\r\n            if( !l.getItem('vote') ){\r\n                l.setItem('vote', JSON.stringify({}));\r\n            }\r\n            if( !l.getItem('reaction_vote') ){\r\n                l.setItem('reaction_vote', JSON.stringify({}));\r\n            }\r\n            _.vote = JSON.parse(l.getItem('vote'));\r\n            _.reactionVote = JSON.parse(l.getItem('reaction_vote'));\r\n\r\n            var boxarr = _.dom.getElementsByClassName('comment-box');\r\n            if( _.logged_in == 'true' ) {\r\n                [].forEach.call(boxarr,function(item){\r\n                    if(_.type == '1'){\r\n                        item.querySelector('.comment-form-wrapper').classList.add('logged-in');\r\n                    }\r\n                    item.querySelector('.comment-form-name').value = _.name;\r\n                    item.querySelector('.comment-form-email').value = _.email;\r\n                    item.querySelector('.comment-form-url').value = _.url;\r\n                    item.querySelector('.comment-avatar-image').src = _.avatar;\r\n                });\r\n            } else {\r\n                [].forEach.call(boxarr,function(item){\r\n                    item.querySelector('.comment-form-wrapper').classList.remove('logged-in');\r\n                    item.querySelector('.comment-form-name').value = '';\r\n                    item.querySelector('.comment-form-email').value = '';\r\n                    item.querySelector('.comment-form-url').value = '';\r\n                    item.querySelector('.comment-avatar-image').src = _.dom.querySelector('.comment-avatar-image').dataset.avatar;\r\n                });\r\n                l.setItem('logged_in', 'false');\r\n            }\r\n\r\n            if(_.type == '1' &&  _.logged_in == 'true'){\r\n                var $login = _.dom.querySelector('.comment-login');\r\n                if(!!$login){\r\n                    $login.innerHTML = _.name + '<label class=\"comment-logout\"  title=\"退出\" for=\"comment-user\">退出登录</label>';\r\n                    $login.title = _.name;\r\n                    $login.classList.add('comment-user');\r\n                    $login.classList.remove('comment-login');\r\n                    _.dom.querySelector('#comment-user').checked = false;\r\n                }\r\n            } else {\r\n                var $user = _.dom.querySelector('.comment-user');\r\n                if(!!$user){\r\n                    $user.innerHTML = '登录';\r\n                    $user.title = '使用 Disqus 帐号授权登录';\r\n                    $user.classList.add('comment-login');\r\n                    $user.classList.remove('comment-user');\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        // 自动登录\r\n        autologin: function(){\r\n            var _ = this;\r\n            getAjax( _.opts.api +'/user.php', function(resp){\r\n                var data = JSON.parse(resp);\r\n                if( data.code == 0 ){\r\n                    var user = data.response;\r\n                    _.avatar = user.avatar;\r\n                    _.name = user.name;\r\n                    _.username = user.username;\r\n                    _.url = user.url;\r\n                    _.type = user.type\r\n                    _.submit();\r\n                } else {\r\n                    if( _.type == '1' ){\r\n                        l.setItem('logged_in', 'false');\r\n                        _.init();\r\n                    } else {\r\n                        l.setItem('type', '0');\r\n                        if( !_.unique ){\r\n                            l.setItem('disqus_unique', generateGUID());\r\n                        }\r\n                        _.init();\r\n                    }\r\n                }\r\n            }, function(){\r\n            })\r\n        },\r\n\r\n        // 登录\r\n        login: function(){\r\n\r\n            var _ = this;\r\n            var popup = window.open(_.opts.api+'/login.php', 'Disqus Oauth', 'width=470,height=508');\r\n            var timer;\r\n            function isLogged(){\r\n                if (!popup || !popup.closed) return;\r\n                clearInterval(timer);\r\n                _.user.autologin();\r\n            }\r\n            timer = setInterval(isLogged, 100);\r\n\r\n        },\r\n\r\n        // 退出登录\r\n        logout: function(){\r\n            var _ = this;\r\n            postAjax( _.opts.api + '/logout.php', {}, function(resp){\r\n                l.setItem('logged_in', 'false');\r\n                l.removeItem('type');\r\n                l.removeItem('email');\r\n                l.removeItem('avatar');\r\n                l.removeItem('name');\r\n                l.removeItem('url');\r\n                l.removeItem('disqus_unique');\r\n                l.removeItem('vote');\r\n                l.removeItem('reaction_vote');\r\n                _.user.init();\r\n            })\r\n        },\r\n\r\n        // 提交访客信息\r\n        submit: function(){\r\n            var _ = this;\r\n            l.setItem('email', _.email);\r\n            l.setItem('type', _.type);\r\n            l.setItem('name', _.name);\r\n            l.setItem('url', _.url);\r\n            l.setItem('avatar', _.avatar);\r\n            l.setItem('disqus_unique', _.unique);\r\n            l.setItem('logged_in', 'true');\r\n            this.init();\r\n        }\r\n    }\r\n\r\n    var iDisqus = function () {\r\n        var _ = this;\r\n\r\n        // 配置\r\n        _.opts = typeof(arguments[1]) == 'object' ? arguments[1] : arguments[0];\r\n        _.dom =  d.getElementById(typeof(arguments[0]) == 'string' ? arguments[0] : 'comment');\r\n        _.opts.api = _.opts.api.slice(-1) == '/' ? _.opts.api.slice(0,-1) : _.opts.api;\r\n        _.opts.site = _.opts.site || location.origin;\r\n        if(!!_.opts.url){\r\n            var optsUrl = _.opts.url.replace(_.opts.site, '');\r\n            _.opts.url = optsUrl.slice(0, 1) != '/' ? '/' + optsUrl : optsUrl;\r\n        } else if(isEdge || isIE) {\r\n            _.opts.url = encodeURI(location.pathname) + encodeURI(location.search);\r\n        } else {\r\n            _.opts.url = location.pathname + location.search;\r\n        }\r\n        _.opts.identifier = _.opts.identifier || _.opts.url;\r\n        _.opts.link = _.opts.site + _.opts.url; \r\n        _.opts.title = _.opts.title || d.title;\r\n        _.opts.slug = !!_.opts.slug ? _.opts.slug.replace(/[^A-Za-z0-9_-]+/g,'') : '';\r\n        _.opts.desc =  _.opts.desc || (!!d.querySelector('[name=\"description\"]') ? d.querySelector('[name=\"description\"]').content : '');\r\n        _.opts.mode = _.opts.mode || 1;\r\n        _.opts.timeout = _.opts.timeout || 3000;\r\n        _.opts.toggle = !!_.opts.toggle ? d.getElementById(_.opts.toggle) : null;\r\n        _.opts.autoCreate = !!_.opts.autoCreate || !!_.opts.auto;\r\n        _.opts.relatedType = _.opts.relatedType || 'Related'\r\n\r\n        // emoji 表情\r\n        _.opts.emojiPath = _.opts.emojiPath || _.opts.emoji_path || 'https://assets-cdn.github.com/images/icons/emoji/unicode/';\r\n        _.emojiList = _.opts.emojiList || _.opts.emoji_list || [{\r\n            code:'smile',\r\n            title:'笑脸',\r\n            unicode:'1f604'\r\n        },{\r\n            code:'mask',\r\n            title:'生病',\r\n            unicode:'1f637'\r\n        },{\r\n            code:'joy',\r\n            title:'破涕为笑',\r\n            unicode:'1f602'\r\n        },{\r\n            code:'stuck_out_tongue_closed_eyes',\r\n            title:'吐舌',\r\n            unicode:'1f61d'\r\n        },{\r\n            code:'flushed',\r\n            title:'脸红',\r\n            unicode:'1f633'\r\n        },{\r\n            code:'scream',\r\n            title:'恐惧',\r\n            unicode:'1f631'\r\n        },{\r\n            code:'pensive',\r\n            title:'失望',\r\n            unicode:'1f614'\r\n        },{\r\n            code:'unamused',\r\n            title:'无语',\r\n            unicode:'1f612'\r\n        },{\r\n            code:'grin',\r\n            title:'露齿笑',\r\n            unicode:'1f601'\r\n        },{\r\n            code:'heart_eyes',\r\n            title:'色',\r\n            unicode:'1f60d'\r\n        },{\r\n            code:'sweat',\r\n            title:'汗',\r\n            unicode:'1f613'\r\n        },{\r\n            code:'smirk',\r\n            title:'得意',\r\n            unicode:'1f60f'\r\n        },{\r\n            code:'relieved',\r\n            title:'满意',\r\n            unicode:'1f60c'\r\n        },{\r\n            code:'rolling_eyes',\r\n            title:'翻白眼',\r\n            unicode:'1f644'\r\n        },{\r\n            code:'ok_hand',\r\n            title:'OK',\r\n            unicode:'1f44c'\r\n        },{\r\n            code:'v',\r\n            title:'胜利',\r\n            unicode:'270c'\r\n        }];\r\n        \r\n        if(!!_.opts.emoji_preview || !!_.opts.emojiPreview ){\r\n            getAjax(_.opts.api +'/eac.php', function(resp){\r\n                _.eac = JSON.parse(resp);\r\n            }, function(){\r\n            })\r\n        }\r\n\r\n        // 默认状态\r\n        _.stat = {\r\n            current: 'idisqus', // 当前显示评论框\r\n            loaded: false,      // 评论框已加载\r\n            loading: false,     // 评论加载中\r\n            editing: false,     // 评论编辑中\r\n            offsetTop: 0,       // 高度位置\r\n            next: null,         // 下条评论\r\n            message: null,      // 新评论\r\n            mediaHtml: null,    // 新上传图片\r\n            forum: {},          // 站点信息\r\n            thread: {},         // 文章信息\r\n            post: {},           // 评论数据\r\n            media: {},          // 媒体信息\r\n            root: [],           // 根评论\r\n            order: 'desc',      // 排序\r\n            users: [],          // Disqus 会员\r\n            imageSize: [],      // 已上传图片大小\r\n            disqusLoaded: false // Disqus 已加载\r\n        };\r\n\r\n        // Disqus 评论框设置\r\n        window.disqus_config = function () {\r\n            this.page.identifier = _.opts.identifier;\r\n            this.page.title = _.opts.title;\r\n            this.page.url = _.opts.link;\r\n            this.callbacks.onReady.push(function() {\r\n                _.stat.current = 'disqus';\r\n                _.stat.disqusLoaded = true;\r\n                _.dom.querySelector('#idisqus').style.display = 'none';\r\n                _.dom.querySelector('#disqus_thread').style.display = 'block';\r\n                if( _.opts.mode == 3 && !!_.opts.toggle) {\r\n                    _.opts.toggle.disabled = '';\r\n                    _.opts.toggle.checked = true;\r\n                    _.opts.toggle.addEventListener('change', _.handle.toggle, false);\r\n                }\r\n            });\r\n            // 原生评论框发邮件\r\n            this.callbacks.onNewComment = [function(comment, a) { \r\n                var postData = {\r\n                    id: comment.id\r\n                }\r\n                // 异步发送邮件\r\n                setTimeout(function(){\r\n                    postAjax( _.opts.api + '/sendemail.php', postData, function(resp){\r\n                        console.info('邮件发送成功！');\r\n                    })\r\n                }, 2000);\r\n            }];\r\n        }\r\n\r\n        // 自动初始化\r\n        if( !!_.opts.init ){\r\n            _.init();\r\n            //console.log(_);\r\n        }\r\n    }\r\n\r\n    // TimeAgo https://coderwall.com/p/uub3pw/javascript-timeago-func-e-g-8-hours-ago\r\n    iDisqus.prototype.timeAgo = function() {\r\n\r\n        var _ = this;\r\n        var templates = {\r\n            prefix: \"\",\r\n            suffix: \"前\",\r\n            seconds: \"几秒\",\r\n            minute: \"1分钟\",\r\n            minutes: \"%d分钟\",\r\n            hour: \"1小时\",\r\n            hours: \"%d小时\",\r\n            day: \"1天\",\r\n            days: \"%d天\",\r\n            week: \"1周\",\r\n            weeks: \"%d周\",\r\n            month: \"1个月\",\r\n            months: \"%d个月\",\r\n            year: \"1年\",\r\n            years: \"%d年\"\r\n        };\r\n        var template = function (t, n) {\r\n            return templates[t] && templates[t].replace(/%d/i, Math.abs(Math.round(n)));\r\n        };\r\n\r\n        var timer = function (time) {\r\n            if (!time) return;\r\n            time = time.replace(/\\.\\d+/, \"\"); // remove milliseconds\r\n            time = time.replace(/-/, \"/\").replace(/-/, \"/\");\r\n            time = time.replace(/T/, \" \").replace(/Z/, \" UTC\");\r\n            time = time.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/, \" $1$2\"); // -04:00 -> -0400\r\n            time = new Date(time * 1000 || time);\r\n\r\n            var now = new Date();\r\n            var seconds = ((now.getTime() - time) * .001) >> 0;\r\n            var minutes = seconds / 60;\r\n            var hours = minutes / 60;\r\n            var days = hours / 24;\r\n            var weeks = days / 7;\r\n            var months = days / 30;\r\n            var years = days / 365;\r\n\r\n            return templates.prefix + ( seconds < 45 && template('seconds', seconds) || seconds < 90 && template('minute', 1) || minutes < 45 && template('minutes', minutes) || minutes < 90 && template('hour', 1) || hours < 24 && template('hours', hours) || hours < 42 && template('day', 1) || days < 30 && template('days', days) || days < 45 && template('month', 1) || days < 365 && template('months', months) || years < 1.5 && template('year', 1) || template('years', years)) + templates.suffix;\r\n        };\r\n\r\n        var elements = _.dom.querySelectorAll('time[datetime]');\r\n        for (var i in elements) {\r\n            var $this = elements[i];\r\n            if (typeof $this === 'object') {\r\n                $this.title = new Date($this.getAttribute('datetime'));\r\n                $this.innerHTML = timer($this.getAttribute('datetime'));\r\n            }\r\n        }\r\n\r\n        // update time every minute\r\n        setTimeout(_.timeAgo.bind(_), 60000);\r\n\r\n    }\r\n\r\n    // 初始化评论框\r\n    iDisqus.prototype.init = function(){\r\n        var _ = this;\r\n        if(!_.dom){\r\n            //console.log('该页面没有评论框！');\r\n            return\r\n        }\r\n        // 表情\r\n        var emojiList = '';\r\n        _.emojiList.forEach(function(item){\r\n            emojiList += '<li class=\"emojione-item\" title=\"'+ item.title+'\" data-code=\":'+item.code+':\"><img class=\"emojione-item-image\" src=\"'+_.opts.emojiPath + item.unicode+'.png\" /></li>';\r\n        })\r\n        _.dom.innerHTML = `<div class=\"comment init\" id=\"idisqus\">\r\n            <div class=\"comment-reaction\">\r\n                <div class=\"comment-reaction-header\">\r\n                    <div class=\"comment-reaction-prompt\"></div>\r\n                    <div class=\"comment-reaction-total\"></div>\r\n                </div>\r\n                <div class=\"comment-reaction-list\"></div>\r\n            </div>\r\n            <div class=\"init-container\" data-tips=\"正在初始化……\"><svg class=\"init-bg\" width=\"72\" height=\"72\" viewBox=\"0 0 720 720\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"ring\" fill=\"none\" stroke=\"#9d9ea1\" d=\"M 0 -260 A 260 260 0 1 1 -80 -260\" transform=\"translate(400,400)\" stroke-width=\"50\" /><polygon transform=\"translate(305,20)\" points=\"50,0 0,100 18,145 50,82 92,145 100,100\" style=\"fill:#9d9ea1\"/></svg></div>\r\n            <div class=\"comment-header\">\r\n                <div class=\"comment-header-primary\">\r\n                    <span class=\"comment-header-item\" id=\"comment-count\">评论</span>\r\n                    <a class=\"comment-header-item\" id=\"comment-link\" target=\"_blank\">在线讨论</a>\r\n                </div>\r\n                <div class=\"comment-header-menu\">\r\n                    <input class=\"comment-header-checkbox\" type=\"checkbox\" id=\"comment-user\">\r\n                    <label class=\"comment-header-item comment-login\" title=\"使用 Disqus 帐号授权登录\" for=\"comment-user\">登录</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"comment-navbar\">\r\n                <div class=\"comment-navbar-item\">\r\n                    <a class=\"comment-recommend\" href=\"javascript:;\"><svg t=\"1537508059126\" class=\"icon\" style=\"\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"3234\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24\" height=\"24\"><path d=\"M489.993 887.107 177.906 586.021c-4.002-3.501-114.033-104.031-114.033-224.063 0-146.54 89.526-234.065 239.069-234.065 87.523 0 169.546 69.019 209.058 108.03 39.512-39.011 121.535-108.03 209.059-108.03 149.542 0 239.068 87.525 239.068 234.065 0 120.033-110.031 220.563-114.533 225.065L534.007 887.107c-6 6-14.003 9-22.007 9C503.997 896.107 495.993 893.107 489.993 887.107z\" p-id=\"3235\"></path></svg><span class=\"comment-recommend-text\">推荐</span><span class=\"comment-recommend-count\"></span></a>\r\n                </div>\r\n                <div class=\"comment-navbar-item comment-order\">\r\n                  <input class=\"comment-order-radio\" id=\"order-popular\" type=\"radio\" name=\"comment-order\" value=\"popular\" />\r\n                  <label class=\"comment-order-label\" for=\"order-popular\" title=\"按评分高低排序\">最佳</label>\r\n                  <input class=\"comment-order-radio\" id=\"order-desc\" type=\"radio\" name=\"comment-order\" value=\"desc\" />\r\n                  <label class=\"comment-order-label\" for=\"order-desc\" title=\"按从新到旧排序\">最新</label>\r\n                  <input class=\"comment-order-radio\" id=\"order-asc\" type=\"radio\" name=\"comment-order\" value=\"asc\" />\r\n                  <label class=\"comment-order-label\" for=\"order-asc\" title=\"按从旧到新排序\">最早</label>\r\n                </div>\r\n            </div>\r\n            <div class=\"comment-box\">\r\n                <div class=\"comment-avatar avatar\"><img class=\"comment-avatar-image\" src=\"//a.disquscdn.com/images/noavatar92.png\" data-avatar=\"//a.disquscdn.com/images/noavatar92.png\"></div>\r\n                <div class=\"comment-form\">\r\n                    <div class=\"comment-form-wrapper\">\r\n                        <textarea class=\"comment-form-textarea\" placeholder=\"加入讨论……\"></textarea>\r\n                        <div class=\"comment-form-alert\"></div>\r\n                        <div class=\"comment-image\">\r\n                            <ul class=\"comment-image-list\"></ul>\r\n                            <div class=\"comment-image-progress\"><div class=\"comment-image-loaded\"></div></div>\r\n                        </div>\r\n        \r\n                        <div class=\"comment-actions\">\r\n        \r\n                            <div class=\"comment-actions-group\">\r\n                                <input id=\"emoji-input\" class=\"comment-actions-input\" type=\"checkbox\">\r\n                                <label class=\"comment-actions-label emojione\" for=\"emoji-input\">\r\n                                    <svg class=\"icon\" fill=\"#c2c6cc\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\">\r\n                                        <g>\r\n                                            <title>选择表情</title>\r\n                                            <path d=\"M512 1024c-282.713043 0-512-229.286957-512-512s229.286957-512 512-512c282.713043 0 512 229.286957 512 512S792.486957 1024 512 1024zM512 44.521739c-258.226087 0-467.478261 209.252174-467.478261 467.478261 0 258.226087 209.252174 467.478261 467.478261 467.478261s467.478261-209.252174 467.478261-467.478261C979.478261 253.773913 768 44.521739 512 44.521739z\"></path>\r\n                                            <path d=\"M801.391304 554.295652c0 160.278261-129.113043 289.391304-289.391304 289.391304s-289.391304-129.113043-289.391304-289.391304L801.391304 554.295652z\"></path>\r\n                                            <path d=\"M674.504348 349.495652m-57.878261 0a2.6 2.6 0 1 0 115.756522 0 2.6 2.6 0 1 0-115.756522 0Z\"></path>\r\n                                            <path d=\"M347.269565 349.495652m-57.878261 0a2.6 2.6 0 1 0 115.756522 0 2.6 2.6 0 1 0-115.756522 0Z\"></path>\r\n                                        </g>\r\n                                    </svg>\r\n                                    <ul class=\"emojione-list\">${ emojiList }</ul>\r\n                                </label>\r\n                                <input id=\"upload-input\" class=\"comment-actions-input comment-image-input\" type=\"file\" accept=\"image/*\" name=\"file\">\r\n                                <label class=\"comment-actions-label\" for=\"upload-input\">\r\n                                    <svg class=\"icon\" fill=\"#c2c6cc\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\">\r\n                                        <g>\r\n                                            <title>上传图片</title>\r\n                                            <path d=\"M15.515152 15.515152 15.515152 15.515152 15.515152 15.515152Z\"></path>\r\n                                            <path d=\"M15.515152 139.636364l0 806.787879 992.969697 0 0-806.787879-992.969697 0zM946.424242 884.363636l-868.848485 0 0-682.666667 868.848485 0 0 682.666667zM698.181818 356.848485c0-51.417212 41.673697-93.090909 93.090909-93.090909s93.090909 41.673697 93.090909 93.090909c0 51.417212-41.673697 93.090909-93.090909 93.090909s-93.090909-41.673697-93.090909-93.090909zM884.363636 822.30303l-744.727273 0 186.181818-496.484848 248.242424 310.30303 124.121212-93.090909z\"></path>\r\n                                        </g>\r\n                                    </svg>\r\n                                </label>\r\n                            </div>\r\n        \r\n                            <div class=\"comment-actions-form\">\r\n                                <button class=\"comment-form-submit\">\r\n                                    <svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\">\r\n                                        <path d=\"M565.747623 792.837176l260.819261 112.921839 126.910435-845.424882L66.087673 581.973678l232.843092 109.933785 562.612725-511.653099-451.697589 563.616588-5.996574 239.832274L565.747623 792.837176z\" fill=\"#ffffff\"></path>\r\n                                    </svg>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"comment-form-user\">\r\n                        <form class=\"comment-form-guest\"><input class=\"comment-form-input comment-form-name\" type=\"text\" name=\"name\" placeholder=\"名字（必填）\" autocomplete=\"name\" /><input class=\"comment-form-input comment-form-email\" type=\"email\" name=\"email\" placeholder=\"邮箱（必填）\" autocomplete=\"email\" /><input class=\"comment-form-input comment-form-url\" type=\"url\" name=\"url\" placeholder=\"网址（可选）\" autocomplete=\"url\" /></form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ul id=\"comments\" class=\"comment-list\" data-tips=\"评论加载中……\"></ul>\r\n            <a href=\"javascript:;\" class=\"comment-loadmore hide\">加载更多</a>\r\n            <div class=\"comment-related\"></div>\r\n        </div>\r\n        <div class=\"comment\" id=\"disqus_thread\"></div>`;\r\n\r\n        _.user = new User(_.dom,_.opts);\r\n        _.box = _.dom.querySelector('.comment-box').outerHTML.replace(/<label class=\"comment-actions-label exit\"(.|\\n)*<\\/label>\\n/,'').replace('comment-form-wrapper','comment-form-wrapper editing').replace(/加入讨论……/,'');\r\n        _.handle = {\r\n            logout: _.user.logout.bind(_),\r\n            login: _.user.login.bind(_),\r\n            loadMore: _.loadMore.bind(_),\r\n            post: _.post.bind(_),\r\n            threadCreate: _.threadCreate.bind(_),\r\n            threadVote: _.threadVote.bind(_),\r\n            reactionVote: _.reactionVote.bind(_),\r\n            remove: _.remove.bind(_),\r\n            show: _.show.bind(_),\r\n            toggle: _.toggle.bind(_),\r\n            upload: _.upload.bind(_),\r\n            verify: _.verify.bind(_),\r\n            jump: _.jump.bind(_),\r\n            mention: _.mention.bind(_),\r\n            keySelect: _.keySelect.bind(_),\r\n            field: _.field.bind(_),\r\n            focus: _.focus,\r\n            input: _.input.bind(_),\r\n            parentShow: _.parentShow.bind(_),\r\n            selectOrder: _.selectOrder.bind(_)\r\n        };\r\n\r\n        var $iDisqus = _.dom.querySelector('#idisqus');\r\n        $iDisqus.on('blur','.comment-form-textarea', _.handle.focus);\r\n        $iDisqus.on('focus','.comment-form-textarea', _.handle.focus);\r\n        $iDisqus.on('input','.comment-form-textarea', _.handle.input);\r\n        $iDisqus.on('propertychange','.comment-form-textarea', _.handle.input);\r\n        $iDisqus.on('keyup','.comment-form-textarea', _.handle.mention);\r\n        $iDisqus.on('keydown', '.comment-form-textarea', _.handle.keySelect);\r\n        $iDisqus.on('blur', '.comment-form-name', _.handle.verify);\r\n        $iDisqus.on('blur', '.comment-form-email',  _.handle.verify);\r\n        $iDisqus.on('click', '.comment-form-submit',  _.handle.post);\r\n        $iDisqus.on('click', '.comment-login',  _.handle.login);\r\n        $iDisqus.on('change', '.comment-image-input',  _.handle.upload);\r\n        $iDisqus.on('click', '.emojione-item',  _.handle.field);\r\n        $iDisqus.on('click', '.comment-logout', _.handle.logout);\r\n        $iDisqus.on('click', '.comment-item-reply', _.handle.show);\r\n        $iDisqus.on('click', '.comment-item-cancel',  _.handle.show);\r\n        $iDisqus.on('click','.comment-item-avatar', _.handle.jump);\r\n        $iDisqus.on('click','.comment-item-pname', _.handle.jump);\r\n        $iDisqus.on('mouseover','.comment-item-pname', _.handle.parentShow);\r\n        $iDisqus.on('click', '.comment-loadmore', _.handle.loadMore);\r\n        $iDisqus.on('click', '#thread-submit', _.handle.threadCreate);\r\n        $iDisqus.on('click', '.comment-recommend', _.handle.threadVote);\r\n        $iDisqus.on('click', '.comment-reaction-btn:not(.selected)', _.handle.reactionVote);\r\n        $iDisqus.on('change', '.comment-order-radio', _.handle.selectOrder);\r\n\r\n        switch(_.opts.mode){\r\n            case 1:\r\n                _.disqus();\r\n                break;\r\n            case 2: \r\n                _.threadInit();\r\n                break;\r\n            case 3: \r\n                _.threadInit();\r\n                _.disqus();\r\n                break;\r\n            default:\r\n                _.disqus();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 切换评论框\r\n    iDisqus.prototype.toggle = function(){\r\n        var _ = this;\r\n        if( _.stat.current == 'disqus' ){\r\n            _.stat.current = 'idisqus';\r\n            _.dom.querySelector('#idisqus').style.display = 'block';\r\n            _.dom.querySelector('#disqus_thread').style.display = 'none';\r\n        } else {\r\n            _.disqus();\r\n        }\r\n    }\r\n\r\n    // 加载 Disqus 评论\r\n    iDisqus.prototype.disqus = function(){\r\n        var _ = this;\r\n        var _tips = _.dom.querySelector('.init-container').dataset.tips;\r\n        if(_.opts.site != location.origin){\r\n            console.log('本地环境不加载 Disqus 评论框！');\r\n            if( _.opts.mode == 1 ){\r\n                _.threadInit();\r\n            }\r\n            return;\r\n        }\r\n        if(!_.stat.disqusLoaded ){\r\n            _tips = '尝试连接 Disqus……';\r\n\r\n            var s = d.createElement('script');\r\n            s.src = '//'+_.opts.forum+'.disqus.com/embed.js';\r\n            s.dataset.timestamp = Date.now();\r\n            s.onload = function(){\r\n                _.stat.disqusLoaded = true;\r\n                _tips = '连接成功，加载 Disqus 评论框……'\r\n            } \r\n            s.onerror = function(){\r\n                if( _.opts.mode == 1){\r\n                    _tips = '连接失败，加载简易评论框……';\r\n                    _.threadInit();\r\n                }\r\n            }\r\n\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open('GET', '//disqus.com/next/config.json?' + Date.now(), true);\r\n            xhr.timeout = _.opts.timeout;\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState == 4 && xhr.status == 200) {\r\n                    (d.head || d.body).appendChild(s);\r\n                }\r\n            }\r\n            xhr.ontimeout = function () {\r\n                xhr.abort();\r\n                if( _.opts.mode == 1){\r\n                    _tips = '连接超时，加载简易评论框……';\r\n                    _.threadInit();\r\n                }\r\n            }\r\n            xhr.onerror = function() {\r\n                if( _.opts.mode == 1){\r\n                    _tips = '连接失败，加载简易评论框……';\r\n                    _.threadInit();\r\n                }\r\n            }\r\n            xhr.send();\r\n        } else {\r\n            _.stat.current = 'disqus';\r\n            _.dom.querySelector('#idisqus').style.display = 'none';\r\n            _.dom.querySelector('#disqus_thread').style.display = 'block';\r\n        }\r\n    }\r\n\r\n    // 添加事件监听\r\n    iDisqus.prototype.addListener = function (els, evt, func){\r\n        var _ = this;\r\n        var el = _.dom.getElementsByClassName(els);\r\n        [].forEach.call(el, function(item){\r\n            item.addEventListener(evt, func, false);\r\n        });\r\n    }\r\n\r\n    // 评论计数\r\n    iDisqus.prototype.count = function (){\r\n        var _ = this;\r\n        var counts = d.querySelectorAll('[data-disqus-url]');\r\n        var qty = counts.length;\r\n        if(qty > 0){\r\n            var commentArr = [];\r\n            for( var i = 0; i < qty; i++){\r\n                commentArr[i] = counts[i].dataset.disqusUrl.replace(_.opts.site, '');\r\n            }\r\n            getAjax(\r\n                _.opts.api + '/count.php?links=' + commentArr.join(','), \r\n                function(resp) {\r\n                    var data  = JSON.parse(resp);\r\n                    var posts = data.response;\r\n                    posts.forEach(function(item){\r\n                        var link = document.createElement('a');\r\n                        link.href = item.link;\r\n                        var itemLink = link.href.replace(link.origin, '');\r\n                        var el = d.querySelector('[data-disqus-url$=\"'+itemLink+'\"]')\r\n                        if(!!el ){\r\n                            el.innerHTML = item.posts;\r\n                            el.dataset.disqusCount = item.posts;\r\n                        }\r\n                    });\r\n                }, function(){\r\n                    console.log('获取数据失败！')\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    // 加载热门话题\r\n    iDisqus.prototype.loadRelated = function(){\r\n        var _ = this;\r\n        if( _.stat.forum.settings.organicDiscoveryEnabled == false || _.stat.relatedLoaded){\r\n            return;\r\n        }\r\n        getAjax(\r\n            _.opts.api + '/list'+ _.opts.relatedType +'.php' + '?thread=' + _.stat.thread.id, \r\n            function(resp) {\r\n                var data = JSON.parse(resp);\r\n                if(data.code == 0){\r\n                    _.stat.relatedLoaded = true;\r\n                    var threads = data.response;\r\n                    var popHtml = '';\r\n                    threads.forEach(function(item){\r\n                        var message = item.topPost.message.replace(/<[^>]*>/g, '');\r\n                        popHtml += `<li class=\"related-item\">\r\n                        <a class=\"related-item-link\" href=\"${item.link}\" title=\"${item.title}\">\r\n                        <div class=\"related-item-title\">${item.title}</div>\r\n                        <div class=\"related-item-desc\">${item.posts}条评论<span class=\"related-item-bullet\"> • </span><time class=\"related-item-time\" datetime=\"${item.createdAt}\"></time></div></a>\r\n                        <a class=\"related-item-link\" href=\"${item.link}?#comment-${item.topPost.id}\" title=\"${ message }\">\r\n                        <div class=\"related-item-post\">\r\n                        <div class=\"related-item-avatar\"><img src=\"${item.topPost.avatar}\" /></div>\r\n                        <div class=\"related-item-main\">\r\n                        <div class=\"related-item-name\">${ item.topPost.name }</div>\r\n                        <div class=\"related-item-message\">${ message }</div>\r\n                        </div>\r\n                        </div></a>\r\n                        </li>`;\r\n                    });\r\n                    popHtml = `<div class=\"comment-related-title\">在<span class=\"comment-related-forumname\">${_.stat.forum.name}</span>上还有</div><div class=\"comment-related-content\"><ul class=\"related-list\">${popHtml}</ul></div>`;\r\n                    _.dom.querySelector('.comment-related').innerHTML = popHtml;\r\n                    _.timeAgo();\r\n                }\r\n            },function(){\r\n                console.log('获取数据失败！')\r\n            }\r\n        );\r\n    };\r\n\r\n    // 加载反应\r\n    iDisqus.prototype.loadReactions = function(){\r\n        var _ = this;\r\n        if(_.stat.forum.settings.threadReactionsEnabled == false){\r\n            return;\r\n        }\r\n        getAjax( _.opts.api + '/threadReactionsLoadReations.php' + '?thread=' + _.stat.thread.id, function(resp) {\r\n            var data  = JSON.parse(resp);\r\n            if( data.response.eligible ){\r\n                _.dom.querySelector('.comment-reaction-prompt').innerHTML = data.response.prompt;\r\n                var reactions = data.response.reactions;\r\n                var total = 0;\r\n                var reaListHtml = '';\r\n                var selectedId = _.user.reactionVote[_.stat.thread.id];\r\n                selectedId = selectedId || (!!data.selected ? data.selected.id : 0);\r\n                reactions.forEach(function(item){\r\n                    total += item.votes;\r\n                    reaListHtml += `<li class=\"comment-reaction-item\"><a class=\"comment-reaction-btn${(selectedId == item.id  ? ' selected' : '')}\" data-id=\"${ item.id }\" href=\"javascript:;\"><img class=\"comment-reaction-image\" src=\"${ item.imageUrl }\"> ${ item.text }</a><div class=\"comment-reaction-count\">${ item.votes }</div></li>`;\r\n                })\r\n                _.dom.querySelector('.comment-reaction-list').innerHTML = reaListHtml;\r\n                _.dom.querySelector('.comment-reaction-total').innerHTML = total + ' 人次参与';\r\n            }\r\n        },function(){})\r\n\r\n    };\r\n\r\n    // 反应打分事件\r\n    iDisqus.prototype.reactionVote = function(e, target){\r\n        var _ = this;\r\n        var $reaction = target.closest('.comment-reaction-item');\r\n        var $count = $reaction.querySelector('.comment-reaction-count');\r\n        var reactionId = target.dataset.id;\r\n        var postData = {\r\n            thread: _.stat.thread.id,\r\n            unique: _.user.unique,\r\n            reaction: reactionId\r\n        }\r\n        postAjax( _.opts.api + '/threadReactionsVote.php', postData, function(resp){\r\n            _.user.reactionVote[_.stat.thread.id] = reactionId;\r\n            l.setItem('reaction_vote', JSON.stringify(_.user.reactionVote));\r\n            target.classList.add('selected');\r\n            $count.innerHTML ++\r\n        })\r\n    }\r\n\r\n    // 排序\r\n    iDisqus.prototype.selectOrder = function(e, target){\r\n       var _ = this;\r\n       var order = target.value;\r\n       sessionStorage.setItem('order', order);\r\n       _.stat.order = order;\r\n       _.dom.querySelector('.comment-list').innerHTML = '';\r\n       _.dom.querySelector('.comment-loadmore').classList.add('hide');\r\n       _.stat.next = null;\r\n       _.getlist();\r\n    }\r\n\r\n    // 获取评论列表\r\n    iDisqus.prototype.getlist = function(){\r\n        var _ = this;\r\n        _.stat.loading = true;\r\n        _.dom.querySelector('#idisqus').classList.add('loading');\r\n        _.dom.querySelector('.comment-list').dataset.tips = '评论加载中……';\r\n        getAjax(\r\n            _.opts.api + '/getcomments.php?thread=' + _.stat.thread.id + (!!_.stat.next ? '&cursor=' + _.stat.next : '') + '&order=' + _.stat.order,\r\n            function(resp){\r\n                var data = JSON.parse(resp);\r\n                if (data.code === 0) {\r\n                    _.stat.offsetTop = d.documentElement.scrollTop || d.body.scrollTop;\r\n\r\n                    _.dom.querySelector('#idisqus').classList.remove('loading')\r\n                    var loadmore = _.dom.querySelector('.comment-loadmore');\r\n                    var posts = !!data.response ? data.response : [];\r\n                    _.stat.root = [];\r\n                    posts.forEach(function(item){\r\n                        _.load(item);\r\n                        if(!item.parent){\r\n                            _.stat.root.unshift(item.id);\r\n                        }\r\n                    });\r\n\r\n                    if ( data.cursor.hasPrev ){\r\n                        _.stat.root.forEach(function(item){\r\n                            _.dom.querySelector('.comment-list').appendChild(_.dom.querySelector('#comment-' + item));\r\n                        })\r\n                    } \r\n                    if ( data.cursor.hasNext ){\r\n                        _.stat.next = data.cursor.next;\r\n                        loadmore.classList.remove('loading');\r\n                        loadmore.classList.remove('hide');\r\n                    } else {\r\n                        _.stat.next = null;\r\n                        loadmore.classList.add('hide');\r\n                    }\r\n\r\n                    if( _.stat.thread.posts == 0 ){\r\n                        _.dom.querySelector('.comment-list').dataset.tips = '来做第一个留言的人吧！';\r\n                        return;\r\n                    }\r\n\r\n                    if(posts.length == 0){\r\n                        return;\r\n                    }\r\n                    _.timeAgo();\r\n\r\n                    var iframe =_.dom.querySelectorAll('.comment-item-body iframe');\r\n                    [].forEach.call(iframe, function(item){\r\n                        item.style.width = item.clientWidth + 'px';\r\n                        item.style.height = item.clientWidth * 9 / 16 + 'px';\r\n                        setTimeout(function(){\r\n                            item.src = item.src;\r\n                        },1000)\r\n                    })\r\n                    var tweet =_.dom.querySelectorAll('.comment-item-body .twitter-tweet');\r\n                    if( tweet.length > 0 ){\r\n                        var head= document.getElementsByTagName('head')[0]; \r\n                        var script= document.createElement('script'); \r\n                        script.type= 'text/javascript'; \r\n                        script.src= '//platform.twitter.com/widgets.js'; \r\n                        head.appendChild(script);\r\n                    }\r\n\r\n                    window.scrollTo(0, _.stat.offsetTop);\r\n\r\n                    if (/^#disqus|^#comment-/.test(location.hash) && !data.cursor.hasPrev && !_.stat.disqusLoaded && !_.stat.loaded) {\r\n                        var el = _.dom.querySelector('#idisqus ' + location.hash)\r\n                        if( !!el ){\r\n                            window.scrollBy(0, el.getBoundingClientRect().top);\r\n                        }\r\n                    }\r\n                    _.stat.loading = false;\r\n                    _.stat.loaded = true;\r\n                } \r\n            },function(){\r\n                alert('获取数据失败，请检查服务器设置。')\r\n            }\r\n        );\r\n    }\r\n\r\n    // 读取评论\r\n    iDisqus.prototype.load = function(post){\r\n\r\n        var _ = this;\r\n\r\n        _.stat.post[post.id] = post;\r\n\r\n        var parentPostDom = _.dom.querySelector('.comment-item[data-id=\"'+post.parent+'\"]');\r\n\r\n        var user = {\r\n            username: post.username,\r\n            name: post.name,\r\n            avatar: post.avatar\r\n        }\r\n        if(!!post.username && _.stat.users.map(function(user) { return user.username; }).indexOf(post.username) == -1){\r\n            _.stat.users.push(user);\r\n        }\r\n        \r\n        var parentPost = !!post.parent ? {\r\n            name: `<a class=\"comment-item-pname\" data-parent=\"${post.parent}\" href=\"#${parentPostDom.id}\"><svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" height=\"200\"><path d=\"M1.664 902.144s97.92-557.888 596.352-557.888V129.728L1024 515.84l-425.984 360.448V628.8c-270.464 0-455.232 23.872-596.352 273.28\"></path></svg>${parentPostDom.dataset.name}</a>`,\r\n            dom: parentPostDom.querySelector('.comment-item-children'),\r\n            insert: 'afterbegin'\r\n        } : {\r\n            name: '',\r\n            dom: _.dom.querySelector('.comment-list'),\r\n            insert: post.id == 'preview' || !!post.isPost ? 'afterbegin' : 'beforeend'\r\n        };\r\n\r\n\r\n        var html = `<li class=\"comment-item\" data-id=\"${ post.id }\" data-name=\"${ post.name }\" id=\"comment-${ post.id }\">\r\n        <div class=\"comment-item-body\">\r\n        <a class=\"comment-item-avatar\" href=\"#comment-${ post.id }\"><img src=\"${ post.avatar }\"></a>\r\n        <div class=\"comment-item-main\">\r\n        <div class=\"comment-item-header\"><a class=\"comment-item-name\" title=\"${ post.name }\" rel=\"nofollow\" target=\"_blank\" href=\"${(post.url || 'javascript:;')}\">${ post.name }</a>${( post.isMod ? `<span class=\"comment-item-badge\">${_.opts.badge}</span>` : ``)}${ parentPost.name }<span class=\"comment-item-bullet\"> • </span><time class=\"comment-item-time\" datetime=\"${ post.createdAt }\"></time></div>\r\n        <div class=\"comment-item-content\">${ post.message }</div>\r\n        <div class=\"comment-item-footer\">${!!post.isPost ? `<span class=\"comment-item-manage\"><a class=\"comment-item-edit\" href=\"javascript:;\">编辑</a><span class=\"comment-item-bullet\"> • </span><a class=\"comment-item-delete\" href=\"javascript:;\">删除</a><span class=\"comment-item-bullet\"> • </span></span>` : ``}<a class=\"comment-item-reply\" href=\"javascript:;\">回复</a></div>\r\n        </div></div>\r\n        <ul class=\"comment-item-children\"></ul>\r\n        </li>`;\r\n\r\n        // 已删除评论\r\n        if(!!post.isDeleted){\r\n            html = `<li class=\"comment-item\" data-id=\"${ post.id }\" id=\"comment-${ post.id }\" data-name=\"${ post.name }\">\r\n            <div class=\"comment-item-body\">\r\n            <a class=\"comment-item-avatar\" href=\"#comment-${ post.id }\"><img src=\"${ post.avatar }\"></a>\r\n            <div class=\"comment-item-main\" data-message=\"此评论已被删除。\"></div></div>\r\n            <ul class=\"comment-item-children\"></ul>\r\n            </li>`;\r\n        }\r\n\r\n\r\n        // 更新 or 创建\r\n        if(!!_.dom.querySelector('.comment-item[data-id=\"' + post.id + '\"]')){\r\n            _.dom.querySelector('.comment-item[data-id=\"' + post.id + '\"]').outerHTML = html;\r\n        } else {\r\n            parentPost.dom.insertAdjacentHTML(parentPost.insert, html);\r\n        }\r\n\r\n        // 发布留言，可编辑删除\r\n        if(!!post.isPost && !_.stat.editing){\r\n            var $this = _.dom.querySelector('.comment-item[data-id=\"' + post.id + '\"]');\r\n\r\n            var postEdit = setTimeout(function(){\r\n                // 十分钟后\r\n                if(!!$this.querySelector('.comment-item-manage')){\r\n                    $this.querySelector('.comment-item-manage').outerHTML = '';\r\n                }\r\n            }, 6*1e5);\r\n\r\n            // 删除\r\n            $this.querySelector('.comment-item-delete').addEventListener('click',function(e){\r\n                var postData = {\r\n                    id: post.id\r\n                }\r\n                var delDom = e.currentTarget;\r\n                delDom.innerHTML = '删除中';\r\n                postAjax( _.opts.api + '/removecomment.php', postData, function(resp){\r\n                    var data = JSON.parse(resp);\r\n                    if (data.code === 0) {\r\n                        if(data.response.isDeleted == true){\r\n                            $this.outerHTML = '';\r\n                        } else {\r\n                            alert(data.response.message);\r\n                            $this.querySelector('.comment-item-manage').outerHTML = '';\r\n                        }\r\n                    } else if (data.code === 2) {\r\n                        alert(data.response);\r\n                        $this.querySelector('.comment-item-manage').outerHTML = '';\r\n                    }\r\n                }, function(){\r\n                    alert('删除出错，请稍后重试');\r\n                })\r\n                clearTimeout(postEdit);\r\n            }, false)\r\n\r\n            // 编辑\r\n            $this.querySelector('.comment-item-edit').addEventListener('click',function(){\r\n                _.stat.editing = post;\r\n                _.edit(post);\r\n            }, false)\r\n        }\r\n    }\r\n\r\n    // 读取更多\r\n    iDisqus.prototype.loadMore = function(e, target){\r\n        var _ = this;\r\n        _.stat.offsetTop = d.documentElement.scrollTop || d.body.scrollTop;\r\n        if( !_.stat.loading ){\r\n            target.classList.add('loading');\r\n            _.getlist();\r\n        }\r\n    }\r\n\r\n    // 评论框焦点\r\n    iDisqus.prototype.focus = function(e, target){\r\n        var wrapper = target.closest('.comment-form-wrapper');\r\n        wrapper.classList.add('editing');\r\n        if (wrapper.classList.contains('focus')){\r\n            wrapper.classList.remove('focus');\r\n        } else{\r\n            wrapper.classList.add('focus');\r\n        }\r\n    }\r\n\r\n    // 输入事件\r\n    iDisqus.prototype.input = function(e, target){\r\n        var _ = this;\r\n        var form = target.closest('.comment-form');\r\n        var alertmsg = form.querySelector('.comment-form-alert');\r\n        alertmsg.innerHTML = '';\r\n        var wrapper = form.querySelector('.comment-form-wrapper');\r\n        var filterText = target.value.replace(/<code>.*?<\\/code>/g,'');\r\n        var urls = filterText.match(/(^|\\s|\\r|\\n)*(http:\\/\\/|https:\\/\\/)(\\w|-|\\.)*(disqus|sinaimg|giphy|imgur|instagram|twimg|twitter|youtube|youtu\\.be)((\\w|=|\\?|\\.|\\/|&|\\%|-)*)(jpg|png|gif|gallery\\/\\w+|p\\/[a-zA-Z0-9]{11}.*|status\\/\\d{19}|v=[a-zA-Z0-9]{11}|\\/[a-zA-Z0-9]{11})(\\s|$|\\n)/g);\r\n        form.querySelector('.comment-image-list').innerHTML = '';\r\n        if(!!urls){\r\n            urls.forEach(function(item, i){\r\n                item = item.replace('/\\n|\\r\\n|^\\s|\\s$/g','');\r\n                var image = _.stat.media[item];\r\n                if(!!image){\r\n                    var imageHtml = `<li class=\"comment-image-item\" data-image-url=\"${image.thumbnailUrl}\"><img class=\"comment-image-object\" src=\"https:${image.thumbnailUrl}\"></li>`;\r\n                    form.querySelector('.comment-image-list').insertAdjacentHTML('beforeend', imageHtml);\r\n                    wrapper.classList.add('expanded');\r\n                    return;\r\n                }\r\n                postAjax( _.opts.api + '/media.php', {url: item}, function(resp){\r\n                    var data = JSON.parse(resp);\r\n                    if(data.code == 0){\r\n                        image = data.response;\r\n                        var imageHtml = `<li class=\"comment-image-item\" data-image-url=\"${image.thumbnailUrl}\"><img class=\"comment-image-object\" src=\"https:${image.thumbnailUrl}\"></li>`;\r\n                        form.querySelector('.comment-image-list').insertAdjacentHTML('beforeend', imageHtml);\r\n                        _.stat.media[item] = image;\r\n                        wrapper.classList.add('expanded');\r\n                    }\r\n                }, function(){\r\n                })\r\n            })\r\n        } else {\r\n            wrapper.classList.remove('expanded');\r\n        }\r\n\r\n    }\r\n\r\n    // 提醒用户 @ mention \r\n    iDisqus.prototype.mention = function(e, target){\r\n        var _ = this;\r\n        var textarea = target;\r\n        var selStart = textarea.selectionStart;\r\n        var mentionIndex = textarea.value.slice(0, selStart).lastIndexOf('@');\r\n        var mentionText = textarea.value.slice(mentionIndex, selStart);\r\n        var mentionDom = _.dom.querySelector('.mention-user');\r\n        var showUsers = _.stat.users.filter(function(user){\r\n            var re = new RegExp(mentionText.slice(1), 'i');\r\n            return user.username.search(re) > -1;\r\n        });\r\n        if(mentionText.search(/^@\\w+$|^@$/) == 0 && showUsers.length > 0){\r\n            if( e.keyCode == 38 || e.keyCode == 40){\r\n                return;\r\n            }\r\n            var coord = _.getCaretCoord(textarea);\r\n            var list='', html = '';\r\n\r\n            showUsers.forEach(function(item, i){\r\n                list += `<li class=\"mention-user-item${(i == 0 ? ' active' : '')}\" data-username=\"${ item.username }\"><img class=\"mention-user-avatar\" src=\"${ item.avatar }\"><div class=\"mention-user-username\">${ item.username }</div><div class=\"mention-user-name\">${ item.name }</div></li>`;\r\n            })\r\n            if(!!mentionDom){\r\n                mentionDom.innerHTML = '<ul class=\"mention-user-list\">'+list+'</ul>';\r\n                mentionDom.style.left = coord.left + 'px';\r\n                mentionDom.style.top = coord.top + 'px';\r\n            } else {\r\n                html = `<div class=\"mention-user\" style=\"left:${ coord.left }px;top:${ coord.top }px\"><ul class=\"mention-user-list\">${list}</ul></div>`;\r\n                _.dom.querySelector('#idisqus').insertAdjacentHTML('beforeend', html);\r\n            }\r\n\r\n            // 鼠标悬浮\r\n            _.addListener('mention-user-item', 'mouseover', function(){\r\n                _.dom.querySelector('.mention-user-item.active').classList.remove('active');\r\n                this.classList.add('active');\r\n            })\r\n\r\n            // 鼠标点击\r\n            _.addListener('mention-user-item', 'click', function(){\r\n                var username = '@' + this.dataset.username + ' ';\r\n                textarea.value = textarea.value.slice(0, mentionIndex) + username + textarea.value.slice(selStart);\r\n                mentionDom.outerHTML = '';\r\n                textarea.focus();\r\n                textarea.setSelectionRange(mentionIndex + username.length, mentionIndex + username.length)\r\n            })\r\n        } else if(!!mentionDom){\r\n            mentionDom.outerHTML = '';\r\n        }\r\n    }\r\n\r\n    // 获取光标坐标 https://medium.com/@_jh3y/how-to-where-s-the-caret-getting-the-xy-position-of-the-caret-a24ba372990a\r\n    iDisqus.prototype.getCaretCoord = function(textarea){\r\n        var _ = this;\r\n        var carPos = textarea.selectionEnd,\r\n            div = d.createElement('div'),\r\n            span = d.createElement('span'),\r\n            copyStyle = getComputedStyle(textarea);\r\n        [].forEach.call(copyStyle, function(prop){\r\n            div.style[prop] = copyStyle[prop];\r\n        });\r\n        div.style.position = 'absolute';\r\n        _.dom.appendChild(div);\r\n        div.textContent = textarea.value.substr(0, carPos);\r\n        span.textContent = textarea.value.substr(carPos) || '.';\r\n        div.appendChild(span);\r\n        var coords = {\r\n            'top': textarea.offsetTop - textarea.scrollTop + span.offsetTop + parseFloat(copyStyle.lineHeight),\r\n            'left': textarea.offsetLeft - textarea.scrollLeft + span.offsetLeft\r\n        };\r\n        _.dom.removeChild(div);\r\n        return coords;\r\n    }\r\n\r\n    // 键盘选择用户\r\n    iDisqus.prototype.keySelect = function(e,target){\r\n        var _ = this;\r\n        var textarea = target;\r\n        var selStart = textarea.selectionStart;\r\n        var mentionIndex = textarea.value.slice(0, selStart).lastIndexOf('@');\r\n        var mentionText = textarea.value.slice(mentionIndex, selStart);\r\n        var mentionDom = _.dom.querySelector('.mention-user');\r\n        if( !mentionDom ){\r\n            return;\r\n        }\r\n        var current = _.dom.querySelector('.mention-user-item.active')\r\n        switch(e.keyCode){\r\n            case 13:\r\n                //回车\r\n                var username = '@' + current.dataset.username + ' ';\r\n                textarea.value = textarea.value.slice(0, mentionIndex) + username + textarea.value.slice(selStart);\r\n                textarea.setSelectionRange(mentionIndex + username.length, mentionIndex + username.length)\r\n                _.dom.querySelector('.mention-user').outerHTML = '';\r\n                e.preventDefault();\r\n                break;\r\n            case 38:\r\n                //上\r\n                if(!!current.previousSibling){\r\n                    current.previousSibling.classList.add('active');\r\n                    current.classList.remove('active');\r\n                }\r\n                e.preventDefault();\r\n                break;\r\n            case 40:\r\n                //下\r\n                if(!!current.nextSibling){\r\n                    current.nextSibling.classList.add('active');\r\n                    current.classList.remove('active');\r\n                }\r\n                e.preventDefault();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // 跳到评论\r\n    iDisqus.prototype.jump = function(e, target){\r\n        var _ = this;\r\n        var hash = getLocation(target.href).hash;\r\n        var el = _.dom.querySelector('#idisqus ' + hash);\r\n        history.replaceState(undefined, undefined, hash);\r\n        window.scrollBy(0, el.getBoundingClientRect().top);\r\n        e.preventDefault();\r\n    }\r\n\r\n    // 显示父评论\r\n    iDisqus.prototype.parentShow = function(e, target){\r\n        var _ = this;\r\n        if(!!target.querySelector('.comment-item-parent')){\r\n            return;\r\n        }\r\n        var comment = _.stat.post[target.dataset.parent];\r\n        if( comment.isDeleted ){\r\n            return;\r\n        }\r\n        var message = comment.message.replace(/<[^>]*>/g, '');\r\n        var parentHtml = `<div class=\"comment-item-parent\"><a class=\"comment-item-avatar\" href=\"javascript:;\"><img src=\"${comment.avatar}\"></a><div class=\"comment-item-pmain\"><div class=\"comment-item-pheader\">${comment.name}</div><div class=\"comment-item-pcontent\" title=\"${ message }\">${ message }</div></div></div>`;\r\n        target.insertAdjacentHTML('beforeend', parentHtml);\r\n    }\r\n\r\n    // 点选表情\r\n    iDisqus.prototype.field = function(e, target){\r\n        var _ = this;\r\n        var item = target;\r\n        var form = item.closest('.comment-form');\r\n        var textarea = form.querySelector('.comment-form-textarea');\r\n        _.appendText(textarea, item.dataset.code);\r\n    }\r\n\r\n    // 显示回复框 or 取消回复框\r\n    iDisqus.prototype.show = function(e, target){\r\n        var _ = this;\r\n\r\n        var $this = target;\r\n        var item = $this.closest('.comment-item');\r\n\r\n        // 无论取消还是回复，移除已显示回复框\r\n        var box = _.dom.querySelector('.comment-item .comment-box:not([data-current-id])');\r\n        if( box ){\r\n            var $show = box.closest('.comment-item');\r\n            var cancel = $show.querySelector('.comment-item-cancel')\r\n            cancel.outerHTML = cancel.outerHTML.replace('cancel','reply');\r\n            box.outerHTML = '';\r\n        }\r\n\r\n        // 回复时，显示评论框\r\n        if( $this.className == 'comment-item-reply' ){\r\n            $this.outerHTML = $this.outerHTML.replace('reply','cancel');\r\n            var commentBox = _.box.replace(/emoji-input/g,'emoji-input-'+item.dataset.id).replace(/upload-input/g,'upload-input-'+item.dataset.id);\r\n            item.querySelector('.comment-item-children').insertAdjacentHTML('beforebegin', commentBox);\r\n            _.user.init();\r\n\r\n            item.querySelector('.comment-form-textarea').focus();\r\n        }\r\n\r\n    }\r\n\r\n    // 验证表单\r\n    iDisqus.prototype.verify = function(e, target){\r\n        var _ = this;\r\n        var $this = target;\r\n        var box  = $this.closest('.comment-box');\r\n        var $avatar = box.querySelector('.comment-avatar-image');\r\n        var $name = box.querySelector('.comment-form-name');\r\n        var $email = box.querySelector('.comment-form-email');\r\n        var alertmsg = box.querySelector('.comment-form-alert');\r\n        if($email.value == ''){\r\n            return;\r\n        }\r\n        getAjax(\r\n            _.opts.api + '/getgravatar.php?email=' + $email.value + '&name=' + $name.value,\r\n            function(resp) {\r\n                var data  = JSON.parse(resp);\r\n                if ( !data.isEmail && $this == $email) {\r\n                    _.errorTips('您所填写的邮箱地址有误。', $email);\r\n                }\r\n                if ($name.value != '') {\r\n                    $avatar.src = data.gravatar;\r\n                }\r\n            }, function(){\r\n            }\r\n        );\r\n    }\r\n\r\n    // 添加文本\r\n    iDisqus.prototype.appendText = function(textarea, text){\r\n        var _ = this;\r\n        var selStart = textarea.selectionStart;\r\n        var text = selStart == 0 ? text + ' ' : ' ' + text + ' ';\r\n        textarea.value = textarea.value.slice(0, selStart) + text + textarea.value.slice(selStart);\r\n        textarea.focus();\r\n        textarea.setSelectionRange(selStart + text.length, selStart + text.length);\r\n    }\r\n\r\n    // 上传图片\r\n    iDisqus.prototype.upload = function(e, target){\r\n        var _ = this;\r\n        var file = target;\r\n        var form = file.closest('.comment-form');\r\n        var progress = form.querySelector('.comment-image-progress');\r\n        var loaded = form.querySelector('.comment-image-loaded');\r\n        var wrapper = form.querySelector('.comment-form-wrapper');\r\n        var alertmsg = form.querySelector('.comment-form-alert');\r\n        alertmsg.innerHTML = '';\r\n        if(file.files.length === 0){\r\n            return;\r\n        }\r\n\r\n        // 以文件大小识别是否为同张图片\r\n        var size = file.files[0].size;\r\n\r\n        if( size > 5*1e6 ){\r\n            alertmsg.innerHTML = '请选择 5M 以下图片。';\r\n            setTimeout(function(){\r\n                alertmsg.innerHTML = '';\r\n            }, 3000);\r\n            return;\r\n        }\r\n\r\n        if( _.stat.imageSize.indexOf(size) == -1 ){\r\n            progress.style.width = '80px';\r\n        } else {\r\n            alertmsg.innerHTML = '请勿选择已存在的图片。';\r\n            setTimeout(function(){\r\n                alertmsg.innerHTML = '';\r\n            }, 3000);\r\n            return;\r\n        }\r\n\r\n        // 展开图片上传界面\r\n        wrapper.classList.add('expanded');\r\n\r\n        // 图片上传请求\r\n        var data = new FormData();\r\n        data.append('file', file.files[0] );\r\n        var filename = file.files[0].name;\r\n\r\n        var $item;\r\n\r\n        var xhrUpload = new XMLHttpRequest();\r\n        xhrUpload.withCredentials = true;\r\n        xhrUpload.onreadystatechange = function(){\r\n            if(xhrUpload.readyState == 4 && xhrUpload.status == 200){\r\n                var data = JSON.parse(xhrUpload.responseText);\r\n                if( data.code == 0 ){\r\n                    _.stat.imageSize.push(size);\r\n                    var imageUrl = data.response[filename].url;\r\n                    var textarea = form.querySelector('.comment-form-textarea');\r\n                    _.appendText(textarea, imageUrl);\r\n\r\n                    var image = new Image();\r\n                    image.src = imageUrl;\r\n                    image.onload = function(){\r\n                        $item.innerHTML = '<img class=\"comment-image-object\" src=\"'+imageUrl+'\">';\r\n                        $item.dataset.imageUrl = imageUrl;\r\n                        $item.classList.remove('loading');\r\n                    }\r\n                } else {\r\n                    alertmsg.innerHTML = '图片上传出错。';\r\n                    $item.innerHTML = '';\r\n                    if( !!form.getElementsByClassName('comment-image-item').length){\r\n                        wrapper.classList.remove('expanded');\r\n                    }\r\n                    setTimeout(function(){\r\n                        alertmsg.innerHTML = '';\r\n                    }, 3000);\r\n                }\r\n            }\r\n        };\r\n        xhrUpload.upload.addEventListener('progress', function(e){\r\n            loaded.style.width = Math.ceil((e.loaded/e.total) * 100)+ '%';\r\n        }, false);\r\n        xhrUpload.upload.addEventListener('load', function(e){\r\n            loaded.style.width = 0;\r\n            progress.style.width = 0;\r\n            var imageItem = `<li class=\"comment-image-item loading\" data-image-size=\"${ size }\">\r\n            <svg version=\"1.1\" class=\"comment-image-object\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"24px\" height=\"30px\" viewBox=\"0 0 24 30\" style=\"enable-background: new 0 0 50 50;\" xml:space=\"preserve\">\r\n            <rect x=\"0\" y=\"10\" width=\"4\" height=\"10\" fill=\"rgba(127,145,158,1)\" opacity=\"0.2\">\r\n            <animate attributeName=\"opacity\" attributeType=\"XML\" values=\"0.2; 1; .2\" begin=\"0s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"height\" attributeType=\"XML\" values=\"10; 20; 10\" begin=\"0s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"y\" attributeType=\"XML\" values=\"10; 5; 10\" begin=\"0s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            </rect>\r\n            <rect x=\"8\" y=\"10\" width=\"4\" height=\"10\" fill=\"rgba(127,145,158,1)\" opacity=\"0.2\">\r\n            <animate attributeName=\"opacity\" attributeType=\"XML\" values=\"0.2; 1; .2\" begin=\"0.15s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"height\" attributeType=\"XML\" values=\"10; 20; 10\" begin=\"0.15s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"y\" attributeType=\"XML\" values=\"10; 5; 10\" begin=\"0.15s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            </rect>\r\n            <rect x=\"16\" y=\"10\" width=\"4\" height=\"10\" fill=\"rgba(127,145,158,1)\" opacity=\"0.2\">\r\n            <animate attributeName=\"opacity\" attributeType=\"XML\" values=\"0.2; 1; .2\" begin=\"0.3s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"height\" attributeType=\"XML\" values=\"10; 20; 10\" begin=\"0.3s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"y\" attributeType=\"XML\" values=\"10; 5; 10\" begin=\"0.3s\" dur=\"0.6s\" repeatCount=\"indefinite\" />\r\n            </rect>\r\n            </svg>\r\n            </li>`;\r\n            form.querySelector('.comment-image-list').insertAdjacentHTML('beforeend', imageItem);\r\n            $item = form.querySelector('[data-image-size=\"'+size+'\"]');\r\n        }, false);\r\n        xhrUpload.open('POST', _.opts.api + '/upload.php', true);\r\n        xhrUpload.send(data);\r\n    }\r\n\r\n    // 移除图片\r\n    iDisqus.prototype.remove = function(e){\r\n        var _ = this;\r\n        var $item = e.currentTarget.closest('.comment-image-item');\r\n        var wrapper = e.currentTarget.closest('.comment-form-wrapper');\r\n        $item.outerHTML = '';\r\n        _.stat.imageSize = [];\r\n        var imageArr = wrapper.getElementsByClassName('comment-image-item');\r\n        [].forEach.call(imageArr, function(item, i){\r\n            _.stat.imageSize[i] = item.dataset.imageSize;\r\n        });\r\n        if(_.stat.imageSize.length == 0){\r\n            wrapper.classList.remove('expanded');\r\n        }\r\n        wrapper.querySelector('.comment-image-input').value = '';\r\n    }\r\n\r\n    // 错误提示\r\n    iDisqus.prototype.errorTips = function(Text, Dom){\r\n        var _ = this;\r\n        if( _.user.logged_in == 'true' ){\r\n            _.handle.logout();\r\n        }\r\n        var idisqus = _.dom.querySelector('#idisqus');\r\n        var errorDom = _.dom.querySelector('.comment-form-error');\r\n        if(!!errorDom){\r\n            errorDom.outerHTML = '';\r\n        }\r\n        var Top = Dom.offsetTop;\r\n        var Left = Dom.offsetLeft;\r\n        var errorHtml = '<div class=\"comment-form-error\" style=\"top:'+Top+'px;left:'+Left+'px;\">'+Text+'</div>';\r\n        idisqus.insertAdjacentHTML('beforeend', errorHtml);\r\n        setTimeout(function(){\r\n            var errorDom = _.dom.querySelector('.comment-form-error');\r\n            if(!!errorDom){\r\n                errorDom.outerHTML = '';\r\n            }\r\n        }, 3000);\r\n    }\r\n\r\n    // 发表/回复评论\r\n    iDisqus.prototype.post = function(e, target){\r\n        var _ = this;\r\n        var item =  target.closest('.comment-box[data-current-id]') || target.closest('.comment-item') || target.closest('.comment-box');\r\n        var message = item.querySelector('.comment-form-textarea').value;\r\n        var parentId = !!item.dataset.id ? item.dataset.id : '';\r\n        var imgArr = item.getElementsByClassName('comment-image-item');\r\n\r\n        // 不是编辑框需预览\r\n        if( !item.dataset.currentId ){\r\n            var elName = item.querySelector('.comment-form-name');\r\n            var elEmail = item.querySelector('.comment-form-email');\r\n            var elUrl = item.querySelector('.comment-form-url');\r\n            var alertmsg = item.querySelector('.comment-form-alert');\r\n            var alertClear = function() {\r\n                setTimeout(function(){\r\n                    alertmsg.innerHTML = '';\r\n                }, 3000);\r\n            }\r\n\r\n            if(_.user.type != '1'){\r\n                var anonName = elName.value;\r\n                var anonEmail = elEmail.value;\r\n                var anonUrl = elUrl.value.replace(/\\s/g,'');\r\n                if(/^\\s*$/i.test(anonName)){\r\n                    _.errorTips('名字不能为空或空格。', elName);\r\n                    return;\r\n                }\r\n                if(/^\\s*$/i.test(anonEmail)){\r\n                    _.errorTips('邮箱不能为空或空格。', elEmail);\r\n                    return;\r\n                }\r\n                if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(anonEmail)){\r\n                    _.errorTips('请正确填写邮箱。', elEmail);\r\n                    return;\r\n                }\r\n                if(!/^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~\\/])+$|^\\s*$/i.test(anonUrl)){\r\n                    _.errorTips('请正确填写网址。', elUrl);\r\n                    return;\r\n                }\r\n                _.user.unique = _.user.email == anonEmail ? _.user.unique : generateGUID();\r\n                _.user.name = anonName;\r\n                _.user.email = anonEmail;\r\n                _.user.url = anonUrl;\r\n                _.user.avatar = item.querySelector('.comment-avatar-image').src;\r\n                _.user.submit();\r\n\r\n                if( !_.user.name && !_.user.email ){\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if(!_.stat.message && !_.stat.mediaHtml){\r\n                _.box = _.dom.querySelector('.comment-box').outerHTML.replace('comment-form-wrapper','comment-form-wrapper editing').replace(/加入讨论……/,'');\r\n            }\r\n\r\n            if( /^\\s*$/i.test(message)){\r\n                alertmsg.innerHTML = '评论不能为空或空格。';\r\n                item.querySelector('.comment-form-textarea').focus();\r\n                return;\r\n            };\r\n\r\n            var preMessage = message;\r\n\r\n            if( !!_.opts.emoji_preview ){\r\n                preMessage = preMessage.replace(/:([-+\\w]+):/g, function (match){\r\n                    var emojiShort = match.replace(/:/g,'');\r\n                    var emojiImage = !!_.eac[emojiShort] ? `<img class=\"emojione\" width=\"24\" height=\"24\" alt=\"'+emojiShort+'\" title=\":${emojiShort}:\" src=\"${_.opts.emojiPath +_.eac[emojiShort]}.png\">` : match;\r\n                    return emojiImage;\r\n                });\r\n            } else {\r\n                _.emojiList.forEach(function(item){\r\n                    preMessage = preMessage.replace(`:${item.code}:`, `<img class=\"emojione\" width=\"24\" height=\"24\" src=\"${ _.opts.emojiPath + item.unicode }.png\" />`);\r\n                });\r\n            }\r\n\r\n            var post = {\r\n                'url': !!_.user.url ? _.user.url : '',\r\n                'isMod': false,\r\n                'username': null,\r\n                'name': _.user.name,\r\n                'avatar': _.user.avatar,\r\n                'id': 'preview',\r\n                'parent': parentId,\r\n                'createdAt': (new Date()).toJSON(),\r\n                'message': '<p>' + preMessage + '</p>',\r\n            };\r\n\r\n            _.load(post);\r\n\r\n            _.timeAgo();\r\n\r\n            // 清空或移除评论框\r\n            _.stat.message = message;\r\n            _.stat.mediaHtml = item.querySelector('.comment-image-list').innerHTML;\r\n\r\n            if( parentId ){\r\n                item.querySelector('.comment-item-cancel').click();\r\n            } else {\r\n                item.querySelector('.comment-form-textarea').value = '';\r\n                item.querySelector('.comment-image-list').innerHTML = '';\r\n                item.querySelector('.comment-form-wrapper').classList.remove('expanded','editing');\r\n            }\r\n        }\r\n\r\n        // @\r\n        var mentions = message.match(/@\\w+/g);\r\n        if( !!mentions ){\r\n            mentions = mentions.filter(function(mention) {\r\n                return _.stat.users.map(function(user) { return user.username; }).indexOf(mention.slice(1)) > -1;\r\n            });\r\n            if( mentions.length > 0 ){\r\n                var re = new RegExp('('+mentions.join('|')+')','g');\r\n                message = message.replace(re,'$1:disqus');\r\n            }\r\n        }\r\n\r\n        // POST 操作\r\n        // 编辑框则更新评论\r\n        if( !!item.dataset.currentId ){\r\n            var postData = {\r\n                id: item.dataset.currentId,\r\n                message: message,\r\n                unique: _.user.unique\r\n            }\r\n            postAjax( _.opts.api + '/updatecomment.php', postData, function(resp){\r\n                var data = JSON.parse(resp);\r\n                if (data.code === 0) {\r\n                    _.stat.message = null;\r\n                    _.stat.mediaHtml = null;\r\n                    var post = data.response;\r\n                    _.load(post);\r\n                    _.timeAgo();\r\n                    _.stat.editing = false;\r\n                } else {\r\n                    // 取消编辑\r\n                    _.load(_.stat.editing)\r\n                    _.timeAgo();\r\n                    _.stat.editing = false;\r\n                }\r\n            }, function(){\r\n                // 取消编辑\r\n                _.load(_.stat.editing)\r\n                _.timeAgo();\r\n                _.stat.editing = false;\r\n            })\r\n        } else {\r\n            var postData = {\r\n                thread:  _.stat.thread.id,\r\n                parent: parentId,\r\n                message: message,\r\n                name: _.user.name,\r\n                email: _.user.email,\r\n                url:  _.user.url,\r\n                unique:  _.user.unique\r\n            }\r\n            postAjax( _.opts.api + '/postcomment.php', postData, function(resp){\r\n                var data = JSON.parse(resp);\r\n                if (data.code === 0) {\r\n                    _.dom.querySelector('.comment-item[data-id=\"preview\"]').outerHTML = '';\r\n                    _.stat.thread = data.thread;\r\n                    _.dom.querySelector('#comment-count').innerHTML = _.stat.thread.posts + ' 条评论';\r\n                    var post = data.response;\r\n                    post.isPost = true;\r\n                    _.load(post);\r\n                    _.timeAgo();\r\n                    var postData = {\r\n                        post: JSON.stringify(post),\r\n                        thread: JSON.stringify(_.stat.thread),\r\n                        parent: JSON.stringify(_.stat.post[parentId]),\r\n                        code: data.verifyCode\r\n                    }\r\n                    if(!!data.verifyCode){\r\n                        // 异步发送邮件\r\n                        postAjax( _.opts.api + '/sendemail.php', postData, function(resp){\r\n                            console.info('邮件发送成功！');\r\n                        })\r\n                    }\r\n                } else if (data.code === 2) {\r\n                    alertmsg.innerHTML = data.response;\r\n                    _.dom.querySelector('.comment-item[data-id=\"preview\"]').outerHTML = '';\r\n                    _.reEdit(item);\r\n\r\n                    if( data.response.indexOf('author') > -1){\r\n                        _.handle.logout();\r\n                    }\r\n                } else {\r\n                    alertmsg.innerHTML = '提交失败，请稍后重试，错误代码：' + data.code;\r\n                    alertClear();\r\n\r\n                    _.dom.querySelector('.comment-item[data-id=\"preview\"]').outerHTML = '';\r\n                    _.reEdit(item);\r\n                }\r\n\r\n            }, function(){\r\n                alertmsg.innerHTML = '提交出错，请稍后重试。';\r\n                alertClear();\r\n\r\n                _.dom.querySelector('.comment-item[data-id=\"preview\"]').outerHTML = '';\r\n                _.reEdit(item);\r\n            })\r\n        }\r\n    }\r\n\r\n    // 重新编辑\r\n    iDisqus.prototype.reEdit = function(item){\r\n        var _ = this;\r\n\r\n        if( !!item.dataset.id ){\r\n            item.querySelector('.comment-item-reply').click();\r\n        } else {\r\n            item.querySelector('.comment-form-wrapper').classList.add('editing');\r\n        }\r\n\r\n        // 重新填充文本图片\r\n        if(!!_.stat.message){\r\n            item.querySelector('.comment-form-textarea').value = _.stat.message;\r\n        }\r\n        if(!!_.stat.mediaHtml){\r\n            item.querySelector('.comment-form-wrapper').classList.add('expanded');\r\n            item.querySelector('.comment-image-list').innerHTML = _.stat.mediaHtml;\r\n        }\r\n    }\r\n\r\n    // 编辑\r\n    iDisqus.prototype.edit = function(post){\r\n        var _ = this;\r\n        var commentBox = _.box.replace('comment-box','comment-box comment-box-'+post.id).replace(/emoji-input/g,'emoji-input-'+post.id).replace(/upload-input/g,'upload-input-'+ post.id);\r\n        var $this = _.dom.querySelector('.comment-item[data-id=\"' + post.id + '\"] .comment-item-body');\r\n        $this.outerHTML = commentBox;\r\n        _.user.init();\r\n        var item = _.dom.querySelector('.comment-box-' + post.id);\r\n        item.dataset.currentId = post.id;\r\n        item.querySelector('.comment-form-textarea').focus();\r\n\r\n        // 取消编辑\r\n        item.querySelector('.comment-actions-form').insertAdjacentHTML('afterbegin', '<a class=\"comment-form-cancel\" href=\"javascript:;\">取消</a>')\r\n        item.querySelector('.comment-form-cancel').addEventListener('click', function(){\r\n            _.stat.editing = false;\r\n            _.load(post);\r\n            _.timeAgo();\r\n        }, false);\r\n\r\n        // 重新填充文本图片，连续回复、连续编辑会有 bug\r\n        if(!!_.stat.message){\r\n            item.querySelector('.comment-form-textarea').value = _.stat.message;\r\n        }\r\n        if(!!_.stat.mediaHtml){\r\n            item.querySelector('.comment-form-wrapper').classList.add('expanded');\r\n            item.querySelector('.comment-image-list').innerHTML = _.stat.mediaHtml;\r\n        }\r\n\r\n    }\r\n\r\n    // Thread 初始化\r\n    iDisqus.prototype.threadInit = function(e, target){\r\n        var _ = this;\r\n        _.dom.querySelector('#idisqus').style.display = 'block';\r\n        _.dom.querySelector('#disqus_thread').style.display = 'none';\r\n        getAjax( _.opts.api + '/threadsDetails.php?ident=' + _.opts.identifier + '&link=' + _.opts.url , function(resp){\r\n            var data  = JSON.parse(resp);\r\n            if( data.code == 0){\r\n                _.stat.thread = data.response;\r\n                _.stat.forum = data.forum;\r\n                _.dom.querySelector('#comment-link').href = `https://disqus.com/home/discussion/${_.stat.forum.id}/${_.stat.thread.slug}/?l=zh`;\r\n                _.dom.querySelector('.comment-avatar-image').dataset.avatar = _.stat.forum.avatar;\r\n                _.dom.querySelector('.comment-recommend-count').innerHTML = _.stat.thread.likes || '';\r\n                if( _.user.logged_in == 'false' ){\r\n                    _.dom.querySelector('.comment-avatar-image').src = _.stat.forum.avatar;\r\n                }\r\n                _.opts.badge =  _.stat.forum.moderatorBadgeText;\r\n                if( !_.stat.order ){\r\n                    switch( _.stat.forum.order ){\r\n                        case 1:\r\n                            _.stat.order = 'asc';\r\n                            break;\r\n                        case 2:\r\n                            _.stat.order = 'desc';\r\n                            break;\r\n                        case 4:\r\n                            _.stat.order = 'popular';\r\n                            break;\r\n                    }\r\n                }\r\n                _.dom.querySelector('.comment-order-radio[value=\"'+ _.stat.order +'\"]').checked = true;\r\n                \r\n                var users = data.votedusers;\r\n                var vote = 0;\r\n                if( _.user.type == 1 ){\r\n                    // 已登录\r\n                    vote = users.filter(function(user){\r\n                        return user.username == _.user.username;\r\n                    }).length > 0 ? 1 : 0;\r\n                } else {\r\n                    // 未登录\r\n                    vote = !!_.user.vote[_.stat.thread.id] ? 1 : 0;;\r\n                }\r\n                _.user.vote[_.stat.thread.id] = vote;\r\n                l.setItem('vote', JSON.stringify(_.user.vote));\r\n                if( !!vote ){\r\n                    _.dom.querySelector('.comment-recommend').classList.add('voted');\r\n                    _.dom.querySelector('.comment-recommend-text').innerHTML = '已推荐';\r\n                }\r\n                _.dom.querySelector('#idisqus').classList.remove('init')\r\n                _.loadRelated();\r\n                _.loadReactions();\r\n                _.dom.querySelector('#comment-count').innerHTML = _.stat.thread.posts + ' 条评论';\r\n                _.getlist();\r\n            } else if ( data.code === 2 ){\r\n                    // 自动创建\r\n                    if(_.opts.autoCreate){\r\n                        _.dom.querySelector('.init-container').dataset.tips = '正在创建 Thread……';\r\n                        var postData = {\r\n                            url: _.opts.link,\r\n                            identifier: _.opts.identifier,\r\n                            title: _.opts.title,\r\n                            slug: _.opts.slug,\r\n                            message: _.opts.desc\r\n                        }\r\n                        _.threadCreate(postData);\r\n                        return;\r\n                    }\r\n                    _.dom.querySelector('#idisqus').classList.remove('init');\r\n                    var threadForm = `<div class=\"comment-header\"><span class=\"comment-header-item\">创建 Thread</span></div>\r\n                            <div class=\"comment-thread-form\">\r\n                            <p>由于 Disqus 没有本页面的相关 Thread，故需先创建 Thread</p>\r\n                            <div class=\"comment-form-item\"><label class=\"comment-form-label\">url:</label><input class=\"comment-form-input\" id=\"thread-url\" name=\"url\" value=\"${ _.opts.link }\" disabled /></div>\r\n                            <div class=\"comment-form-item\"><label class=\"comment-form-label\">identifier:</label><input class=\"comment-form-input\" id=\"thread-identifier\" name=\"identifier\" value=\"${ _.opts.identifier }\" disabled /></div>\r\n                            <div class=\"comment-form-item\"><label class=\"comment-form-label\">title:</label><input class=\"comment-form-input\" id=\"thread-title\" name=\"title\" value=\"${ _.opts.title }\" disabled /></div>\r\n                            <div class=\"comment-form-item\"><label class=\"comment-form-label\">slug:</label><input class=\"comment-form-input\" id=\"thread-slug\" name=\"slug\" value=\"${ _.opts.slug }\" /></div>\r\n                            <div class=\"comment-form-item\"><label class=\"comment-form-label\">message:</label><textarea class=\"comment-form-textarea\" id=\"thread-message\" name=\"message\">${ _.opts.desc }</textarea></div>\r\n                            <button id=\"thread-submit\" class=\"comment-form-submit\">提交</button></div>`;\r\n                    _.dom.querySelector('#idisqus').innerHTML = threadForm;\r\n            }\r\n        },function(){})\r\n    }\r\n\r\n    // Thread 打分事件\r\n    iDisqus.prototype.threadVote = function(e, target){\r\n        var _ = this;\r\n        var vote = !!_.user.vote[_.stat.thread.id] ? 0 : 1;\r\n        var postData = {\r\n            thread: _.stat.thread.id,\r\n            unique: _.user.unique,\r\n            vote: vote\r\n        }\r\n        postAjax( _.opts.api + '/threadsVote.php', postData, function(resp){\r\n            _.user.vote[_.stat.thread.id] = vote;\r\n            l.setItem('vote', JSON.stringify(_.user.vote));\r\n            if(!!vote){\r\n                _.dom.querySelector('.comment-recommend').classList.add('voted');\r\n                _.stat.thread.likes ++;\r\n            } else {\r\n                _.dom.querySelector('.comment-recommend').classList.remove('voted');\r\n               _.stat.thread.likes = _.stat.thread.likes == 0 ? 0 : _.stat.thread.likes - 1;\r\n            }\r\n            _.dom.querySelector('.comment-recommend-count').innerHTML = _.stat.thread.likes || '';\r\n        })\r\n    }\r\n\r\n    // Thread Create 事件\r\n    iDisqus.prototype.threadCreate = function(e, target){\r\n        var _ = this;\r\n        if( !!target ){\r\n            var postData = {\r\n                url: _.dom.querySelector('#thread-url').value,\r\n                identifier: _.dom.querySelector('#thread-identifier').value,\r\n                title: _.dom.querySelector('#thread-title').value,\r\n                slug: _.dom.querySelector('#thread-slug').value.replace(/[^A-Za-z0-9_-]+/g,''),\r\n                message: _.dom.querySelector('#thread-message').value\r\n            }\r\n        } else {\r\n            var postData = arguments[0];\r\n        }\r\n        postAjax( _.opts.api + '/createthread.php', postData, function(resp){\r\n            var data = JSON.parse(resp);\r\n            if( data.code === 0 ) {\r\n                alert('创建 Thread 成功，刷新后便可愉快地评论了！');\r\n                setTimeout(function(){location.reload();},2000);\r\n            } else if( data.code === 2 ) {\r\n                if (data.response.indexOf('A thread already exists with link') > -1) {\r\n                    alert(data.response.replace('A thread already exists with link,', '已存在此链接的相关 Thread，'));\r\n                    return;\r\n                }\r\n                if (data.response.indexOf('Invalid URL') > -1) {\r\n                    alert('参数错误，无效的\\'URL\\'');\r\n                    return;\r\n                }\r\n                if (data.response.indexOf('Invalid slug') > -1) {\r\n                    alert('参数错误，无效的\\'slug\\'');\r\n                    return;\r\n                }\r\n                alert(data.response);\r\n                return;\r\n            } else { \r\n                alert(data.response);\r\n                return;\r\n            }\r\n        }, function(){\r\n            alert('创建 Thread 出错，请稍后重试！');\r\n        })\r\n    }\r\n\r\n    // 销毁评论框\r\n    iDisqus.prototype.destroy = function(){\r\n        var _ = this;\r\n        _.dom.innerHTML = '';\r\n        delete _.dom;\r\n        delete _.box;\r\n        delete _.emojiList;\r\n        delete _.user;\r\n        delete _.handle;\r\n        delete _.stat;\r\n        delete _.opts;\r\n    }\r\n\r\n    /* CommonJS */\r\n    if ( true && module && typeof exports === 'object' && exports)\r\n        module.exports = iDisqus;\r\n    /* AMD */\r\n    else if (true)\r\n        !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\r\n            return iDisqus;\r\n        }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n    /* Global */\r\n    else\r\n        {}\r\n\r\n})(window || this);\r\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))\n\n//# sourceURL=webpack://%5Bname%5D/./src/iDisqus.js?")},"./src/iDisqus.scss":
/*!**************************!*\
  !*** ./src/iDisqus.scss ***!
  \**************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('\nvar content = __webpack_require__(/*! !../node_modules/css-loader!../node_modules/postcss-loader/src??ref--4-2!../node_modules/sass-loader/lib/loader.js!./iDisqus.scss */ "./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./src/iDisqus.scss");\n\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {"hmr":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack://%5Bname%5D/./src/iDisqus.scss?')}})},module.exports=factory()},function(c,v){var _;_=window,c.exports=function(c,v){function _(v,_,k){c.WeixinJSBridge?WeixinJSBridge.invoke(v,M(_),function(c){A(v,c,k)}):I(v,k)}function k(v,_,k){c.WeixinJSBridge?WeixinJSBridge.on(v,function(c){k&&k.trigger&&k.trigger(c),A(v,c,_)}):I(v,k||_)}function M(c){return(c=c||{}).appId=R.appId,c.verifyAppId=R.appId,c.verifySignType="sha1",c.verifyTimestamp=R.timestamp+"",c.verifyNonceStr=R.nonceStr,c.verifySignature=R.signature,c}function B(c){return{timeStamp:c.timestamp+"",nonceStr:c.nonceStr,package:c.package,paySign:c.paySign,signType:c.signType||"SHA1"}}function A(c,v,_){"openEnterpriseChat"==c&&(v.errCode=v.err_code),delete v.err_code,delete v.err_desc,delete v.err_detail;var k=v.errMsg;k||(k=v.err_msg,delete v.err_msg,k=function(c,v){var _=c,k=H[_];k&&(_=k);var M="ok";if(v){var B=v.indexOf(":");"confirm"==(M=v.substring(B+1))&&(M="ok"),"failed"==M&&(M="fail"),-1!=M.indexOf("failed_")&&(M=M.substring(7)),-1!=M.indexOf("fail_")&&(M=M.substring(5)),"access denied"!=(M=(M=M.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=M||(M="permission denied"),"config"==_&&"function not exist"==M&&(M="ok"),""==M&&(M="fail")}return v=_+":"+M}(c,k),v.errMsg=k),(_=_||{})._complete&&(_._complete(v),delete _._complete),k=v.errMsg||"",R.debug&&!_.isInnerInvoke&&alert(JSON.stringify(v));var M=k.indexOf(":");switch(k.substring(M+1)){case"ok":_.success&&_.success(v);break;case"cancel":_.cancel&&_.cancel(v);break;default:_.fail&&_.fail(v)}_.complete&&_.complete(v)}function E(c){if(c){for(var v=0,_=c.length;v<_;++v){var k=c[v],M=P[k];M&&(c[v]=M)}return c}}function I(c,v){if(!(!R.debug||v&&v.isInnerInvoke)){var _=H[c];_&&(c=_),v&&v._complete&&delete v._complete,console.log('"'+c+'",',v||"")}}function D(){return(new Date).getTime()}function q(v){Y&&(c.WeixinJSBridge?"preInject"===$.__wxjsjs__isPreInject?$.addEventListener&&$.addEventListener("WeixinJSBridgeReady",v,!1):v():$.addEventListener&&$.addEventListener("WeixinJSBridgeReady",v,!1))}function j(){w.invoke||(w.invoke=function(v,_,k){c.WeixinJSBridge&&WeixinJSBridge.invoke(v,M(_),k)},w.on=function(v,_){c.WeixinJSBridge&&WeixinJSBridge.on(v,_)})}function N(c){if("string"==typeof c&&c.length>0){var v=c.split("?")[0],_=c.split("?")[1];return v+=".html",void 0!==_?v+"?"+_:v}}if(!c.jWeixin){var P={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},H=function(){var c={};for(var v in P)c[P[v]]=v;return c}(),$=c.document,z=$.title,F=navigator.userAgent.toLowerCase(),V=navigator.platform.toLowerCase(),W=!(!V.match("mac")&&!V.match("win")),G=-1!=F.indexOf("wxdebugger"),Y=-1!=F.indexOf("micromessenger"),J=-1!=F.indexOf("android"),Z=-1!=F.indexOf("iphone")||-1!=F.indexOf("ipad"),Q=function(){var c=F.match(/micromessenger\/(\d+\.\d+\.\d+)/)||F.match(/micromessenger\/(\d+\.\d+)/);return c?c[1]:""}(),K={initStartTime:D(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},u={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:Z?1:J?2:-1,clientVersion:Q,url:encodeURIComponent(location.href)},R={},S={_completes:[]},C={state:0,data:{}};q(function(){K.initEndTime=D()});var O=!1,U=[],w={config:function(c){R=c,I("config",c);var v=!1!==R.check;q(function(){if(v)_(P.config,{verifyJsApiList:E(R.jsApiList)},function(){S._complete=function(c){K.preVerifyEndTime=D(),C.state=1,C.data=c},S.success=function(c){u.isPreVerifyOk=0},S.fail=function(c){S._fail?S._fail(c):C.state=-1};var c=S._completes;return c.push(function(){!function(c){if(!(W||G||R.debug||Q<"6.0.2"||u.systemType<0)){var v=new Image;u.appId=R.appId,u.initTime=K.initEndTime-K.initStartTime,u.preVerifyTime=K.preVerifyEndTime-K.preVerifyStartTime,w.getNetworkType({isInnerInvoke:!0,success:function(c){u.networkType=c.networkType;var _="https://open.weixin.qq.com/sdk/report?v="+u.version+"&o="+u.isPreVerifyOk+"&s="+u.systemType+"&c="+u.clientVersion+"&a="+u.appId+"&n="+u.networkType+"&i="+u.initTime+"&p="+u.preVerifyTime+"&u="+u.url;v.src=_}})}}()}),S.complete=function(v){for(var _=0,k=c.length;_<k;++_)c[_]();S._completes=[]},S}()),K.preVerifyStartTime=D();else{C.state=1;for(var c=S._completes,k=0,M=c.length;k<M;++k)c[k]();S._completes=[]}}),j()},ready:function(c){0!=C.state?c():(S._completes.push(c),!Y&&R.debug&&c())},error:function(c){Q<"6.0.2"||(-1==C.state?c(C.data):S._fail=c)},checkJsApi:function(c){_("checkJsApi",{jsApiList:E(c.jsApiList)},(c._complete=function(c){if(J){var v=c.checkResult;v&&(c.checkResult=JSON.parse(v))}c=function(c){var v=c.checkResult;for(var _ in v){var k=H[_];k&&(v[k]=v[_],delete v[_])}return c}(c)},c))},onMenuShareTimeline:function(c){k(P.onMenuShareTimeline,{complete:function(){_("shareTimeline",{title:c.title||z,desc:c.title||z,img_url:c.imgUrl||"",link:c.link||location.href,type:c.type||"link",data_url:c.dataUrl||""},c)}},c)},onMenuShareAppMessage:function(c){k(P.onMenuShareAppMessage,{complete:function(){_("sendAppMessage",{title:c.title||z,desc:c.desc||"",link:c.link||location.href,img_url:c.imgUrl||"",type:c.type||"link",data_url:c.dataUrl||""},c)}},c)},onMenuShareQQ:function(c){k(P.onMenuShareQQ,{complete:function(){_("shareQQ",{title:c.title||z,desc:c.desc||"",img_url:c.imgUrl||"",link:c.link||location.href},c)}},c)},onMenuShareWeibo:function(c){k(P.onMenuShareWeibo,{complete:function(){_("shareWeiboApp",{title:c.title||z,desc:c.desc||"",img_url:c.imgUrl||"",link:c.link||location.href},c)}},c)},onMenuShareQZone:function(c){k(P.onMenuShareQZone,{complete:function(){_("shareQZone",{title:c.title||z,desc:c.desc||"",img_url:c.imgUrl||"",link:c.link||location.href},c)}},c)},startRecord:function(c){_("startRecord",{},c)},stopRecord:function(c){_("stopRecord",{},c)},onVoiceRecordEnd:function(c){k("onVoiceRecordEnd",c)},playVoice:function(c){_("playVoice",{localId:c.localId},c)},pauseVoice:function(c){_("pauseVoice",{localId:c.localId},c)},stopVoice:function(c){_("stopVoice",{localId:c.localId},c)},onVoicePlayEnd:function(c){k("onVoicePlayEnd",c)},uploadVoice:function(c){_("uploadVoice",{localId:c.localId,isShowProgressTips:0==c.isShowProgressTips?0:1},c)},downloadVoice:function(c){_("downloadVoice",{serverId:c.serverId,isShowProgressTips:0==c.isShowProgressTips?0:1},c)},translateVoice:function(c){_("translateVoice",{localId:c.localId,isShowProgressTips:0==c.isShowProgressTips?0:1},c)},chooseImage:function(c){_("chooseImage",{scene:"1|2",count:c.count||9,sizeType:c.sizeType||["original","compressed"],sourceType:c.sourceType||["album","camera"]},(c._complete=function(c){if(J){var v=c.localIds;v&&(c.localIds=JSON.parse(v))}},c))},getLocation:function(c){},previewImage:function(c){_(P.previewImage,{current:c.current,urls:c.urls},c)},uploadImage:function(c){_("uploadImage",{localId:c.localId,isShowProgressTips:0==c.isShowProgressTips?0:1},c)},downloadImage:function(c){_("downloadImage",{serverId:c.serverId,isShowProgressTips:0==c.isShowProgressTips?0:1},c)},getLocalImgData:function(c){!1===O?(O=!0,_("getLocalImgData",{localId:c.localId},(c._complete=function(c){if(O=!1,U.length>0){var v=U.shift();w.getLocalImgData(v)}},c))):U.push(c)},getNetworkType:function(c){_("getNetworkType",{},(c._complete=function(c){c=function(c){var v=c.errMsg;c.errMsg="getNetworkType:ok";var _=c.subtype;if(delete c.subtype,_)c.networkType=_;else{var k=v.indexOf(":"),M=v.substring(k+1);switch(M){case"wifi":case"edge":case"wwan":c.networkType=M;break;default:c.errMsg="getNetworkType:fail"}}return c}(c)},c))},openLocation:function(c){_("openLocation",{latitude:c.latitude,longitude:c.longitude,name:c.name||"",address:c.address||"",scale:c.scale||28,infoUrl:c.infoUrl||""},c)},getLocation:function(c){c=c||{},_(P.getLocation,{type:c.type||"wgs84"},(c._complete=function(c){delete c.type},c))},hideOptionMenu:function(c){_("hideOptionMenu",{},c)},showOptionMenu:function(c){_("showOptionMenu",{},c)},closeWindow:function(c){_("closeWindow",{},c=c||{})},hideMenuItems:function(c){_("hideMenuItems",{menuList:c.menuList},c)},showMenuItems:function(c){_("showMenuItems",{menuList:c.menuList},c)},hideAllNonBaseMenuItem:function(c){_("hideAllNonBaseMenuItem",{},c)},showAllNonBaseMenuItem:function(c){_("showAllNonBaseMenuItem",{},c)},scanQRCode:function(c){_("scanQRCode",{needResult:(c=c||{}).needResult||0,scanType:c.scanType||["qrCode","barCode"]},(c._complete=function(c){if(Z){var v=c.resultStr;if(v){var _=JSON.parse(v);c.resultStr=_&&_.scan_code&&_.scan_code.scan_result}}},c))},openAddress:function(c){_(P.openAddress,{},(c._complete=function(c){c=function(c){return c.postalCode=c.addressPostalCode,delete c.addressPostalCode,c.provinceName=c.proviceFirstStageName,delete c.proviceFirstStageName,c.cityName=c.addressCitySecondStageName,delete c.addressCitySecondStageName,c.countryName=c.addressCountiesThirdStageName,delete c.addressCountiesThirdStageName,c.detailInfo=c.addressDetailInfo,delete c.addressDetailInfo,c}(c)},c))},openProductSpecificView:function(c){_(P.openProductSpecificView,{pid:c.productId,view_type:c.viewType||0,ext_info:c.extInfo},c)},addCard:function(c){for(var v=c.cardList,k=[],M=0,B=v.length;M<B;++M){var A=v[M],E={card_id:A.cardId,card_ext:A.cardExt};k.push(E)}_(P.addCard,{card_list:k},(c._complete=function(c){var v=c.card_list;if(v){for(var _=0,k=(v=JSON.parse(v)).length;_<k;++_){var M=v[_];M.cardId=M.card_id,M.cardExt=M.card_ext,M.isSuccess=!!M.is_succ,delete M.card_id,delete M.card_ext,delete M.is_succ}c.cardList=v,delete c.card_list}},c))},chooseCard:function(c){_("chooseCard",{app_id:R.appId,location_id:c.shopId||"",sign_type:c.signType||"SHA1",card_id:c.cardId||"",card_type:c.cardType||"",card_sign:c.cardSign,time_stamp:c.timestamp+"",nonce_str:c.nonceStr},(c._complete=function(c){c.cardList=c.choose_card_info,delete c.choose_card_info},c))},openCard:function(c){for(var v=c.cardList,k=[],M=0,B=v.length;M<B;++M){var A=v[M],E={card_id:A.cardId,code:A.code};k.push(E)}_(P.openCard,{card_list:k},c)},consumeAndShareCard:function(c){_(P.consumeAndShareCard,{consumedCardId:c.cardId,consumedCode:c.code},c)},chooseWXPay:function(c){_(P.chooseWXPay,B(c),c)},openEnterpriseRedPacket:function(c){_(P.openEnterpriseRedPacket,B(c),c)},startSearchBeacons:function(c){_(P.startSearchBeacons,{ticket:c.ticket},c)},stopSearchBeacons:function(c){_(P.stopSearchBeacons,{},c)},onSearchBeacons:function(c){k(P.onSearchBeacons,c)},openEnterpriseChat:function(c){_("openEnterpriseChat",{useridlist:c.userIds,chatname:c.groupName},c)},launchMiniProgram:function(c){_("launchMiniProgram",{targetAppId:c.targetAppId,path:N(c.path),envVersion:c.envVersion},c)},miniProgram:{navigateBack:function(c){c=c||{},q(function(){_("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:c.delta||1}},c)})},navigateTo:function(c){q(function(){_("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:c.url}},c)})},redirectTo:function(c){q(function(){_("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:c.url}},c)})},switchTab:function(c){q(function(){_("invokeMiniProgramAPI",{name:"switchTab",arg:{url:c.url}},c)})},reLaunch:function(c){q(function(){_("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:c.url}},c)})},postMessage:function(c){q(function(){_("invokeMiniProgramAPI",{name:"postMessage",arg:c.data||{}},c)})},getEnv:function(v){q(function(){v({miniprogram:"miniprogram"===c.__wxjs_environment})})}}},d=1,X={};return $.addEventListener("error",function(c){if(!J){var v=c.target,_=v.tagName,k=v.src;if(("IMG"==_||"VIDEO"==_||"AUDIO"==_||"SOURCE"==_)&&-1!=k.indexOf("wxlocalresource://")){c.preventDefault(),c.stopPropagation();var M=v["wx-id"];if(M||(M=d++,v["wx-id"]=M),X[M])return;X[M]=!0,w.ready(function(){w.getLocalImgData({localId:k,success:function(c){v.src=c.localData}})})}}},!0),$.addEventListener("load",function(c){if(!J){var v=c.target,_=v.tagName;if(v.src,"IMG"==_||"VIDEO"==_||"AUDIO"==_||"SOURCE"==_){var k=v["wx-id"];k&&(X[k]=!1)}}},!0),v&&(c.wx=c.jWeixin=w),w}}(_)},function(c,v,_){var k,M,B;M=[],void 0===(B="function"==typeof(k=function(){var c=52.35987755982988,v=3.141592653589793,_=6378245,k=.006693421622965943,M=function(c,_){var _=+_,c=+c,k=2*c-100+3*_+.2*_*_+.1*c*_+.2*Math.sqrt(Math.abs(c));return k+=2*(20*Math.sin(6*c*v)+20*Math.sin(2*c*v))/3,k+=2*(20*Math.sin(_*v)+40*Math.sin(_/3*v))/3,k+=2*(160*Math.sin(_/12*v)+320*Math.sin(_*v/30))/3},B=function(c,_){var _=+_,c=+c,k=300+c+2*_+.1*c*c+.1*c*_+.1*Math.sqrt(Math.abs(c));return k+=2*(20*Math.sin(6*c*v)+20*Math.sin(2*c*v))/3,k+=2*(20*Math.sin(c*v)+40*Math.sin(c/3*v))/3,k+=2*(150*Math.sin(c/12*v)+300*Math.sin(c/30*v))/3},A=function(c,v){var v=+v,c=+c;return!(c>73.66&&c<135.05&&v>3.86&&v<53.55)};return{bd09togcj02:function(v,_){var v=+v,_=+_,k=v-.0065,M=_-.006,B=Math.sqrt(k*k+M*M)-2e-5*Math.sin(M*c),A=Math.atan2(M,k)-3e-6*Math.cos(k*c),E=B*Math.cos(A),I=B*Math.sin(A);return[E,I]},gcj02tobd09:function(v,_){var _=+_,v=+v,k=Math.sqrt(v*v+_*_)+2e-5*Math.sin(_*c),M=Math.atan2(_,v)+3e-6*Math.cos(v*c),B=k*Math.cos(M)+.0065,A=k*Math.sin(M)+.006;return[B,A]},wgs84togcj02:function(c,E){if(A(c=+c,E=+E))return[c,E];var I=M(c-105,E-35),D=B(c-105,E-35),q=E/180*v,j=Math.sin(q);j=1-k*j*j;var N=Math.sqrt(j);I=180*I/(_*(1-k)/(j*N)*v),D=180*D/(_/N*Math.cos(q)*v);var P=E+I,H=c+D;return[H,P]},gcj02towgs84:function(c,E){if(A(c=+c,E=+E))return[c,E];var I=M(c-105,E-35),D=B(c-105,E-35),q=E/180*v,j=Math.sin(q);j=1-k*j*j;var N=Math.sqrt(j);I=180*I/(_*(1-k)/(j*N)*v),D=180*D/(_/N*Math.cos(q)*v);var P=E+I,H=c+D;return[2*c-H,2*E-P]}}})?k.apply(v,M):k)||(c.exports=B)},function(c,v,_){var k,M,B,A,E,I,D;k=function(){return function(){var c,v,_="0.4.2",k="hasOwnProperty",M=/[\.\/]/,B=function(){},A=function(c,v){return c-v},E={n:{}},I=function(_,k){_=String(_);var M,B=v,E=Array.prototype.slice.call(arguments,2),D=I.listeners(_),q=0,j=[],N={},P=[],H=c;c=_,v=0;for(var $=0,z=D.length;z>$;$++)"zIndex"in D[$]&&(j.push(D[$].zIndex),D[$].zIndex<0&&(N[D[$].zIndex]=D[$]));for(j.sort(A);j[q]<0;)if(M=N[j[q++]],P.push(M.apply(k,E)),v)return v=B,P;for($=0;z>$;$++)if("zIndex"in(M=D[$]))if(M.zIndex==j[q]){if(P.push(M.apply(k,E)),v)break;do{if((M=N[j[++q]])&&P.push(M.apply(k,E)),v)break}while(M)}else N[M.zIndex]=M;else if(P.push(M.apply(k,E)),v)break;return v=B,c=H,P.length?P:null};return I._events=E,I.listeners=function(c){var v,_,k,B,A,I,D,q,j=c.split(M),N=E,P=[N],H=[];for(B=0,A=j.length;A>B;B++){for(q=[],I=0,D=P.length;D>I;I++)for(N=P[I].n,_=[N[j[B]],N["*"]],k=2;k--;)(v=_[k])&&(q.push(v),H=H.concat(v.f||[]));P=q}return H},I.on=function(c,v){if(c=String(c),"function"!=typeof v)return function(){};for(var _=c.split(M),k=E,A=0,I=_.length;I>A;A++)k=(k=k.n).hasOwnProperty(_[A])&&k[_[A]]||(k[_[A]]={n:{}});for(k.f=k.f||[],A=0,I=k.f.length;I>A;A++)if(k.f[A]==v)return B;return k.f.push(v),function(c){+c==+c&&(v.zIndex=+c)}},I.f=function(c){var v=[].slice.call(arguments,1);return function(){I.apply(null,[c,null].concat(v).concat([].slice.call(arguments,0)))}},I.stop=function(){v=1},I.nt=function(v){return v?new RegExp("(?:\\.|\\/|^)"+v+"(?:\\.|\\/|$)").test(c):c},I.nts=function(){return c.split(M)},I.off=I.unbind=function(c,v){if(c){var _,B,A,D,q,j,N,P=c.split(M),H=[E];for(D=0,q=P.length;q>D;D++)for(j=0;j<H.length;j+=A.length-2){if(A=[j,1],_=H[j].n,"*"!=P[D])_[P[D]]&&A.push(_[P[D]]);else for(B in _)_[k](B)&&A.push(_[B]);H.splice.apply(H,A)}for(D=0,q=H.length;q>D;D++)for(_=H[D];_.n;){if(v){if(_.f){for(j=0,N=_.f.length;N>j;j++)if(_.f[j]==v){_.f.splice(j,1);break}!_.f.length&&delete _.f}for(B in _.n)if(_.n[k](B)&&_.n[B].f){var $=_.n[B].f;for(j=0,N=$.length;N>j;j++)if($[j]==v){$.splice(j,1);break}!$.length&&delete _.n[B].f}}else for(B in delete _.f,_.n)_.n[k](B)&&_.n[B].f&&delete _.n[B].f;_=_.n}}else I._events=E={n:{}}},I.once=function(c,v){var _=function(){return I.unbind(c,_),v.apply(this,arguments)};return I.on(c,_)},I.version=_,I.toString=function(){return"You are running Eve "+_},I}()}.call((M={id:"eve",exports:{},loaded:!1}).exports,_,M.exports,M),M.loaded=!0,void 0!==k||(k=M.exports),B=function(c){return function(c){function v(_){if(v.is(_,"function"))return F?_():c.on("raphael.DOMload",_);if(v.is(_,s))return v._engine.create[u](v,_.splice(0,3+v.is(_[0],h))).add(_);var k=Array.prototype.slice.call(arguments,0);if(v.is(k[k.length-1],"function")){var M=k.pop();return F?M.call(v._engine.create[u](v,k)):c.on("raphael.DOMload",function(){M.call(v._engine.create[u](v,k))})}return v._engine.create[u](v,arguments)}function _(c){if("function"==typeof c||Object(c)!==c)return c;var v=new c.constructor;for(var k in c)c[J](k)&&(v[k]=_(c[k]));return v}function k(c,v,_){return function k(){var M=Array.prototype.slice.call(arguments,0),B=M.join("␀"),A=k.cache=k.cache||{},E=k.count=k.count||[];return A[J](B)?(function(c,v){for(var _=0,k=c.length;k>_;_++)if(c[_]===v)return c.push(c.splice(_,1)[0])}(E,B),_?_(A[B]):A[B]):(E.length>=1e3&&delete A[E.shift()],E.push(B),A[B]=c[u](v,M),_?_(A[B]):A[B])}}function M(){return this.hex}function B(c,v){for(var _=[],k=0,M=c.length;M-2*!v>k;k+=2){var B=[{x:+c[k-2],y:+c[k-1]},{x:+c[k],y:+c[k+1]},{x:+c[k+2],y:+c[k+3]},{x:+c[k+4],y:+c[k+5]}];v?k?M-4==k?B[3]={x:+c[0],y:+c[1]}:M-2==k&&(B[2]={x:+c[0],y:+c[1]},B[3]={x:+c[2],y:+c[3]}):B[0]={x:+c[M-2],y:+c[M-1]}:M-4==k?B[3]=B[2]:k||(B[0]={x:+c[k],y:+c[k+1]}),_.push(["C",(-B[0].x+6*B[1].x+B[2].x)/6,(-B[0].y+6*B[1].y+B[2].y)/6,(B[1].x+6*B[2].x-B[3].x)/6,(B[1].y+6*B[2].y-B[3].y)/6,B[2].x,B[2].y])}return _}function A(c,v,_,k,M){var B=-3*v+9*_-9*k+3*M,A=c*B+6*v-12*_+6*k;return c*A-3*v+3*_}function E(c,v,_,k,M,B,E,I,D){null==D&&(D=1);for(var q=(D=D>1?1:0>D?0:D)/2,j=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],N=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],P=0,H=0;12>H;H++){var $=q*j[H]+q,z=A($,c,_,M,E),F=A($,v,k,B,I),V=z*z+F*F;P+=N[H]*a.sqrt(V)}return q*P}function I(c,v,_,k,M,B,A,E){if(!(f(c,_)<r(M,A)||r(c,_)>f(M,A)||f(v,k)<r(B,E)||r(v,k)>f(B,E))){var I=(c*k-v*_)*(M-A)-(c-_)*(M*E-B*A),D=(c*k-v*_)*(B-E)-(v-k)*(M*E-B*A),q=(c-_)*(B-E)-(v-k)*(M-A);if(q){var j=I/q,N=D/q,P=+j.toFixed(2),H=+N.toFixed(2);if(!(P<+r(c,_).toFixed(2)||P>+f(c,_).toFixed(2)||P<+r(M,A).toFixed(2)||P>+f(M,A).toFixed(2)||H<+r(v,k).toFixed(2)||H>+f(v,k).toFixed(2)||H<+r(B,E).toFixed(2)||H>+f(B,E).toFixed(2)))return{x:j,y:N}}}}function D(c,_,k){var M=v.bezierBBox(c),B=v.bezierBBox(_);if(!v.isBBoxIntersect(M,B))return k?0:[];for(var A=E.apply(0,c),D=E.apply(0,_),q=f(~~(A/5),1),j=f(~~(D/5),1),N=[],P=[],H={},$=k?0:[],z=0;q+1>z;z++){var F=v.findDotsAtSegment.apply(v,c.concat(z/q));N.push({x:F.x,y:F.y,t:z/q})}for(z=0;j+1>z;z++)F=v.findDotsAtSegment.apply(v,_.concat(z/j)),P.push({x:F.x,y:F.y,t:z/j});for(z=0;q>z;z++)for(var V=0;j>V;V++){var W=N[z],G=N[z+1],Y=P[V],J=P[V+1],Z=T(G.x-W.x)<.001?"y":"x",Q=T(J.x-Y.x)<.001?"y":"x",K=I(W.x,W.y,G.x,G.y,Y.x,Y.y,J.x,J.y);if(K){if(H[K.x.toFixed(4)]==K.y.toFixed(4))continue;H[K.x.toFixed(4)]=K.y.toFixed(4);var u=W.t+T((K[Z]-W[Z])/(G[Z]-W[Z]))*(G.t-W.t),R=Y.t+T((K[Q]-Y[Q])/(J[Q]-Y[Q]))*(J.t-Y.t);u>=0&&1.001>=u&&R>=0&&1.001>=R&&(k?$++:$.push({x:K.x,y:K.y,t1:r(u,1),t2:r(R,1)}))}}return $}function q(c,_,k){c=v._path2curve(c),_=v._path2curve(_);for(var M,B,A,E,I,q,j,N,P,H,$=k?0:[],z=0,F=c.length;F>z;z++){var V=c[z];if("M"==V[0])M=I=V[1],B=q=V[2];else{"C"==V[0]?(P=[M,B].concat(V.slice(1)),M=P[6],B=P[7]):(P=[M,B,M,B,I,q,I,q],M=I,B=q);for(var W=0,G=_.length;G>W;W++){var Y=_[W];if("M"==Y[0])A=j=Y[1],E=N=Y[2];else{"C"==Y[0]?(H=[A,E].concat(Y.slice(1)),A=H[6],E=H[7]):(H=[A,E,A,E,j,N,j,N],A=j,E=N);var J=D(P,H,k);if(k)$+=J;else{for(var Z=0,Q=J.length;Q>Z;Z++)J[Z].segment1=z,J[Z].segment2=W,J[Z].bez1=P,J[Z].bez2=H;$=$.concat(J)}}}}}return $}function j(c,v,_,k,M,B){null!=c?(this.a=+c,this.b=+v,this.c=+_,this.d=+k,this.e=+M,this.f=+B):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function N(){return this.x+O+this.y+O+this.width+" × "+this.height}function P(c,v,_,k,M,B){function A(c){return((D*c+I)*c+E)*c}var E=3*v,I=3*(k-v)-E,D=1-E-I,q=3*_,j=3*(M-_)-q,N=1-q-j;return function(c,v){var _=function(c,v){var _,k,M,B,q,j;for(M=c,j=0;8>j;j++){if(B=A(M)-c,T(B)<v)return M;if(T(q=(3*D*M+2*I)*M+E)<1e-6)break;M-=B/q}if(k=1,(_=0)>(M=c))return _;if(M>k)return k;for(;k>_;){if(B=A(M),T(B-c)<v)return M;c>B?_=M:k=M,M=(k-_)/2+_}return M}(c,v);return((N*_+j)*_+q)*_}(c,1/(200*B))}function H(c,v){var _=[],k={};if(this.ms=v,this.times=1,c){for(var M in c)c[J](M)&&(k[t(M)]=c[M],_.push(t(M)));_.sort(Ic)}this.anim=k,this.top=_[_.length-1],this.percents=_}function $(_,k,M,B,A,E){M=t(M);var I,D,q,N,H,$,z=_.ms,F={},V={},G={};if(B)for(Z=0,Q=_v.length;Q>Z;Z++){var Y=_v[Z];if(Y.el.id==k.id&&Y.anim==_){Y.percent!=M?(_v.splice(Z,1),q=1):D=Y,k.attr(Y.totalOrigin);break}}else B=+V;for(var Z=0,Q=_.percents.length;Q>Z;Z++){if(_.percents[Z]==M||_.percents[Z]>B*_.top){M=_.percents[Z],H=_.percents[Z-1]||0,z=z/_.top*(M-H),N=_.percents[Z+1],I=_.anim[M];break}B&&k.attr(_.anim[_.percents[Z]])}if(I){if(D)D.initstatus=B,D.start=new Date-D.ms*B;else{for(var K in I)if(I[J](K)&&(cc[J](K)||k.paper.customAttributes[J](K)))switch(F[K]=k.attr(K),null==F[K]&&(F[K]=o[K]),V[K]=I[K],cc[K]){case h:G[K]=(V[K]-F[K])/z;break;case"colour":F[K]=v.getRGB(F[K]);var u=v.getRGB(V[K]);G[K]={r:(u.r-F[K].r)/z,g:(u.g-F[K].g)/z,b:(u.b-F[K].b)/z};break;case"path":var S=wc(F[K],V[K]),C=S[1];for(F[K]=S[0],G[K]=[],Z=0,Q=F[K].length;Q>Z;Z++){G[K][Z]=[0];for(var O=1,d=F[K][Z].length;d>O;O++)G[K][Z][O]=(C[Z][O]-F[K][Z][O])/z}break;case"transform":var X=k._,x=fc(X[K],V[K]);if(x)for(F[K]=x.from,V[K]=x.to,G[K]=[],G[K].real=!0,Z=0,Q=F[K].length;Q>Z;Z++)for(G[K][Z]=[F[K][Z][0]],O=1,d=F[K][Z].length;d>O;O++)G[K][Z][O]=(V[K][Z][O]-F[K][Z][O])/z;else{var a=k.matrix||new j,f={_:{transform:X.transform},getBBox:function(){return k.getBBox(1)}};F[K]=[a.a,a.b,a.c,a.d,a.e,a.f],xc(f,V[K]),V[K]=f._.transform,G[K]=[(f.matrix.a-a.a)/z,(f.matrix.b-a.b)/z,(f.matrix.c-a.c)/z,(f.matrix.d-a.d)/z,(f.matrix.e-a.e)/z,(f.matrix.f-a.f)/z]}break;case"csv":var r=U(I[K])[w](W),T=U(F[K])[w](W);if("clip-rect"==K)for(F[K]=T,G[K]=[],Z=T.length;Z--;)G[K][Z]=(r[Z]-F[K][Z])/z;V[K]=r;break;default:for(r=[][R](I[K]),T=[][R](F[K]),G[K]=[],Z=k.paper.customAttributes[K].length;Z--;)G[K][Z]=((r[Z]||0)-(T[Z]||0))/z}var p=I.easing,L=v.easing_formulas[p];if(!L)if((L=U(p).match(i))&&5==L.length){var y=L;L=function(c){return P(c,+y[1],+y[2],+y[3],+y[4],z)}}else L=Dc;if($=I.start||_.start||+new Date,Y={anim:_,percent:M,timestamp:$,start:$+(_.del||0),status:0,initstatus:B||0,stop:!1,ms:z,easing:L,from:F,diff:G,to:V,el:k,callback:I.callback,prev:H,next:N,repeat:E||_.times,origin:k.attr(),totalOrigin:A},_v.push(Y),B&&!D&&!q&&(Y.stop=!0,Y.start=new Date-z*B,1==_v.length))return Mv();q&&(Y.start=new Date-Y.ms*B),1==_v.length&&kv(Mv)}c("raphael.anim.start."+k.id,k,_)}}function z(c){for(var v=0;v<_v.length;v++)_v[v].el.paper==c&&_v.splice(v--,1)}v.version="2.1.4",v.eve=c;var F,V,W=/[, ]+/,G={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},Y=/\{(\d+)\}/g,J="hasOwnProperty",Z={doc:document,win:window},Q={was:Object.prototype[J].call(Z.win,"Raphael"),is:Z.win.Raphael},K=function(){this.ca=this.customAttributes={}},u="apply",R="concat",S="ontouchstart"in Z.win||Z.win.DocumentTouch&&Z.doc instanceof DocumentTouch,C="",O=" ",U=String,w="split",d="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[w](O),X={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x=U.prototype.toLowerCase,a=Math,f=a.max,r=a.min,T=a.abs,p=a.pow,L=a.PI,h="number",y="string",s="array",g=Object.prototype.toString,b=(v._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),m={NaN:1,Infinity:1,"-Infinity":1},i=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,n=a.round,t=parseFloat,l=parseInt,e=U.prototype.toUpperCase,o=v._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},cc=v._availableAnimAttrs={blur:h,"clip-rect":"csv",cx:h,cy:h,fill:"colour","fill-opacity":h,"font-size":h,height:h,opacity:h,path:"path",r:h,rx:h,ry:h,stroke:"colour","stroke-opacity":h,"stroke-width":h,transform:"transform",width:h,x:h,y:h},vc=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,_c={hs:1,rg:1},kc=/,?([achlmqrstvxz]),?/gi,Mc=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Bc=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Ac=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Ec=(v._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Ic=function(c,v){return t(c)-t(v)},Dc=function(c){return c},qc=v._rectPath=function(c,v,_,k,M){return M?[["M",c+M,v],["l",_-2*M,0],["a",M,M,0,0,1,M,M],["l",0,k-2*M],["a",M,M,0,0,1,-M,M],["l",2*M-_,0],["a",M,M,0,0,1,-M,-M],["l",0,2*M-k],["a",M,M,0,0,1,M,-M],["z"]]:[["M",c,v],["l",_,0],["l",0,k],["l",-_,0],["z"]]},jc=function(c,v,_,k){return null==k&&(k=_),[["M",c,v],["m",0,-k],["a",_,k,0,1,1,0,2*k],["a",_,k,0,1,1,0,-2*k],["z"]]},Nc=v._getPath={path:function(c){return c.attr("path")},circle:function(c){var v=c.attrs;return jc(v.cx,v.cy,v.r)},ellipse:function(c){var v=c.attrs;return jc(v.cx,v.cy,v.rx,v.ry)},rect:function(c){var v=c.attrs;return qc(v.x,v.y,v.width,v.height,v.r)},image:function(c){var v=c.attrs;return qc(v.x,v.y,v.width,v.height)},text:function(c){var v=c._getBBox();return qc(v.x,v.y,v.width,v.height)},set:function(c){var v=c._getBBox();return qc(v.x,v.y,v.width,v.height)}},Pc=v.mapPath=function(c,v){if(!v)return c;var _,k,M,B,A,E,I;for(c=wc(c),M=0,A=c.length;A>M;M++)for(I=c[M],B=1,E=I.length;E>B;B+=2)_=v.x(I[B],I[B+1]),k=v.y(I[B],I[B+1]),I[B]=_,I[B+1]=k;return c};if(v._g=Z,v.type=Z.win.SVGAngle||Z.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==v.type){var Hc,$c=Z.doc.createElement("div");if($c.innerHTML='<v:shape adj="1"/>',(Hc=$c.firstChild).style.behavior="url(#default#VML)",!Hc||"object"!=typeof Hc.adj)return v.type=C;$c=null}v.svg=!(v.vml="VML"==v.type),v._Paper=K,v.fn=V=K.prototype=v.prototype,v._id=0,v._oid=0,v.is=function(c,v){return"finite"==(v=x.call(v))?!m[J](+c):"array"==v?c instanceof Array:"null"==v&&null===c||v==typeof c&&null!==c||"object"==v&&c===Object(c)||"array"==v&&Array.isArray&&Array.isArray(c)||g.call(c).slice(8,-1).toLowerCase()==v},v.angle=function(c,_,k,M,B,A){if(null==B){var E=c-k,I=_-M;return E||I?(180+180*a.atan2(-I,-E)/L+360)%360:0}return v.angle(c,_,B,A)-v.angle(k,M,B,A)},v.rad=function(c){return c%360*L/180},v.deg=function(c){return Math.round(180*c/L%360*1e3)/1e3},v.snapTo=function(c,_,k){if(k=v.is(k,"finite")?k:10,v.is(c,s)){for(var M=c.length;M--;)if(T(c[M]-_)<=k)return c[M]}else{var B=_%(c=+c);if(k>B)return _-B;if(B>c-k)return _-B+c}return _},v.createUUID=function(c,v){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(c,v).toUpperCase()}}(/[xy]/g,function(c){var v=16*a.random()|0,_="x"==c?v:3&v|8;return _.toString(16)}),v.setWindow=function(_){c("raphael.setWindow",v,Z.win,_),Z.win=_,Z.doc=Z.win.document,v._engine.initWin&&v._engine.initWin(Z.win)};var zc=function(c){if(v.vml){var _,M=/^\s+|\s+$/g;try{var B=new ActiveXObject("htmlfile");B.write("<body>"),B.close(),_=B.body}catch(c){_=createPopup().document.body}var A=_.createTextRange();zc=k(function(c){try{_.style.color=U(c).replace(M,C);var v=A.queryCommandValue("ForeColor");return"#"+("000000"+(v=(255&v)<<16|65280&v|(16711680&v)>>>16).toString(16)).slice(-6)}catch(c){return"none"}})}else{var E=Z.doc.createElement("i");E.title="Raphaël Colour Picker",E.style.display="none",Z.doc.body.appendChild(E),zc=k(function(c){return E.style.color=c,Z.doc.defaultView.getComputedStyle(E,C).getPropertyValue("color")})}return zc(c)},Fc=function(){return"hsb("+[this.h,this.s,this.b]+")"},Vc=function(){return"hsl("+[this.h,this.s,this.l]+")"},Wc=function(){return this.hex},Gc=function(c,_,k){if(null==_&&v.is(c,"object")&&"r"in c&&"g"in c&&"b"in c&&(k=c.b,_=c.g,c=c.r),null==_&&v.is(c,y)){var M=v.getRGB(c);c=M.r,_=M.g,k=M.b}return(c>1||_>1||k>1)&&(c/=255,_/=255,k/=255),[c,_,k]},Yc=function(c,_,k,M){var B={r:c*=255,g:_*=255,b:k*=255,hex:v.rgb(c,_,k),toString:Wc};return v.is(M,"finite")&&(B.opacity=M),B};v.color=function(c){var _;return v.is(c,"object")&&"h"in c&&"s"in c&&"b"in c?(_=v.hsb2rgb(c),c.r=_.r,c.g=_.g,c.b=_.b,c.hex=_.hex):v.is(c,"object")&&"h"in c&&"s"in c&&"l"in c?(_=v.hsl2rgb(c),c.r=_.r,c.g=_.g,c.b=_.b,c.hex=_.hex):(v.is(c,"string")&&(c=v.getRGB(c)),v.is(c,"object")&&"r"in c&&"g"in c&&"b"in c?(_=v.rgb2hsl(c),c.h=_.h,c.s=_.s,c.l=_.l,_=v.rgb2hsb(c),c.v=_.b):(c={hex:"none"}).r=c.g=c.b=c.h=c.s=c.v=c.l=-1),c.toString=Wc,c},v.hsb2rgb=function(c,v,_,k){var M,B,A,E,I;return this.is(c,"object")&&"h"in c&&"s"in c&&"b"in c&&(_=c.b,v=c.s,k=c.o,c=c.h),E=(I=_*v)*(1-T((c=(c*=360)%360/60)%2-1)),M=B=A=_-I,Yc(M+=[I,E,0,0,E,I][c=~~c],B+=[E,I,I,E,0,0][c],A+=[0,0,E,I,I,E][c],k)},v.hsl2rgb=function(c,v,_,k){var M,B,A,E,I;return this.is(c,"object")&&"h"in c&&"s"in c&&"l"in c&&(_=c.l,v=c.s,c=c.h),(c>1||v>1||_>1)&&(c/=360,v/=100,_/=100),E=(I=2*v*(.5>_?_:1-_))*(1-T((c=(c*=360)%360/60)%2-1)),M=B=A=_-I/2,Yc(M+=[I,E,0,0,E,I][c=~~c],B+=[E,I,I,E,0,0][c],A+=[0,0,E,I,I,E][c],k)},v.rgb2hsb=function(c,v,_){var k,M;return _=Gc(c,v,_),c=_[0],v=_[1],_=_[2],k=f(c,v,_),{h:((0==(M=k-r(c,v,_))?null:k==c?(v-_)/M:k==v?(_-c)/M+2:(c-v)/M+4)+360)%6*60/360,s:0==M?0:M/k,b:k,toString:Fc}},v.rgb2hsl=function(c,v,_){var k,M,B,A;return _=Gc(c,v,_),c=_[0],v=_[1],_=_[2],M=f(c,v,_),B=r(c,v,_),k=(M+B)/2,{h:((0==(A=M-B)?null:M==c?(v-_)/A:M==v?(_-c)/A+2:(c-v)/A+4)+360)%6*60/360,s:0==A?0:.5>k?A/(2*k):A/(2-2*k),l:k,toString:Vc}},v._path2string=function(){return this.join(",").replace(kc,"$1")},v._preload=function(c,v){var _=Z.doc.createElement("img");_.style.cssText="position:absolute;left:-9999em;top:-9999em",_.onload=function(){v.call(this),this.onload=null,Z.doc.body.removeChild(this)},_.onerror=function(){Z.doc.body.removeChild(this)},Z.doc.body.appendChild(_),_.src=c},v.getRGB=k(function(c){if(!c||(c=U(c)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:M};if("none"==c)return{r:-1,g:-1,b:-1,hex:"none",toString:M};!_c[J](c.toLowerCase().substring(0,2))&&"#"!=c.charAt()&&(c=zc(c));var _,k,B,A,E,I,D=c.match(b);return D?(D[2]&&(B=l(D[2].substring(5),16),k=l(D[2].substring(3,5),16),_=l(D[2].substring(1,3),16)),D[3]&&(B=l((E=D[3].charAt(3))+E,16),k=l((E=D[3].charAt(2))+E,16),_=l((E=D[3].charAt(1))+E,16)),D[4]&&(I=D[4][w](vc),_=t(I[0]),"%"==I[0].slice(-1)&&(_*=2.55),k=t(I[1]),"%"==I[1].slice(-1)&&(k*=2.55),B=t(I[2]),"%"==I[2].slice(-1)&&(B*=2.55),"rgba"==D[1].toLowerCase().slice(0,4)&&(A=t(I[3])),I[3]&&"%"==I[3].slice(-1)&&(A/=100)),D[5]?(I=D[5][w](vc),_=t(I[0]),"%"==I[0].slice(-1)&&(_*=2.55),k=t(I[1]),"%"==I[1].slice(-1)&&(k*=2.55),B=t(I[2]),"%"==I[2].slice(-1)&&(B*=2.55),("deg"==I[0].slice(-3)||"°"==I[0].slice(-1))&&(_/=360),"hsba"==D[1].toLowerCase().slice(0,4)&&(A=t(I[3])),I[3]&&"%"==I[3].slice(-1)&&(A/=100),v.hsb2rgb(_,k,B,A)):D[6]?(I=D[6][w](vc),_=t(I[0]),"%"==I[0].slice(-1)&&(_*=2.55),k=t(I[1]),"%"==I[1].slice(-1)&&(k*=2.55),B=t(I[2]),"%"==I[2].slice(-1)&&(B*=2.55),("deg"==I[0].slice(-3)||"°"==I[0].slice(-1))&&(_/=360),"hsla"==D[1].toLowerCase().slice(0,4)&&(A=t(I[3])),I[3]&&"%"==I[3].slice(-1)&&(A/=100),v.hsl2rgb(_,k,B,A)):((D={r:_,g:k,b:B,toString:M}).hex="#"+(16777216|B|k<<8|_<<16).toString(16).slice(1),v.is(A,"finite")&&(D.opacity=A),D)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:M}},v),v.hsb=k(function(c,_,k){return v.hsb2rgb(c,_,k).hex}),v.hsl=k(function(c,_,k){return v.hsl2rgb(c,_,k).hex}),v.rgb=k(function(c,v,_){function k(c){return c+.5|0}return"#"+(16777216|k(_)|k(v)<<8|k(c)<<16).toString(16).slice(1)}),v.getColor=function(c){var v=this.getColor.start=this.getColor.start||{h:0,s:1,b:c||.75},_=this.hsb2rgb(v.h,v.s,v.b);return v.h+=.075,v.h>1&&(v.h=0,v.s-=.2,v.s<=0&&(this.getColor.start={h:0,s:1,b:v.b})),_.hex},v.getColor.reset=function(){delete this.start},v.parsePathString=function(c){if(!c)return null;var _=Jc(c);if(_.arr)return Qc(_.arr);var k={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},M=[];return v.is(c,s)&&v.is(c[0],s)&&(M=Qc(c)),M.length||U(c).replace(Mc,function(c,v,_){var B=[],A=v.toLowerCase();if(_.replace(Ac,function(c,v){v&&B.push(+v)}),"m"==A&&B.length>2&&(M.push([v][R](B.splice(0,2))),A="l",v="m"==v?"l":"L"),"r"==A)M.push([v][R](B));else for(;B.length>=k[A]&&(M.push([v][R](B.splice(0,k[A]))),k[A]););}),M.toString=v._path2string,_.arr=Qc(M),M},v.parseTransformString=k(function(c){if(!c)return null;var _=[];return v.is(c,s)&&v.is(c[0],s)&&(_=Qc(c)),_.length||U(c).replace(Bc,function(c,v,k){var M=[];x.call(v),k.replace(Ac,function(c,v){v&&M.push(+v)}),_.push([v][R](M))}),_.toString=v._path2string,_});var Jc=function(c){var v=Jc.ps=Jc.ps||{};return v[c]?v[c].sleep=100:v[c]={sleep:100},setTimeout(function(){for(var _ in v)v[J](_)&&_!=c&&(v[_].sleep--,!v[_].sleep&&delete v[_])}),v[c]};v.findDotsAtSegment=function(c,v,_,k,M,B,A,E,I){var D=1-I,q=p(D,3),j=p(D,2),N=I*I,P=N*I,H=q*c+3*j*I*_+3*D*I*I*M+P*A,$=q*v+3*j*I*k+3*D*I*I*B+P*E,z=c+2*I*(_-c)+N*(M-2*_+c),F=v+2*I*(k-v)+N*(B-2*k+v),V=_+2*I*(M-_)+N*(A-2*M+_),W=k+2*I*(B-k)+N*(E-2*B+k),G=D*c+I*_,Y=D*v+I*k,J=D*M+I*A,Z=D*B+I*E,Q=90-180*a.atan2(z-V,F-W)/L;return(z>V||W>F)&&(Q+=180),{x:H,y:$,m:{x:z,y:F},n:{x:V,y:W},start:{x:G,y:Y},end:{x:J,y:Z},alpha:Q}},v.bezierBBox=function(c,_,k,M,B,A,E,I){v.is(c,"array")||(c=[c,_,k,M,B,A,E,I]);var D=Uc.apply(null,c);return{x:D.min.x,y:D.min.y,x2:D.max.x,y2:D.max.y,width:D.max.x-D.min.x,height:D.max.y-D.min.y}},v.isPointInsideBBox=function(c,v,_){return v>=c.x&&v<=c.x2&&_>=c.y&&_<=c.y2},v.isBBoxIntersect=function(c,_){var k=v.isPointInsideBBox;return k(_,c.x,c.y)||k(_,c.x2,c.y)||k(_,c.x,c.y2)||k(_,c.x2,c.y2)||k(c,_.x,_.y)||k(c,_.x2,_.y)||k(c,_.x,_.y2)||k(c,_.x2,_.y2)||(c.x<_.x2&&c.x>_.x||_.x<c.x2&&_.x>c.x)&&(c.y<_.y2&&c.y>_.y||_.y<c.y2&&_.y>c.y)},v.pathIntersection=function(c,v){return q(c,v)},v.pathIntersectionNumber=function(c,v){return q(c,v,1)},v.isPointInsidePath=function(c,_,k){var M=v.pathBBox(c);return v.isPointInsideBBox(M,_,k)&&q(c,[["M",_,k],["H",M.x2+10]],1)%2==1},v._removedFactory=function(v){return function(){c("raphael.log",null,"Raphaël: you are calling to method “"+v+"” of removed object",v)}};var Zc=v.pathBBox=function(c){var v=Jc(c);if(v.bbox)return _(v.bbox);if(!c)return{x:0,y:0,width:0,height:0,x2:0,y2:0};c=wc(c);for(var k,M=0,B=0,A=[],E=[],I=0,D=c.length;D>I;I++)if("M"==(k=c[I])[0])M=k[1],B=k[2],A.push(M),E.push(B);else{var q=Uc(M,B,k[1],k[2],k[3],k[4],k[5],k[6]);A=A[R](q.min.x,q.max.x),E=E[R](q.min.y,q.max.y),M=k[5],B=k[6]}var j=r[u](0,A),N=r[u](0,E),P=f[u](0,A),H=f[u](0,E),$=P-j,z=H-N,F={x:j,y:N,x2:P,y2:H,width:$,height:z,cx:j+$/2,cy:N+z/2};return v.bbox=_(F),F},Qc=function(c){var k=_(c);return k.toString=v._path2string,k},Kc=v._pathToRelative=function(c){var _=Jc(c);if(_.rel)return Qc(_.rel);v.is(c,s)&&v.is(c&&c[0],s)||(c=v.parsePathString(c));var k=[],M=0,B=0,A=0,E=0,I=0;"M"==c[0][0]&&(M=c[0][1],B=c[0][2],A=M,E=B,I++,k.push(["M",M,B]));for(var D=I,q=c.length;q>D;D++){var j=k[D]=[],N=c[D];if(N[0]!=x.call(N[0]))switch(j[0]=x.call(N[0]),j[0]){case"a":j[1]=N[1],j[2]=N[2],j[3]=N[3],j[4]=N[4],j[5]=N[5],j[6]=+(N[6]-M).toFixed(3),j[7]=+(N[7]-B).toFixed(3);break;case"v":j[1]=+(N[1]-B).toFixed(3);break;case"m":A=N[1],E=N[2];default:for(var P=1,H=N.length;H>P;P++)j[P]=+(N[P]-(P%2?M:B)).toFixed(3)}else{j=k[D]=[],"m"==N[0]&&(A=N[1]+M,E=N[2]+B);for(var $=0,z=N.length;z>$;$++)k[D][$]=N[$]}var F=k[D].length;switch(k[D][0]){case"z":M=A,B=E;break;case"h":M+=+k[D][F-1];break;case"v":B+=+k[D][F-1];break;default:M+=+k[D][F-2],B+=+k[D][F-1]}}return k.toString=v._path2string,_.rel=Qc(k),k},uc=v._pathToAbsolute=function(c){var _=Jc(c);if(_.abs)return Qc(_.abs);if(v.is(c,s)&&v.is(c&&c[0],s)||(c=v.parsePathString(c)),!c||!c.length)return[["M",0,0]];var k=[],M=0,A=0,E=0,I=0,D=0;"M"==c[0][0]&&(M=+c[0][1],A=+c[0][2],E=M,I=A,D++,k[0]=["M",M,A]);for(var q,j,N=3==c.length&&"M"==c[0][0]&&"R"==c[1][0].toUpperCase()&&"Z"==c[2][0].toUpperCase(),P=D,H=c.length;H>P;P++){if(k.push(q=[]),(j=c[P])[0]!=e.call(j[0]))switch(q[0]=e.call(j[0]),q[0]){case"A":q[1]=j[1],q[2]=j[2],q[3]=j[3],q[4]=j[4],q[5]=j[5],q[6]=+(j[6]+M),q[7]=+(j[7]+A);break;case"V":q[1]=+j[1]+A;break;case"H":q[1]=+j[1]+M;break;case"R":for(var $=[M,A][R](j.slice(1)),z=2,F=$.length;F>z;z++)$[z]=+$[z]+M,$[++z]=+$[z]+A;k.pop(),k=k[R](B($,N));break;case"M":E=+j[1]+M,I=+j[2]+A;default:for(z=1,F=j.length;F>z;z++)q[z]=+j[z]+(z%2?M:A)}else if("R"==j[0])$=[M,A][R](j.slice(1)),k.pop(),k=k[R](B($,N)),q=["R"][R](j.slice(-2));else for(var V=0,W=j.length;W>V;V++)q[V]=j[V];switch(q[0]){case"Z":M=E,A=I;break;case"H":M=q[1];break;case"V":A=q[1];break;case"M":E=q[q.length-2],I=q[q.length-1];default:M=q[q.length-2],A=q[q.length-1]}}return k.toString=v._path2string,_.abs=Qc(k),k},Rc=function(c,v,_,k){return[c,v,_,k,_,k]},Sc=function(c,v,_,k,M,B){var A=1/3,E=2/3;return[A*c+E*_,A*v+E*k,A*M+E*_,A*B+E*k,M,B]},Cc=function(c,v,_,M,B,A,E,I,D,q){var j,N=120*L/180,P=L/180*(+B||0),H=[],$=k(function(c,v,_){var k=c*a.cos(_)-v*a.sin(_),M=c*a.sin(_)+v*a.cos(_);return{x:k,y:M}});if(q)Q=q[0],K=q[1],J=q[2],Z=q[3];else{j=$(c,v,-P),c=j.x,v=j.y,j=$(I,D,-P),I=j.x,D=j.y;var z=(a.cos(L/180*B),a.sin(L/180*B),(c-I)/2),F=(v-D)/2,V=z*z/(_*_)+F*F/(M*M);V>1&&(V=a.sqrt(V),_*=V,M*=V);var W=_*_,G=M*M,Y=(A==E?-1:1)*a.sqrt(T((W*G-W*F*F-G*z*z)/(W*F*F+G*z*z))),J=Y*_*F/M+(c+I)/2,Z=Y*-M*z/_+(v+D)/2,Q=a.asin(((v-Z)/M).toFixed(9)),K=a.asin(((D-Z)/M).toFixed(9));0>(Q=J>c?L-Q:Q)&&(Q=2*L+Q),0>(K=J>I?L-K:K)&&(K=2*L+K),E&&Q>K&&(Q-=2*L),!E&&K>Q&&(K-=2*L)}var u=K-Q;if(T(u)>N){var S=K,C=I,O=D;K=Q+N*(E&&K>Q?1:-1),I=J+_*a.cos(K),D=Z+M*a.sin(K),H=Cc(I,D,_,M,B,0,E,C,O,[K,S,J,Z])}u=K-Q;var U=a.cos(Q),d=a.sin(Q),X=a.cos(K),x=a.sin(K),f=a.tan(u/4),r=4/3*_*f,p=4/3*M*f,h=[c,v],y=[c+r*d,v-p*U],s=[I+r*x,D-p*X],g=[I,D];if(y[0]=2*h[0]-y[0],y[1]=2*h[1]-y[1],q)return[y,s,g][R](H);H=[y,s,g][R](H).join()[w](",");for(var b=[],m=0,i=H.length;i>m;m++)b[m]=m%2?$(H[m-1],H[m],P).y:$(H[m],H[m+1],P).x;return b},Oc=function(c,v,_,k,M,B,A,E,I){var D=1-I;return{x:p(D,3)*c+3*p(D,2)*I*_+3*D*I*I*M+p(I,3)*A,y:p(D,3)*v+3*p(D,2)*I*k+3*D*I*I*B+p(I,3)*E}},Uc=k(function(c,v,_,k,M,B,A,E){var I,D=M-2*_+c-(A-2*M+_),q=2*(_-c)-2*(M-_),j=c-_,N=(-q+a.sqrt(q*q-4*D*j))/2/D,P=(-q-a.sqrt(q*q-4*D*j))/2/D,H=[v,E],$=[c,A];return T(N)>"1e12"&&(N=.5),T(P)>"1e12"&&(P=.5),N>0&&1>N&&(I=Oc(c,v,_,k,M,B,A,E,N),$.push(I.x),H.push(I.y)),P>0&&1>P&&(I=Oc(c,v,_,k,M,B,A,E,P),$.push(I.x),H.push(I.y)),D=B-2*k+v-(E-2*B+k),j=v-k,N=(-(q=2*(k-v)-2*(B-k))+a.sqrt(q*q-4*D*j))/2/D,P=(-q-a.sqrt(q*q-4*D*j))/2/D,T(N)>"1e12"&&(N=.5),T(P)>"1e12"&&(P=.5),N>0&&1>N&&(I=Oc(c,v,_,k,M,B,A,E,N),$.push(I.x),H.push(I.y)),P>0&&1>P&&(I=Oc(c,v,_,k,M,B,A,E,P),$.push(I.x),H.push(I.y)),{min:{x:r[u](0,$),y:r[u](0,H)},max:{x:f[u](0,$),y:f[u](0,H)}}}),wc=v._path2curve=k(function(c,v){var _=!v&&Jc(c);if(!v&&_.curve)return Qc(_.curve);for(var k=uc(c),M=v&&uc(v),B={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E=function(c,v,_){var k,M;if(!c)return["C",v.x,v.y,v.x,v.y,v.x,v.y];switch(!(c[0]in{T:1,Q:1})&&(v.qx=v.qy=null),c[0]){case"M":v.X=c[1],v.Y=c[2];break;case"A":c=["C"][R](Cc[u](0,[v.x,v.y][R](c.slice(1))));break;case"S":"C"==_||"S"==_?(k=2*v.x-v.bx,M=2*v.y-v.by):(k=v.x,M=v.y),c=["C",k,M][R](c.slice(1));break;case"T":"Q"==_||"T"==_?(v.qx=2*v.x-v.qx,v.qy=2*v.y-v.qy):(v.qx=v.x,v.qy=v.y),c=["C"][R](Sc(v.x,v.y,v.qx,v.qy,c[1],c[2]));break;case"Q":v.qx=c[1],v.qy=c[2],c=["C"][R](Sc(v.x,v.y,c[1],c[2],c[3],c[4]));break;case"L":c=["C"][R](Rc(v.x,v.y,c[1],c[2]));break;case"H":c=["C"][R](Rc(v.x,v.y,c[1],v.y));break;case"V":c=["C"][R](Rc(v.x,v.y,v.x,c[1]));break;case"Z":c=["C"][R](Rc(v.x,v.y,v.X,v.Y))}return c},I=function(c,v){if(c[v].length>7){c[v].shift();for(var _=c[v];_.length;)q[v]="A",M&&(j[v]="A"),c.splice(v++,0,["C"][R](_.splice(0,6)));c.splice(v,1),$=f(k.length,M&&M.length||0)}},D=function(c,v,_,B,A){c&&v&&"M"==c[A][0]&&"M"!=v[A][0]&&(v.splice(A,0,["M",B.x,B.y]),_.bx=0,_.by=0,_.x=c[A][1],_.y=c[A][2],$=f(k.length,M&&M.length||0))},q=[],j=[],N="",P="",H=0,$=f(k.length,M&&M.length||0);$>H;H++){k[H]&&(N=k[H][0]),"C"!=N&&(q[H]=N,H&&(P=q[H-1])),k[H]=E(k[H],B,P),"A"!=q[H]&&"C"==N&&(q[H]="C"),I(k,H),M&&(M[H]&&(N=M[H][0]),"C"!=N&&(j[H]=N,H&&(P=j[H-1])),M[H]=E(M[H],A,P),"A"!=j[H]&&"C"==N&&(j[H]="C"),I(M,H)),D(k,M,B,A,H),D(M,k,A,B,H);var z=k[H],F=M&&M[H],V=z.length,W=M&&F.length;B.x=z[V-2],B.y=z[V-1],B.bx=t(z[V-4])||B.x,B.by=t(z[V-3])||B.y,A.bx=M&&(t(F[W-4])||A.x),A.by=M&&(t(F[W-3])||A.y),A.x=M&&F[W-2],A.y=M&&F[W-1]}return M||(_.curve=Qc(k)),M?[k,M]:k},null,Qc),dc=(v._parseDots=k(function(c){for(var _=[],k=0,M=c.length;M>k;k++){var B={},A=c[k].match(/^([^:]*):?([\d\.]*)/);if(B.color=v.getRGB(A[1]),B.color.error)return null;B.opacity=B.color.opacity,B.color=B.color.hex,A[2]&&(B.offset=A[2]+"%"),_.push(B)}for(k=1,M=_.length-1;M>k;k++)if(!_[k].offset){for(var E=t(_[k-1].offset||0),I=0,D=k+1;M>D;D++)if(_[D].offset){I=_[D].offset;break}I||(I=100,D=M);for(var q=((I=t(I))-E)/(D-k+1);D>k;k++)E+=q,_[k].offset=E+"%"}return _}),v._tear=function(c,v){c==v.top&&(v.top=c.prev),c==v.bottom&&(v.bottom=c.next),c.next&&(c.next.prev=c.prev),c.prev&&(c.prev.next=c.next)}),Xc=(v._tofront=function(c,v){v.top!==c&&(dc(c,v),c.next=null,c.prev=v.top,v.top.next=c,v.top=c)},v._toback=function(c,v){v.bottom!==c&&(dc(c,v),c.next=v.bottom,c.prev=null,v.bottom.prev=c,v.bottom=c)},v._insertafter=function(c,v,_){dc(c,_),v==_.top&&(_.top=c),v.next&&(v.next.prev=c),c.next=v.next,c.prev=v,v.next=c},v._insertbefore=function(c,v,_){dc(c,_),v==_.bottom&&(_.bottom=c),v.prev&&(v.prev.next=c),c.prev=v.prev,v.prev=c,c.next=v},v.toMatrix=function(c,v){var _=Zc(c),k={_:{transform:C},getBBox:function(){return _}};return xc(k,v),k.matrix}),xc=(v.transformPath=function(c,v){return Pc(c,Xc(c,v))},v._extractTransform=function(c,_){if(null==_)return c._.transform;_=U(_).replace(/\.{3}|\u2026/g,c._.transform||C);var k=v.parseTransformString(_),M=0,B=0,A=0,E=1,I=1,D=c._,q=new j;if(D.transform=k||[],k)for(var N=0,P=k.length;P>N;N++){var H,$,z,F,V,W=k[N],G=W.length,Y=U(W[0]).toLowerCase(),J=W[0]!=Y,Z=J?q.invert():0;"t"==Y&&3==G?J?(H=Z.x(0,0),$=Z.y(0,0),z=Z.x(W[1],W[2]),F=Z.y(W[1],W[2]),q.translate(z-H,F-$)):q.translate(W[1],W[2]):"r"==Y?2==G?(V=V||c.getBBox(1),q.rotate(W[1],V.x+V.width/2,V.y+V.height/2),M+=W[1]):4==G&&(J?(z=Z.x(W[2],W[3]),F=Z.y(W[2],W[3]),q.rotate(W[1],z,F)):q.rotate(W[1],W[2],W[3]),M+=W[1]):"s"==Y?2==G||3==G?(V=V||c.getBBox(1),q.scale(W[1],W[G-1],V.x+V.width/2,V.y+V.height/2),E*=W[1],I*=W[G-1]):5==G&&(J?(z=Z.x(W[3],W[4]),F=Z.y(W[3],W[4]),q.scale(W[1],W[2],z,F)):q.scale(W[1],W[2],W[3],W[4]),E*=W[1],I*=W[2]):"m"==Y&&7==G&&q.add(W[1],W[2],W[3],W[4],W[5],W[6]),D.dirtyT=1,c.matrix=q}c.matrix=q,D.sx=E,D.sy=I,D.deg=M,D.dx=B=q.e,D.dy=A=q.f,1==E&&1==I&&!M&&D.bbox?(D.bbox.x+=+B,D.bbox.y+=+A):D.dirtyT=1}),ac=function(c){var v=c[0];switch(v.toLowerCase()){case"t":return[v,0,0];case"m":return[v,1,0,0,1,0,0];case"r":return 4==c.length?[v,0,c[2],c[3]]:[v,0];case"s":return 5==c.length?[v,1,1,c[3],c[4]]:3==c.length?[v,1,1]:[v,1]}},fc=v._equaliseTransform=function(c,_){_=U(_).replace(/\.{3}|\u2026/g,c),c=v.parseTransformString(c)||[],_=v.parseTransformString(_)||[];for(var k,M,B,A,E=f(c.length,_.length),I=[],D=[],q=0;E>q;q++){if(B=c[q]||ac(_[q]),A=_[q]||ac(B),B[0]!=A[0]||"r"==B[0].toLowerCase()&&(B[2]!=A[2]||B[3]!=A[3])||"s"==B[0].toLowerCase()&&(B[3]!=A[3]||B[4]!=A[4]))return;for(I[q]=[],D[q]=[],k=0,M=f(B.length,A.length);M>k;k++)k in B&&(I[q][k]=B[k]),k in A&&(D[q][k]=A[k])}return{from:I,to:D}};v._getContainer=function(c,_,k,M){var B;return null!=(B=null!=M||v.is(c,"object")?c:Z.doc.getElementById(c))?B.tagName?null==_?{container:B,width:B.style.pixelWidth||B.offsetWidth,height:B.style.pixelHeight||B.offsetHeight}:{container:B,width:_,height:k}:{container:1,x:c,y:_,width:k,height:M}:void 0},v.pathToRelative=Kc,v._engine={},v.path2curve=wc,v.matrix=function(c,v,_,k,M,B){return new j(c,v,_,k,M,B)},function(c){function _(c){return c[0]*c[0]+c[1]*c[1]}function k(c){var v=a.sqrt(_(c));c[0]&&(c[0]/=v),c[1]&&(c[1]/=v)}c.add=function(c,v,_,k,M,B){var A,E,I,D,q=[[],[],[]],N=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],P=[[c,_,M],[v,k,B],[0,0,1]];for(c&&c instanceof j&&(P=[[c.a,c.c,c.e],[c.b,c.d,c.f],[0,0,1]]),A=0;3>A;A++)for(E=0;3>E;E++){for(D=0,I=0;3>I;I++)D+=N[A][I]*P[I][E];q[A][E]=D}this.a=q[0][0],this.b=q[1][0],this.c=q[0][1],this.d=q[1][1],this.e=q[0][2],this.f=q[1][2]},c.invert=function(){var c=this,v=c.a*c.d-c.b*c.c;return new j(c.d/v,-c.b/v,-c.c/v,c.a/v,(c.c*c.f-c.d*c.e)/v,(c.b*c.e-c.a*c.f)/v)},c.clone=function(){return new j(this.a,this.b,this.c,this.d,this.e,this.f)},c.translate=function(c,v){this.add(1,0,0,1,c,v)},c.scale=function(c,v,_,k){null==v&&(v=c),(_||k)&&this.add(1,0,0,1,_,k),this.add(c,0,0,v,0,0),(_||k)&&this.add(1,0,0,1,-_,-k)},c.rotate=function(c,_,k){c=v.rad(c),_=_||0,k=k||0;var M=+a.cos(c).toFixed(9),B=+a.sin(c).toFixed(9);this.add(M,B,-B,M,_,k),this.add(1,0,0,1,-_,-k)},c.x=function(c,v){return c*this.a+v*this.c+this.e},c.y=function(c,v){return c*this.b+v*this.d+this.f},c.get=function(c){return+this[U.fromCharCode(97+c)].toFixed(4)},c.toString=function(){return v.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},c.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},c.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},c.split=function(){var c={};c.dx=this.e,c.dy=this.f;var M=[[this.a,this.c],[this.b,this.d]];c.scalex=a.sqrt(_(M[0])),k(M[0]),c.shear=M[0][0]*M[1][0]+M[0][1]*M[1][1],M[1]=[M[1][0]-M[0][0]*c.shear,M[1][1]-M[0][1]*c.shear],c.scaley=a.sqrt(_(M[1])),k(M[1]),c.shear/=c.scaley;var B=-M[0][1],A=M[1][1];return 0>A?(c.rotate=v.deg(a.acos(A)),0>B&&(c.rotate=360-c.rotate)):c.rotate=v.deg(a.asin(B)),c.isSimple=!(+c.shear.toFixed(9)||c.scalex.toFixed(9)!=c.scaley.toFixed(9)&&c.rotate),c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate,c.noRotation=!+c.shear.toFixed(9)&&!c.rotate,c},c.toTransformString=function(c){var v=c||this[w]();return v.isSimple?(v.scalex=+v.scalex.toFixed(4),v.scaley=+v.scaley.toFixed(4),v.rotate=+v.rotate.toFixed(4),(v.dx||v.dy?"t"+[v.dx,v.dy]:C)+(1!=v.scalex||1!=v.scaley?"s"+[v.scalex,v.scaley,0,0]:C)+(v.rotate?"r"+[v.rotate,0,0]:C)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(j.prototype);for(var rc=function(){this.returnValue=!1},Tc=function(){return this.originalEvent.preventDefault()},pc=function(){this.cancelBubble=!0},Lc=function(){return this.originalEvent.stopPropagation()},hc=function(c){var v=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,_=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft;return{x:c.clientX+_,y:c.clientY+v}},yc=Z.doc.addEventListener?function(c,v,_,k){var M=function(c){var v=hc(c);return _.call(k,c,v.x,v.y)};if(c.addEventListener(v,M,!1),S&&X[v]){var B=function(v){for(var M=hc(v),B=v,A=0,E=v.targetTouches&&v.targetTouches.length;E>A;A++)if(v.targetTouches[A].target==c){(v=v.targetTouches[A]).originalEvent=B,v.preventDefault=Tc,v.stopPropagation=Lc;break}return _.call(k,v,M.x,M.y)};c.addEventListener(X[v],B,!1)}return function(){return c.removeEventListener(v,M,!1),S&&X[v]&&c.removeEventListener(X[v],B,!1),!0}}:Z.doc.attachEvent?function(c,v,_,k){var M=function(c){c=c||Z.win.event;var v=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,M=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft,B=c.clientX+M,A=c.clientY+v;return c.preventDefault=c.preventDefault||rc,c.stopPropagation=c.stopPropagation||pc,_.call(k,c,B,A)};return c.attachEvent("on"+v,M),function(){return c.detachEvent("on"+v,M),!0}}:void 0,sc=[],gc=function(v){for(var _,k=v.clientX,M=v.clientY,B=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,A=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft,E=sc.length;E--;){if(_=sc[E],S&&v.touches){for(var I,D=v.touches.length;D--;)if((I=v.touches[D]).identifier==_.el._drag.id){k=I.clientX,M=I.clientY,(v.originalEvent?v.originalEvent:v).preventDefault();break}}else v.preventDefault();var q,j=_.el.node,N=j.nextSibling,P=j.parentNode,H=j.style.display;Z.win.opera&&P.removeChild(j),j.style.display="none",q=_.el.paper.getElementByPoint(k,M),j.style.display=H,Z.win.opera&&(N?P.insertBefore(j,N):P.appendChild(j)),q&&c("raphael.drag.over."+_.el.id,_.el,q),k+=A,M+=B,c("raphael.drag.move."+_.el.id,_.move_scope||_.el,k-_.el._drag.x,M-_.el._drag.y,k,M,v)}},bc=function(_){v.unmousemove(gc).unmouseup(bc);for(var k,M=sc.length;M--;)(k=sc[M]).el._drag={},c("raphael.drag.end."+k.el.id,k.end_scope||k.start_scope||k.move_scope||k.el,_);sc=[]},mc=v.el={},ic=d.length;ic--;)!function(c){v[c]=mc[c]=function(_,k){return v.is(_,"function")&&(this.events=this.events||[],this.events.push({name:c,f:_,unbind:yc(this.shape||this.node||Z.doc,c,_,k||this)})),this},v["un"+c]=mc["un"+c]=function(_){for(var k=this.events||[],M=k.length;M--;)k[M].name!=c||!v.is(_,"undefined")&&k[M].f!=_||(k[M].unbind(),k.splice(M,1),!k.length&&delete this.events);return this}}(d[ic]);mc.data=function(_,k){var M=Ec[this.id]=Ec[this.id]||{};if(0==arguments.length)return M;if(1==arguments.length){if(v.is(_,"object")){for(var B in _)_[J](B)&&this.data(B,_[B]);return this}return c("raphael.data.get."+this.id,this,M[_],_),M[_]}return M[_]=k,c("raphael.data.set."+this.id,this,k,_),this},mc.removeData=function(c){return null==c?Ec[this.id]={}:Ec[this.id]&&delete Ec[this.id][c],this},mc.getData=function(){return _(Ec[this.id]||{})},mc.hover=function(c,v,_,k){return this.mouseover(c,_).mouseout(v,k||_)},mc.unhover=function(c,v){return this.unmouseover(c).unmouseout(v)};var nc=[];mc.drag=function(_,k,M,B,A,E){function I(I){(I.originalEvent||I).preventDefault();var D=I.clientX,q=I.clientY,j=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,N=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft;if(this._drag.id=I.identifier,S&&I.touches)for(var P,H=I.touches.length;H--;)if(P=I.touches[H],this._drag.id=P.identifier,P.identifier==this._drag.id){D=P.clientX,q=P.clientY;break}this._drag.x=D+N,this._drag.y=q+j,!sc.length&&v.mousemove(gc).mouseup(bc),sc.push({el:this,move_scope:B,start_scope:A,end_scope:E}),k&&c.on("raphael.drag.start."+this.id,k),_&&c.on("raphael.drag.move."+this.id,_),M&&c.on("raphael.drag.end."+this.id,M),c("raphael.drag.start."+this.id,A||B||this,I.clientX+N,I.clientY+j,I)}return this._drag={},nc.push({el:this,start:I}),this.mousedown(I),this},mc.onDragOver=function(v){v?c.on("raphael.drag.over."+this.id,v):c.unbind("raphael.drag.over."+this.id)},mc.undrag=function(){for(var _=nc.length;_--;)nc[_].el==this&&(this.unmousedown(nc[_].start),nc.splice(_,1),c.unbind("raphael.drag.*."+this.id));!nc.length&&v.unmousemove(gc).unmouseup(bc),sc=[]},V.circle=function(c,_,k){var M=v._engine.circle(this,c||0,_||0,k||0);return this.__set__&&this.__set__.push(M),M},V.rect=function(c,_,k,M,B){var A=v._engine.rect(this,c||0,_||0,k||0,M||0,B||0);return this.__set__&&this.__set__.push(A),A},V.ellipse=function(c,_,k,M){var B=v._engine.ellipse(this,c||0,_||0,k||0,M||0);return this.__set__&&this.__set__.push(B),B},V.path=function(c){c&&!v.is(c,y)&&!v.is(c[0],s)&&(c+=C);var _=v._engine.path(v.format[u](v,arguments),this);return this.__set__&&this.__set__.push(_),_},V.image=function(c,_,k,M,B){var A=v._engine.image(this,c||"about:blank",_||0,k||0,M||0,B||0);return this.__set__&&this.__set__.push(A),A},V.text=function(c,_,k){var M=v._engine.text(this,c||0,_||0,U(k));return this.__set__&&this.__set__.push(M),M},V.set=function(c){!v.is(c,"array")&&(c=Array.prototype.splice.call(arguments,0,arguments.length));var _=new Av(c);return this.__set__&&this.__set__.push(_),_.paper=this,_.type="set",_},V.setStart=function(c){this.__set__=c||this.set()},V.setFinish=function(c){var v=this.__set__;return delete this.__set__,v},V.getSize=function(){var c=this.canvas.parentNode;return{width:c.offsetWidth,height:c.offsetHeight}},V.setSize=function(c,_){return v._engine.setSize.call(this,c,_)},V.setViewBox=function(c,_,k,M,B){return v._engine.setViewBox.call(this,c,_,k,M,B)},V.top=V.bottom=null,V.raphael=v,V.getElementByPoint=function(c,v){var _=this,k=_.canvas,M=Z.doc.elementFromPoint(c,v);if(Z.win.opera&&"svg"==M.tagName){var B=function(c){var v=c.getBoundingClientRect(),_=c.ownerDocument,k=_.body,M=_.documentElement,B=M.clientTop||k.clientTop||0,A=M.clientLeft||k.clientLeft||0,E=v.top+(Z.win.pageYOffset||M.scrollTop||k.scrollTop)-B,I=v.left+(Z.win.pageXOffset||M.scrollLeft||k.scrollLeft)-A;return{y:E,x:I}}(k),A=k.createSVGRect();A.x=c-B.x,A.y=v-B.y,A.width=A.height=1;var E=k.getIntersectionList(A,null);E.length&&(M=E[E.length-1])}if(!M)return null;for(;M.parentNode&&M!=k.parentNode&&!M.raphael;)M=M.parentNode;return M==_.canvas.parentNode&&(M=k),M=M&&M.raphael?_.getById(M.raphaelid):null},V.getElementsByBBox=function(c){var _=this.set();return this.forEach(function(k){v.isBBoxIntersect(k.getBBox(),c)&&_.push(k)}),_},V.getById=function(c){for(var v=this.bottom;v;){if(v.id==c)return v;v=v.next}return null},V.forEach=function(c,v){for(var _=this.bottom;_;){if(!1===c.call(v,_))return this;_=_.next}return this},V.getElementsByPoint=function(c,v){var _=this.set();return this.forEach(function(k){k.isPointInside(c,v)&&_.push(k)}),_},mc.isPointInside=function(c,_){var k=this.realPath=Nc[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(k=v.transformPath(k,this.attr("transform"))),v.isPointInsidePath(k,c,_)},mc.getBBox=function(c){if(this.removed)return{};var v=this._;return c?((v.dirty||!v.bboxwt)&&(this.realPath=Nc[this.type](this),v.bboxwt=Zc(this.realPath),v.bboxwt.toString=N,v.dirty=0),v.bboxwt):((v.dirty||v.dirtyT||!v.bbox)&&((v.dirty||!this.realPath)&&(v.bboxwt=0,this.realPath=Nc[this.type](this)),v.bbox=Zc(Pc(this.realPath,this.matrix)),v.bbox.toString=N,v.dirty=v.dirtyT=0),v.bbox)},mc.clone=function(){if(this.removed)return null;var c=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(c),c},mc.glow=function(c){if("text"==this.type)return null;var v={width:((c=c||{}).width||10)+(+this.attr("stroke-width")||1),fill:c.fill||!1,opacity:null==c.opacity?.5:c.opacity,offsetx:c.offsetx||0,offsety:c.offsety||0,color:c.color||"#000"},_=v.width/2,k=this.paper,M=k.set(),B=this.realPath||Nc[this.type](this);B=this.matrix?Pc(B,this.matrix):B;for(var A=1;_+1>A;A++)M.push(k.path(B).attr({stroke:v.color,fill:v.fill?v.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(v.width/_*A).toFixed(3),opacity:+(v.opacity/_).toFixed(3)}));return M.insertBefore(this).translate(v.offsetx,v.offsety)};var tc=function(c,_,k,M,B,A,I,D,q){return null==q?E(c,_,k,M,B,A,I,D):v.findDotsAtSegment(c,_,k,M,B,A,I,D,function(c,v,_,k,M,B,A,I,D){if(!(0>D||E(c,v,_,k,M,B,A,I)<D)){var q,j=.5,N=1-j;for(q=E(c,v,_,k,M,B,A,I,N);T(q-D)>.01;)q=E(c,v,_,k,M,B,A,I,N+=(D>q?1:-1)*(j/=2));return N}}(c,_,k,M,B,A,I,D,q))},lc=function(c,_){return function(k,M,B){k=wc(k);for(var A,E,I,D,q,j="",N={},P=0,H=0,$=k.length;$>H;H++){if("M"==(I=k[H])[0])A=+I[1],E=+I[2];else{if(D=tc(A,E,I[1],I[2],I[3],I[4],I[5],I[6]),P+D>M){if(_&&!N.start){if(q=tc(A,E,I[1],I[2],I[3],I[4],I[5],I[6],M-P),j+=["C"+q.start.x,q.start.y,q.m.x,q.m.y,q.x,q.y],B)return j;N.start=j,j=["M"+q.x,q.y+"C"+q.n.x,q.n.y,q.end.x,q.end.y,I[5],I[6]].join(),P+=D,A=+I[5],E=+I[6];continue}if(!c&&!_)return{x:(q=tc(A,E,I[1],I[2],I[3],I[4],I[5],I[6],M-P)).x,y:q.y,alpha:q.alpha}}P+=D,A=+I[5],E=+I[6]}j+=I.shift()+I}return N.end=j,(q=c?P:_?N:v.findDotsAtSegment(A,E,I[0],I[1],I[2],I[3],I[4],I[5],1)).alpha&&(q={x:q.x,y:q.y,alpha:q.alpha}),q}},ec=lc(1),oc=lc(),cv=lc(0,1);v.getTotalLength=ec,v.getPointAtLength=oc,v.getSubpath=function(c,v,_){if(this.getTotalLength(c)-_<1e-6)return cv(c,v).end;var k=cv(c,_,1);return v?cv(k,v).end:k},mc.getTotalLength=function(){var c=this.getPath();if(c)return this.node.getTotalLength?this.node.getTotalLength():ec(c)},mc.getPointAtLength=function(c){var v=this.getPath();if(v)return oc(v,c)},mc.getPath=function(){var c,_=v._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return _&&(c=_(this)),c},mc.getSubpath=function(c,_){var k=this.getPath();if(k)return v.getSubpath(k,c,_)};var vv=v.easing_formulas={linear:function(c){return c},"<":function(c){return p(c,1.7)},">":function(c){return p(c,.48)},"<>":function(c){var v=.48-c/1.04,_=a.sqrt(.1734+v*v),k=_-v,M=p(T(k),1/3)*(0>k?-1:1),B=-_-v,A=p(T(B),1/3)*(0>B?-1:1),E=M+A+.5;return 3*(1-E)*E*E+E*E*E},backIn:function(c){var v=1.70158;return c*c*((v+1)*c-v)},backOut:function(c){var v=1.70158;return(c-=1)*c*((v+1)*c+v)+1},elastic:function(c){return c==!!c?c:p(2,-10*c)*a.sin(2*(c-.075)*L/.3)+1},bounce:function(c){var v=7.5625,_=2.75;return 1/_>c?v*c*c:2/_>c?v*(c-=1.5/_)*c+.75:2.5/_>c?v*(c-=2.25/_)*c+.9375:v*(c-=2.625/_)*c+.984375}};vv.easeIn=vv["ease-in"]=vv["<"],vv.easeOut=vv["ease-out"]=vv[">"],vv.easeInOut=vv["ease-in-out"]=vv["<>"],vv["back-in"]=vv.backIn,vv["back-out"]=vv.backOut;var _v=[],kv=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,16)},Mv=function(){for(var _=+new Date,k=0;k<_v.length;k++){var M=_v[k];if(!M.el.removed&&!M.paused){var B,A,E=_-M.start,I=M.ms,D=M.easing,q=M.from,j=M.diff,N=M.to,P=(M.t,M.el),H={},z={};if(M.initstatus?(E=(M.initstatus*M.anim.top-M.prev)/(M.percent-M.prev)*I,M.status=M.initstatus,delete M.initstatus,M.stop&&_v.splice(k--,1)):M.status=(M.prev+(M.percent-M.prev)*(E/I))/M.anim.top,!(0>E))if(I>E){var F=D(E/I);for(var V in q)if(q[J](V)){switch(cc[V]){case h:B=+q[V]+F*I*j[V];break;case"colour":B="rgb("+[Bv(n(q[V].r+F*I*j[V].r)),Bv(n(q[V].g+F*I*j[V].g)),Bv(n(q[V].b+F*I*j[V].b))].join(",")+")";break;case"path":B=[];for(var W=0,G=q[V].length;G>W;W++){B[W]=[q[V][W][0]];for(var Y=1,Z=q[V][W].length;Z>Y;Y++)B[W][Y]=+q[V][W][Y]+F*I*j[V][W][Y];B[W]=B[W].join(O)}B=B.join(O);break;case"transform":if(j[V].real)for(B=[],W=0,G=q[V].length;G>W;W++)for(B[W]=[q[V][W][0]],Y=1,Z=q[V][W].length;Z>Y;Y++)B[W][Y]=q[V][W][Y]+F*I*j[V][W][Y];else{var Q=function(c){return+q[V][c]+F*I*j[V][c]};B=[["m",Q(0),Q(1),Q(2),Q(3),Q(4),Q(5)]]}break;case"csv":if("clip-rect"==V)for(B=[],W=4;W--;)B[W]=+q[V][W]+F*I*j[V][W];break;default:var K=[][R](q[V]);for(B=[],W=P.paper.customAttributes[V].length;W--;)B[W]=+K[W]+F*I*j[V][W]}H[V]=B}P.attr(H),function(v,_,k){setTimeout(function(){c("raphael.anim.frame."+v,_,k)})}(P.id,P,M.anim)}else{if(function(_,k,M){setTimeout(function(){c("raphael.anim.frame."+k.id,k,M),c("raphael.anim.finish."+k.id,k,M),v.is(_,"function")&&_.call(k)})}(M.callback,P,M.anim),P.attr(N),_v.splice(k--,1),M.repeat>1&&!M.next){for(A in N)N[J](A)&&(z[A]=M.totalOrigin[A]);M.el.attr(z),$(M.anim,M.el,M.anim.percents[0],null,M.totalOrigin,M.repeat-1)}M.next&&!M.stop&&$(M.anim,M.el,M.next,null,M.totalOrigin,M.repeat)}}}_v.length&&kv(Mv)},Bv=function(c){return c>255?255:0>c?0:c};mc.animateWith=function(c,_,k,M,B,A){var E=this;if(E.removed)return A&&A.call(E),E;var I=k instanceof H?k:v.animation(k,M,B,A);$(I,E,I.percents[0],null,E.attr());for(var D=0,q=_v.length;q>D;D++)if(_v[D].anim==_&&_v[D].el==c){_v[q-1].start=_v[D].start;break}return E},mc.onAnimation=function(v){return v?c.on("raphael.anim.frame."+this.id,v):c.unbind("raphael.anim.frame."+this.id),this},H.prototype.delay=function(c){var v=new H(this.anim,this.ms);return v.times=this.times,v.del=+c||0,v},H.prototype.repeat=function(c){var v=new H(this.anim,this.ms);return v.del=this.del,v.times=a.floor(f(c,0))||1,v},v.animation=function(c,_,k,M){if(c instanceof H)return c;(v.is(k,"function")||!k)&&(M=M||k||null,k=null),c=Object(c),_=+_||0;var B,A,E={};for(A in c)c[J](A)&&t(A)!=A&&t(A)+"%"!=A&&(B=!0,E[A]=c[A]);if(B)return k&&(E.easing=k),M&&(E.callback=M),new H({100:E},_);if(M){var I=0;for(var D in c){var q=l(D);c[J](D)&&q>I&&(I=q)}!c[I+="%"].callback&&(c[I].callback=M)}return new H(c,_)},mc.animate=function(c,_,k,M){var B=this;if(B.removed)return M&&M.call(B),B;var A=c instanceof H?c:v.animation(c,_,k,M);return $(A,B,A.percents[0],null,B.attr()),B},mc.setTime=function(c,v){return c&&null!=v&&this.status(c,r(v,c.ms)/c.ms),this},mc.status=function(c,v){var _,k,M=[],B=0;if(null!=v)return $(c,this,-1,r(v,1)),this;for(_=_v.length;_>B;B++)if((k=_v[B]).el.id==this.id&&(!c||k.anim==c)){if(c)return k.status;M.push({anim:k.anim,status:k.status})}return c?0:M},mc.pause=function(v){for(var _=0;_<_v.length;_++)_v[_].el.id!=this.id||v&&_v[_].anim!=v||!1!==c("raphael.anim.pause."+this.id,this,_v[_].anim)&&(_v[_].paused=!0);return this},mc.resume=function(v){for(var _=0;_<_v.length;_++)if(_v[_].el.id==this.id&&(!v||_v[_].anim==v)){var k=_v[_];!1!==c("raphael.anim.resume."+this.id,this,k.anim)&&(delete k.paused,this.status(k.anim,k.status))}return this},mc.stop=function(v){for(var _=0;_<_v.length;_++)_v[_].el.id!=this.id||v&&_v[_].anim!=v||!1!==c("raphael.anim.stop."+this.id,this,_v[_].anim)&&_v.splice(_--,1);return this},c.on("raphael.remove",z),c.on("raphael.clear",z),mc.toString=function(){return"Raphaël’s object"};var Av=function(c){if(this.items=[],this.length=0,this.type="set",c)for(var v=0,_=c.length;_>v;v++)!c[v]||c[v].constructor!=mc.constructor&&c[v].constructor!=Av||(this[this.items.length]=this.items[this.items.length]=c[v],this.length++)},Ev=Av.prototype;for(var Iv in Ev.push=function(){for(var c,v,_=0,k=arguments.length;k>_;_++)!(c=arguments[_])||c.constructor!=mc.constructor&&c.constructor!=Av||(this[v=this.items.length]=this.items[v]=c,this.length++);return this},Ev.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Ev.forEach=function(c,v){for(var _=0,k=this.items.length;k>_;_++)if(!1===c.call(v,this.items[_],_))return this;return this},mc)mc[J](Iv)&&(Ev[Iv]=function(c){return function(){var v=arguments;return this.forEach(function(_){_[c][u](_,v)})}}(Iv));return Ev.attr=function(c,_){if(c&&v.is(c,s)&&v.is(c[0],"object"))for(var k=0,M=c.length;M>k;k++)this.items[k].attr(c[k]);else for(var B=0,A=this.items.length;A>B;B++)this.items[B].attr(c,_);return this},Ev.clear=function(){for(;this.length;)this.pop()},Ev.splice=function(c,v,_){c=0>c?f(this.length+c,0):c,v=f(0,r(this.length-c,v));var k,M=[],B=[],A=[];for(k=2;k<arguments.length;k++)A.push(arguments[k]);for(k=0;v>k;k++)B.push(this[c+k]);for(;k<this.length-c;k++)M.push(this[c+k]);var E=A.length;for(k=0;k<E+M.length;k++)this.items[c+k]=this[c+k]=E>k?A[k]:M[k-E];for(k=this.items.length=this.length-=v-E;this[k];)delete this[k++];return new Av(B)},Ev.exclude=function(c){for(var v=0,_=this.length;_>v;v++)if(this[v]==c)return this.splice(v,1),!0},Ev.animate=function(c,_,k,M){(v.is(k,"function")||!k)&&(M=k||null);var B,A,E=this.items.length,I=E,D=this;if(!E)return this;M&&(A=function(){!--E&&M.call(D)}),k=v.is(k,y)?k:A;var q=v.animation(c,_,k,A);for(B=this.items[--I].animate(q);I--;)this.items[I]&&!this.items[I].removed&&this.items[I].animateWith(B,q,q),this.items[I]&&!this.items[I].removed||E--;return this},Ev.insertAfter=function(c){for(var v=this.items.length;v--;)this.items[v].insertAfter(c);return this},Ev.getBBox=function(){for(var c=[],v=[],_=[],k=[],M=this.items.length;M--;)if(!this.items[M].removed){var B=this.items[M].getBBox();c.push(B.x),v.push(B.y),_.push(B.x+B.width),k.push(B.y+B.height)}return c=r[u](0,c),v=r[u](0,v),_=f[u](0,_),k=f[u](0,k),{x:c,y:v,x2:_,y2:k,width:_-c,height:k-v}},Ev.clone=function(c){c=this.paper.set();for(var v=0,_=this.items.length;_>v;v++)c.push(this.items[v].clone());return c},Ev.toString=function(){return"Raphaël‘s set"},Ev.glow=function(c){var v=this.paper.set();return this.forEach(function(_,k){var M=_.glow(c);null!=M&&M.forEach(function(c,_){v.push(c)})}),v},Ev.isPointInside=function(c,v){var _=!1;return this.forEach(function(k){return k.isPointInside(c,v)?(_=!0,!1):void 0}),_},v.registerFont=function(c){if(!c.face)return c;this.fonts=this.fonts||{};var v={w:c.w,face:{},glyphs:{}},_=c.face["font-family"];for(var k in c.face)c.face[J](k)&&(v.face[k]=c.face[k]);if(this.fonts[_]?this.fonts[_].push(v):this.fonts[_]=[v],!c.svg)for(var M in v.face["units-per-em"]=l(c.face["units-per-em"],10),c.glyphs)if(c.glyphs[J](M)){var B=c.glyphs[M];if(v.glyphs[M]={w:B.w,k:{},d:B.d&&"M"+B.d.replace(/[mlcxtrv]/g,function(c){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[c]||"M"})+"z"},B.k)for(var A in B.k)B[J](A)&&(v.glyphs[M].k[A]=B.k[A])}return c},V.getFont=function(c,_,k,M){if(M=M||"normal",k=k||"normal",_=+_||{normal:400,bold:700,lighter:300,bolder:800}[_]||400,v.fonts){var B,A=v.fonts[c];if(!A){var E=new RegExp("(^|\\s)"+c.replace(/[^\w\d\s+!~.:_-]/g,C)+"(\\s|$)","i");for(var I in v.fonts)if(v.fonts[J](I)&&E.test(I)){A=v.fonts[I];break}}if(A)for(var D=0,q=A.length;q>D&&((B=A[D]).face["font-weight"]!=_||B.face["font-style"]!=k&&B.face["font-style"]||B.face["font-stretch"]!=M);D++);return B}},V.print=function(c,_,k,M,B,A,E,I){A=A||"middle",E=f(r(E||0,1),-1),I=f(r(I||1,3),1);var D,q=U(k)[w](C),j=0,N=0,P=C;if(v.is(M,"string")&&(M=this.getFont(M)),M){D=(B||16)/M.face["units-per-em"];for(var H=M.face.bbox[w](W),$=+H[0],z=H[3]-H[1],F=0,V=+H[1]+("baseline"==A?z+ +M.face.descent:z/2),G=0,Y=q.length;Y>G;G++){if("\n"==q[G])j=0,Z=0,N=0,F+=z*I;else{var J=N&&M.glyphs[q[G-1]]||{},Z=M.glyphs[q[G]];j+=N?(J.w||M.w)+(J.k&&J.k[q[G]]||0)+M.w*E:0,N=1}Z&&Z.d&&(P+=v.transformPath(Z.d,["t",j*D,F*D,"s",D,D,$,V,"t",(c-$)/D,(_-V)/D]))}}return this.path(P).attr({fill:"#000",stroke:"none"})},V.add=function(c){if(v.is(c,"array"))for(var _,k=this.set(),M=0,B=c.length;B>M;M++)_=c[M]||{},G[J](_.type)&&k.push(this[_.type]().attr(_));return k},v.format=function(c,_){var k=v.is(_,s)?[0][R](_):arguments;return c&&v.is(c,y)&&k.length-1&&(c=c.replace(Y,function(c,v){return null==k[++v]?C:k[v]})),c||C},v.fullfill=function(){var c=/\{([^\}]+)\}/g,v=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,_=function(c,_,k){var M=k;return _.replace(v,function(c,v,_,k,B){v=v||k,M&&(v in M&&(M=M[v]),"function"==typeof M&&B&&(M=M()))}),M=(null==M||M==k?c:M)+""};return function(v,k){return String(v).replace(c,function(c,v){return _(c,v,k)})}}(),v.ninja=function(){return Q.was?Z.win.Raphael=Q.is:delete Raphael,v},v.st=Ev,c.on("raphael.DOMload",function(){F=!0}),function(c,_,k){null==c.readyState&&c.addEventListener&&(c.addEventListener(_,k=function(){c.removeEventListener(_,k,!1),c.readyState="complete"},!1),c.readyState="loading"),function _(){/in/.test(c.readyState)?setTimeout(_,9):v.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),v}(c)}.apply(v,[k]),A=function(c){return function(c){if(!c||c.svg){var v="hasOwnProperty",_=String,k=parseFloat,M=parseInt,B=Math,A=B.max,E=B.abs,I=B.pow,D=/[, ]+/,q=c.eve,j="",N=" ",P="http://www.w3.org/1999/xlink",H={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},$={};c.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var z=function(k,M){if(M)for(var B in"string"==typeof k&&(k=z(k)),M)M[v](B)&&("xlink:"==B.substring(0,6)?k.setAttributeNS(P,B.substring(6),_(M[B])):k.setAttribute(B,_(M[B])));else(k=c._g.doc.createElementNS("http://www.w3.org/2000/svg",k)).style&&(k.style.webkitTapHighlightColor="rgba(0,0,0,0)");return k},F=function(v,M){var D="linear",q=v.id+M,N=.5,P=.5,H=v.node,$=v.paper,F=H.style,V=c._g.doc.getElementById(q);if(!V){if(M=(M=_(M).replace(c._radial_gradient,function(c,v,_){if(D="radial",v&&_){N=k(v);var M=2*((P=k(_))>.5)-1;I(N-.5,2)+I(P-.5,2)>.25&&(P=B.sqrt(.25-I(N-.5,2))*M+.5)&&.5!=P&&(P=P.toFixed(5)-1e-5*M)}return j})).split(/\s*\-\s*/),"linear"==D){var W=M.shift();if(W=-k(W),isNaN(W))return null;var G=[0,0,B.cos(c.rad(W)),B.sin(c.rad(W))],Y=1/(A(E(G[2]),E(G[3]))||1);G[2]*=Y,G[3]*=Y,G[2]<0&&(G[0]=-G[2],G[2]=0),G[3]<0&&(G[1]=-G[3],G[3]=0)}var J=c._parseDots(M);if(!J)return null;if(q=q.replace(/[\(\)\s,\xb0#]/g,"_"),v.gradient&&q!=v.gradient.id&&($.defs.removeChild(v.gradient),delete v.gradient),!v.gradient){V=z(D+"Gradient",{id:q}),v.gradient=V,z(V,"radial"==D?{fx:N,fy:P}:{x1:G[0],y1:G[1],x2:G[2],y2:G[3],gradientTransform:v.matrix.invert()}),$.defs.appendChild(V);for(var Z=0,Q=J.length;Q>Z;Z++)V.appendChild(z("stop",{offset:J[Z].offset?J[Z].offset:Z?"100%":"0%","stop-color":J[Z].color||"#fff","stop-opacity":isFinite(J[Z].opacity)?J[Z].opacity:1}))}}return z(H,{fill:"url('"+document.location.origin+document.location.pathname+"#"+q+"')",opacity:1,"fill-opacity":1}),F.fill=j,F.opacity=1,F.fillOpacity=1,1},V=function(c){var v=c.getBBox(1);z(c.pattern,{patternTransform:c.matrix.invert()+" translate("+v.x+","+v.y+")"})},W=function(k,M,B){if("path"==k.type){for(var A,E,I,D,q,N=_(M).toLowerCase().split("-"),P=k.paper,F=B?"end":"start",V=k.node,W=k.attrs,G=W["stroke-width"],Y=N.length,J="classic",Z=3,Q=3,K=5;Y--;)switch(N[Y]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":J=N[Y];break;case"wide":Q=5;break;case"narrow":Q=2;break;case"long":Z=5;break;case"short":Z=2}if("open"==J?(Z+=2,Q+=2,K+=2,I=1,D=B?4:1,q={fill:"none",stroke:W.stroke}):(D=I=Z/2,q={fill:W.stroke,stroke:"none"}),k._.arrows?B?(k._.arrows.endPath&&$[k._.arrows.endPath]--,k._.arrows.endMarker&&$[k._.arrows.endMarker]--):(k._.arrows.startPath&&$[k._.arrows.startPath]--,k._.arrows.startMarker&&$[k._.arrows.startMarker]--):k._.arrows={},"none"!=J){var u="raphael-marker-"+J,R="raphael-marker-"+F+J+Z+Q+"-obj"+k.id;c._g.doc.getElementById(u)?$[u]++:(P.defs.appendChild(z(z("path"),{"stroke-linecap":"round",d:H[J],id:u})),$[u]=1);var S,C=c._g.doc.getElementById(R);C?($[R]++,S=C.getElementsByTagName("use")[0]):(C=z(z("marker"),{id:R,markerHeight:Q,markerWidth:Z,orient:"auto",refX:D,refY:Q/2}),S=z(z("use"),{"xlink:href":"#"+u,transform:(B?"rotate(180 "+Z/2+" "+Q/2+") ":j)+"scale("+Z/K+","+Q/K+")","stroke-width":(1/((Z/K+Q/K)/2)).toFixed(4)}),C.appendChild(S),P.defs.appendChild(C),$[R]=1),z(S,q);var O=I*("diamond"!=J&&"oval"!=J);B?(A=k._.arrows.startdx*G||0,E=c.getTotalLength(W.path)-O*G):(A=O*G,E=c.getTotalLength(W.path)-(k._.arrows.enddx*G||0)),(q={})["marker-"+F]="url(#"+R+")",(E||A)&&(q.d=c.getSubpath(W.path,A,E)),z(V,q),k._.arrows[F+"Path"]=u,k._.arrows[F+"Marker"]=R,k._.arrows[F+"dx"]=O,k._.arrows[F+"Type"]=J,k._.arrows[F+"String"]=M}else B?(A=k._.arrows.startdx*G||0,E=c.getTotalLength(W.path)-A):(A=0,E=c.getTotalLength(W.path)-(k._.arrows.enddx*G||0)),k._.arrows[F+"Path"]&&z(V,{d:c.getSubpath(W.path,A,E)}),delete k._.arrows[F+"Path"],delete k._.arrows[F+"Marker"],delete k._.arrows[F+"dx"],delete k._.arrows[F+"Type"],delete k._.arrows[F+"String"];for(q in $)if($[v](q)&&!$[q]){var U=c._g.doc.getElementById(q);U&&U.parentNode.removeChild(U)}}},G={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},Y=function(c,v,k){if(v=G[_(v).toLowerCase()]){for(var M=c.attrs["stroke-width"]||"1",B={round:M,square:M,butt:0}[c.attrs["stroke-linecap"]||k["stroke-linecap"]]||0,A=[],E=v.length;E--;)A[E]=v[E]*M+(E%2?1:-1)*B;z(c.node,{"stroke-dasharray":A.join(",")})}else z(c.node,{"stroke-dasharray":"none"})},J=function(k,B){var I=k.node,q=k.attrs,N=I.style.visibility;for(var H in I.style.visibility="hidden",B)if(B[v](H)){if(!c._availableAttrs[v](H))continue;var $=B[H];switch(q[H]=$,H){case"blur":k.blur($);break;case"title":var G=I.getElementsByTagName("title");if(G.length&&(G=G[0]))G.firstChild.nodeValue=$;else{G=z("title");var J=c._g.doc.createTextNode($);G.appendChild(J),I.appendChild(G)}break;case"href":case"target":var Q=I.parentNode;if("a"!=Q.tagName.toLowerCase()){var K=z("a");Q.insertBefore(K,I),K.appendChild(I),Q=K}"target"==H?Q.setAttributeNS(P,"show","blank"==$?"new":$):Q.setAttributeNS(P,H,$);break;case"cursor":I.style.cursor=$;break;case"transform":k.transform($);break;case"arrow-start":W(k,$);break;case"arrow-end":W(k,$,1);break;case"clip-rect":var u=_($).split(D);if(4==u.length){k.clip&&k.clip.parentNode.parentNode.removeChild(k.clip.parentNode);var R=z("clipPath"),S=z("rect");R.id=c.createUUID(),z(S,{x:u[0],y:u[1],width:u[2],height:u[3]}),R.appendChild(S),k.paper.defs.appendChild(R),z(I,{"clip-path":"url(#"+R.id+")"}),k.clip=S}if(!$){var C=I.getAttribute("clip-path");if(C){var O=c._g.doc.getElementById(C.replace(/(^url\(#|\)$)/g,j));O&&O.parentNode.removeChild(O),z(I,{"clip-path":j}),delete k.clip}}break;case"path":"path"==k.type&&(z(I,{d:$?q.path=c._pathToAbsolute($):"M0,0"}),k._.dirty=1,k._.arrows&&("startString"in k._.arrows&&W(k,k._.arrows.startString),"endString"in k._.arrows&&W(k,k._.arrows.endString,1)));break;case"width":if(I.setAttribute(H,$),k._.dirty=1,!q.fx)break;H="x",$=q.x;case"x":q.fx&&($=-q.x-(q.width||0));case"rx":if("rx"==H&&"rect"==k.type)break;case"cx":I.setAttribute(H,$),k.pattern&&V(k),k._.dirty=1;break;case"height":if(I.setAttribute(H,$),k._.dirty=1,!q.fy)break;H="y",$=q.y;case"y":q.fy&&($=-q.y-(q.height||0));case"ry":if("ry"==H&&"rect"==k.type)break;case"cy":I.setAttribute(H,$),k.pattern&&V(k),k._.dirty=1;break;case"r":"rect"==k.type?z(I,{rx:$,ry:$}):I.setAttribute(H,$),k._.dirty=1;break;case"src":"image"==k.type&&I.setAttributeNS(P,"href",$);break;case"stroke-width":(1!=k._.sx||1!=k._.sy)&&($/=A(E(k._.sx),E(k._.sy))||1),I.setAttribute(H,$),q["stroke-dasharray"]&&Y(k,q["stroke-dasharray"],B),k._.arrows&&("startString"in k._.arrows&&W(k,k._.arrows.startString),"endString"in k._.arrows&&W(k,k._.arrows.endString,1));break;case"stroke-dasharray":Y(k,$,B);break;case"fill":var U=_($).match(c._ISURL);if(U){R=z("pattern");var w=z("image");R.id=c.createUUID(),z(R,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),z(w,{x:0,y:0,"xlink:href":U[1]}),R.appendChild(w),function(v){c._preload(U[1],function(){var c=this.offsetWidth,_=this.offsetHeight;z(v,{width:c,height:_}),z(w,{width:c,height:_})})}(R),k.paper.defs.appendChild(R),z(I,{fill:"url(#"+R.id+")"}),k.pattern=R,k.pattern&&V(k);break}var d=c.getRGB($);if(d.error){if(("circle"==k.type||"ellipse"==k.type||"r"!=_($).charAt())&&F(k,$)){if("opacity"in q||"fill-opacity"in q){var X=c._g.doc.getElementById(I.getAttribute("fill").replace(/^url\(#|\)$/g,j));if(X){var x=X.getElementsByTagName("stop");z(x[x.length-1],{"stop-opacity":("opacity"in q?q.opacity:1)*("fill-opacity"in q?q["fill-opacity"]:1)})}}q.gradient=$,q.fill="none";break}}else delete B.gradient,delete q.gradient,!c.is(q.opacity,"undefined")&&c.is(B.opacity,"undefined")&&z(I,{opacity:q.opacity}),!c.is(q["fill-opacity"],"undefined")&&c.is(B["fill-opacity"],"undefined")&&z(I,{"fill-opacity":q["fill-opacity"]});d[v]("opacity")&&z(I,{"fill-opacity":d.opacity>1?d.opacity/100:d.opacity});case"stroke":d=c.getRGB($),I.setAttribute(H,d.hex),"stroke"==H&&d[v]("opacity")&&z(I,{"stroke-opacity":d.opacity>1?d.opacity/100:d.opacity}),"stroke"==H&&k._.arrows&&("startString"in k._.arrows&&W(k,k._.arrows.startString),"endString"in k._.arrows&&W(k,k._.arrows.endString,1));break;case"gradient":("circle"==k.type||"ellipse"==k.type||"r"!=_($).charAt())&&F(k,$);break;case"opacity":q.gradient&&!q[v]("stroke-opacity")&&z(I,{"stroke-opacity":$>1?$/100:$});case"fill-opacity":if(q.gradient){(X=c._g.doc.getElementById(I.getAttribute("fill").replace(/^url\(#|\)$/g,j)))&&(x=X.getElementsByTagName("stop"),z(x[x.length-1],{"stop-opacity":$}));break}default:"font-size"==H&&($=M($,10)+"px");var a=H.replace(/(\-.)/g,function(c){return c.substring(1).toUpperCase()});I.style[a]=$,k._.dirty=1,I.setAttribute(H,$)}}Z(k,B),I.style.visibility=N},Z=function(k,B){if("text"==k.type&&(B[v]("text")||B[v]("font")||B[v]("font-size")||B[v]("x")||B[v]("y"))){var A=k.attrs,E=k.node,I=E.firstChild?M(c._g.doc.defaultView.getComputedStyle(E.firstChild,j).getPropertyValue("font-size"),10):10;if(B[v]("text")){for(A.text=B.text;E.firstChild;)E.removeChild(E.firstChild);for(var D,q=_(B.text).split("\n"),N=[],P=0,H=q.length;H>P;P++)D=z("tspan"),P&&z(D,{dy:1.2*I,x:A.x}),D.appendChild(c._g.doc.createTextNode(q[P])),E.appendChild(D),N[P]=D}else for(N=E.getElementsByTagName("tspan"),P=0,H=N.length;H>P;P++)P?z(N[P],{dy:1.2*I,x:A.x}):z(N[0],{dy:0});z(E,{x:A.x,y:A.y}),k._.dirty=1;var $=k._getBBox(),F=A.y-($.y+$.height/2);F&&c.is(F,"finite")&&z(N[0],{dy:F})}},Q=function(c){return c.parentNode&&"a"===c.parentNode.tagName.toLowerCase()?c.parentNode:c},K=function(v,_){this[0]=this.node=v,v.raphael=!0,this.id=c._oid++,v.raphaelid=this.id,this.matrix=c.matrix(),this.realPath=null,this.paper=_,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!_.bottom&&(_.bottom=this),this.prev=_.top,_.top&&(_.top.next=this),_.top=this,this.next=null},u=c.el;K.prototype=u,u.constructor=K,c._engine.path=function(c,v){var _=z("path");v.canvas&&v.canvas.appendChild(_);var k=new K(_,v);return k.type="path",J(k,{fill:"none",stroke:"#000",path:c}),k},u.rotate=function(c,v,M){if(this.removed)return this;if((c=_(c).split(D)).length-1&&(v=k(c[1]),M=k(c[2])),c=k(c[0]),null==M&&(v=M),null==v||null==M){var B=this.getBBox(1);v=B.x+B.width/2,M=B.y+B.height/2}return this.transform(this._.transform.concat([["r",c,v,M]])),this},u.scale=function(c,v,M,B){if(this.removed)return this;if((c=_(c).split(D)).length-1&&(v=k(c[1]),M=k(c[2]),B=k(c[3])),c=k(c[0]),null==v&&(v=c),null==B&&(M=B),null==M||null==B)var A=this.getBBox(1);return M=null==M?A.x+A.width/2:M,B=null==B?A.y+A.height/2:B,this.transform(this._.transform.concat([["s",c,v,M,B]])),this},u.translate=function(c,v){return this.removed?this:((c=_(c).split(D)).length-1&&(v=k(c[1])),c=k(c[0])||0,v=+v||0,this.transform(this._.transform.concat([["t",c,v]])),this)},u.transform=function(_){var k=this._;if(null==_)return k.transform;if(c._extractTransform(this,_),this.clip&&z(this.clip,{transform:this.matrix.invert()}),this.pattern&&V(this),this.node&&z(this.node,{transform:this.matrix}),1!=k.sx||1!=k.sy){var M=this.attrs[v]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":M})}return k.transform=this.matrix.toTransformString(),this},u.hide=function(){return this.removed||(this.node.style.display="none"),this},u.show=function(){return this.removed||(this.node.style.display=""),this},u.remove=function(){var v=Q(this.node);if(!this.removed&&v.parentNode){var _=this.paper;for(var k in _.__set__&&_.__set__.exclude(this),q.unbind("raphael.*.*."+this.id),this.gradient&&_.defs.removeChild(this.gradient),c._tear(this,_),v.parentNode.removeChild(v),this.removeData(),this)this[k]="function"==typeof this[k]?c._removedFactory(k):null;this.removed=!0}},u._getBBox=function(){if("none"==this.node.style.display){this.show();var c=!0}var v,_=!1;this.paper.canvas.parentElement?v=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(v=this.paper.canvas.parentNode.style),v&&"none"==v.display&&(_=!0,v.display="");var k={};try{k=this.node.getBBox()}catch(c){k={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{k=k||{},_&&(v.display="none")}return c&&this.hide(),k},u.attr=function(_,k){if(this.removed)return this;if(null==_){var M={};for(var B in this.attrs)this.attrs[v](B)&&(M[B]=this.attrs[B]);return M.gradient&&"none"==M.fill&&(M.fill=M.gradient)&&delete M.gradient,M.transform=this._.transform,M}if(null==k&&c.is(_,"string")){if("fill"==_&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==_)return this._.transform;for(var A=_.split(D),E={},I=0,j=A.length;j>I;I++)(_=A[I])in this.attrs?E[_]=this.attrs[_]:c.is(this.paper.customAttributes[_],"function")?E[_]=this.paper.customAttributes[_].def:E[_]=c._availableAttrs[_];return j-1?E:E[A[0]]}if(null==k&&c.is(_,"array")){for(E={},I=0,j=_.length;j>I;I++)E[_[I]]=this.attr(_[I]);return E}if(null!=k){var N={};N[_]=k}else null!=_&&c.is(_,"object")&&(N=_);for(var P in N)q("raphael.attr."+P+"."+this.id,this,N[P]);for(P in this.paper.customAttributes)if(this.paper.customAttributes[v](P)&&N[v](P)&&c.is(this.paper.customAttributes[P],"function")){var H=this.paper.customAttributes[P].apply(this,[].concat(N[P]));for(var $ in this.attrs[P]=N[P],H)H[v]($)&&(N[$]=H[$])}return J(this,N),this},u.toFront=function(){if(this.removed)return this;var v=Q(this.node);v.parentNode.appendChild(v);var _=this.paper;return _.top!=this&&c._tofront(this,_),this},u.toBack=function(){if(this.removed)return this;var v=Q(this.node),_=v.parentNode;return _.insertBefore(v,_.firstChild),c._toback(this,this.paper),this.paper,this},u.insertAfter=function(v){if(this.removed||!v)return this;var _=Q(this.node),k=Q(v.node||v[v.length-1].node);return k.nextSibling?k.parentNode.insertBefore(_,k.nextSibling):k.parentNode.appendChild(_),c._insertafter(this,v,this.paper),this},u.insertBefore=function(v){if(this.removed||!v)return this;var _=Q(this.node),k=Q(v.node||v[0].node);return k.parentNode.insertBefore(_,k),c._insertbefore(this,v,this.paper),this},u.blur=function(v){var _=this;if(0!=+v){var k=z("filter"),M=z("feGaussianBlur");_.attrs.blur=v,k.id=c.createUUID(),z(M,{stdDeviation:+v||1.5}),k.appendChild(M),_.paper.defs.appendChild(k),_._blur=k,z(_.node,{filter:"url(#"+k.id+")"})}else _._blur&&(_._blur.parentNode.removeChild(_._blur),delete _._blur,delete _.attrs.blur),_.node.removeAttribute("filter");return _},c._engine.circle=function(c,v,_,k){var M=z("circle");c.canvas&&c.canvas.appendChild(M);var B=new K(M,c);return B.attrs={cx:v,cy:_,r:k,fill:"none",stroke:"#000"},B.type="circle",z(M,B.attrs),B},c._engine.rect=function(c,v,_,k,M,B){var A=z("rect");c.canvas&&c.canvas.appendChild(A);var E=new K(A,c);return E.attrs={x:v,y:_,width:k,height:M,rx:B||0,ry:B||0,fill:"none",stroke:"#000"},E.type="rect",z(A,E.attrs),E},c._engine.ellipse=function(c,v,_,k,M){var B=z("ellipse");c.canvas&&c.canvas.appendChild(B);var A=new K(B,c);return A.attrs={cx:v,cy:_,rx:k,ry:M,fill:"none",stroke:"#000"},A.type="ellipse",z(B,A.attrs),A},c._engine.image=function(c,v,_,k,M,B){var A=z("image");z(A,{x:_,y:k,width:M,height:B,preserveAspectRatio:"none"}),A.setAttributeNS(P,"href",v),c.canvas&&c.canvas.appendChild(A);var E=new K(A,c);return E.attrs={x:_,y:k,width:M,height:B,src:v},E.type="image",E},c._engine.text=function(v,_,k,M){var B=z("text");v.canvas&&v.canvas.appendChild(B);var A=new K(B,v);return A.attrs={x:_,y:k,"text-anchor":"middle",text:M,"font-family":c._availableAttrs["font-family"],"font-size":c._availableAttrs["font-size"],stroke:"none",fill:"#000"},A.type="text",J(A,A.attrs),A},c._engine.setSize=function(c,v){return this.width=c||this.width,this.height=v||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},c._engine.create=function(){var v=c._getContainer.apply(0,arguments),_=v&&v.container,k=v.x,M=v.y,B=v.width,A=v.height;if(!_)throw new Error("SVG container not found.");var E,I=z("svg"),D="overflow:hidden;";return k=k||0,M=M||0,z(I,{height:A=A||342,version:1.1,width:B=B||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==_?(I.style.cssText=D+"position:absolute;left:"+k+"px;top:"+M+"px",c._g.doc.body.appendChild(I),E=1):(I.style.cssText=D+"position:relative",_.firstChild?_.insertBefore(I,_.firstChild):_.appendChild(I)),(_=new c._Paper).width=B,_.height=A,_.canvas=I,_.clear(),_._left=_._top=0,E&&(_.renderfix=function(){}),_.renderfix(),_},c._engine.setViewBox=function(c,v,_,k,M){q("raphael.setViewBox",this,this._viewBox,[c,v,_,k,M]);var B,E,I=this.getSize(),D=A(_/I.width,k/I.height),j=this.top,P=M?"xMidYMid meet":"xMinYMin";for(null==c?(this._vbSize&&(D=1),delete this._vbSize,B="0 0 "+this.width+N+this.height):(this._vbSize=D,B=c+N+v+N+_+N+k),z(this.canvas,{viewBox:B,preserveAspectRatio:P});D&&j;)E="stroke-width"in j.attrs?j.attrs["stroke-width"]:1,j.attr({"stroke-width":E}),j._.dirty=1,j._.dirtyT=1,j=j.prev;return this._viewBox=[c,v,_,k,!!M],this},c.prototype.renderfix=function(){var c,v=this.canvas,_=v.style;try{c=v.getScreenCTM()||v.createSVGMatrix()}catch(_){c=v.createSVGMatrix()}var k=-c.e%1,M=-c.f%1;(k||M)&&(k&&(this._left=(this._left+k)%1,_.left=this._left+"px"),M&&(this._top=(this._top+M)%1,_.top=this._top+"px"))},c.prototype.clear=function(){c.eve("raphael.clear",this);for(var v=this.canvas;v.firstChild;)v.removeChild(v.firstChild);this.bottom=this.top=null,(this.desc=z("desc")).appendChild(c._g.doc.createTextNode("Created with Raphaël "+c.version)),v.appendChild(this.desc),v.appendChild(this.defs=z("defs"))},c.prototype.remove=function(){for(var v in q("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[v]="function"==typeof this[v]?c._removedFactory(v):null};var R=c.st;for(var S in u)u[v](S)&&!R[v](S)&&(R[S]=function(c){return function(){var v=arguments;return this.forEach(function(_){_[c].apply(_,v)})}}(S))}}(c)}.apply(v,[B]),E=function(c){return function(c){if(!c||c.vml){var v="hasOwnProperty",_=String,k=parseFloat,M=Math,B=M.round,A=M.max,E=M.min,I=M.abs,D="fill",q=/[, ]+/,j=c.eve,N=" ",P="",H={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},$=/([clmz]),?([^clmz]*)/gi,z=/ progid:\S+Blur\([^\)]+\)/g,F=/-?[^,\s-]+/g,V="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",W=21600,G={path:1,rect:1,image:1},Y={circle:1,ellipse:1},J=function(v){var k=/[ahqstv]/gi,M=c._pathToAbsolute;if(_(v).match(k)&&(M=c._path2curve),k=/[clmz]/g,M==c._pathToAbsolute&&!_(v).match(k)){var A=_(v).replace($,function(c,v,_){var k=[],M="m"==v.toLowerCase(),A=H[v];return _.replace(F,function(c){M&&2==k.length&&(A+=k+H["m"==v?"l":"L"],k=[]),k.push(B(c*W))}),A+k});return A}var E,I,D=M(v);A=[];for(var q=0,j=D.length;j>q;q++){E=D[q],"z"==(I=D[q][0].toLowerCase())&&(I="x");for(var z=1,V=E.length;V>z;z++)I+=B(E[z]*W)+(z!=V-1?",":P);A.push(I)}return A.join(N)},Z=function(v,_,k){var M=c.matrix();return M.rotate(-v,.5,.5),{dx:M.x(_,k),dy:M.y(_,k)}},Q=function(c,v,_,k,M,B){var A=c._,E=c.matrix,q=A.fillpos,j=c.node,P=j.style,H=1,$="",z=W/v,F=W/_;if(P.visibility="hidden",v&&_){if(j.coordsize=I(z)+N+I(F),P.rotation=B*(0>v*_?-1:1),B){var V=Z(B,k,M);k=V.dx,M=V.dy}if(0>v&&($+="x"),0>_&&($+=" y")&&(H=-1),P.flip=$,j.coordorigin=k*-z+N+M*-F,q||A.fillsize){var G=j.getElementsByTagName(D);G=G&&G[0],j.removeChild(G),q&&(V=Z(B,E.x(q[0],q[1]),E.y(q[0],q[1])),G.position=V.dx*H+N+V.dy*H),A.fillsize&&(G.size=A.fillsize[0]*I(v)+N+A.fillsize[1]*I(_)),j.appendChild(G)}P.visibility="visible"}};c.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var K,u=function(c,v,k){for(var M=_(v).toLowerCase().split("-"),B=k?"end":"start",A=M.length,E="classic",I="medium",D="medium";A--;)switch(M[A]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":E=M[A];break;case"wide":case"narrow":D=M[A];break;case"long":case"short":I=M[A]}var q=c.node.getElementsByTagName("stroke")[0];q[B+"arrow"]=E,q[B+"arrowlength"]=I,q[B+"arrowwidth"]=D},R=function(M,I){M.attrs=M.attrs||{};var j=M.node,H=M.attrs,$=j.style,z=G[M.type]&&(I.x!=H.x||I.y!=H.y||I.width!=H.width||I.height!=H.height||I.cx!=H.cx||I.cy!=H.cy||I.rx!=H.rx||I.ry!=H.ry||I.r!=H.r),F=Y[M.type]&&(H.cx!=I.cx||H.cy!=I.cy||H.r!=I.r||H.rx!=I.rx||H.ry!=I.ry),V=M;for(var Z in I)I[v](Z)&&(H[Z]=I[Z]);if(z&&(H.path=c._getPath[M.type](M),M._.dirty=1),I.href&&(j.href=I.href),I.title&&(j.title=I.title),I.target&&(j.target=I.target),I.cursor&&($.cursor=I.cursor),"blur"in I&&M.blur(I.blur),(I.path&&"path"==M.type||z)&&(j.path=J(~_(H.path).toLowerCase().indexOf("r")?c._pathToAbsolute(H.path):H.path),M._.dirty=1,"image"==M.type&&(M._.fillpos=[H.x,H.y],M._.fillsize=[H.width,H.height],Q(M,1,1,0,0,0))),"transform"in I&&M.transform(I.transform),F){var R=+H.cx,C=+H.cy,O=+H.rx||+H.r||0,U=+H.ry||+H.r||0;j.path=c.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",B((R-O)*W),B((C-U)*W),B((R+O)*W),B((C+U)*W),B(R*W)),M._.dirty=1}if("clip-rect"in I){var w=_(I["clip-rect"]).split(q);if(4==w.length){w[2]=+w[2]+ +w[0],w[3]=+w[3]+ +w[1];var d=j.clipRect||c._g.doc.createElement("div"),X=d.style;X.clip=c.format("rect({1}px {2}px {3}px {0}px)",w),j.clipRect||(X.position="absolute",X.top=0,X.left=0,X.width=M.paper.width+"px",X.height=M.paper.height+"px",j.parentNode.insertBefore(d,j),d.appendChild(j),j.clipRect=d)}I["clip-rect"]||j.clipRect&&(j.clipRect.style.clip="auto")}if(M.textpath){var x=M.textpath.style;I.font&&(x.font=I.font),I["font-family"]&&(x.fontFamily='"'+I["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,P)+'"'),I["font-size"]&&(x.fontSize=I["font-size"]),I["font-weight"]&&(x.fontWeight=I["font-weight"]),I["font-style"]&&(x.fontStyle=I["font-style"])}if("arrow-start"in I&&u(V,I["arrow-start"]),"arrow-end"in I&&u(V,I["arrow-end"],1),null!=I.opacity||null!=I["stroke-width"]||null!=I.fill||null!=I.src||null!=I.stroke||null!=I["stroke-width"]||null!=I["stroke-opacity"]||null!=I["fill-opacity"]||null!=I["stroke-dasharray"]||null!=I["stroke-miterlimit"]||null!=I["stroke-linejoin"]||null!=I["stroke-linecap"]){var a=j.getElementsByTagName(D);if(!(a=a&&a[0])&&(a=K(D)),"image"==M.type&&I.src&&(a.src=I.src),I.fill&&(a.on=!0),(null==a.on||"none"==I.fill||null===I.fill)&&(a.on=!1),a.on&&I.fill){var f=_(I.fill).match(c._ISURL);if(f){a.parentNode==j&&j.removeChild(a),a.rotate=!0,a.src=f[1],a.type="tile";var r=M.getBBox(1);a.position=r.x+N+r.y,M._.fillpos=[r.x,r.y],c._preload(f[1],function(){M._.fillsize=[this.offsetWidth,this.offsetHeight]})}else a.color=c.getRGB(I.fill).hex,a.src=P,a.type="solid",c.getRGB(I.fill).error&&(V.type in{circle:1,ellipse:1}||"r"!=_(I.fill).charAt())&&S(V,I.fill,a)&&(H.fill="none",H.gradient=I.fill,a.rotate=!1)}if("fill-opacity"in I||"opacity"in I){var T=((+H["fill-opacity"]+1||2)-1)*((+H.opacity+1||2)-1)*((+c.getRGB(I.fill).o+1||2)-1);T=E(A(T,0),1),a.opacity=T,a.src&&(a.color="none")}j.appendChild(a);var p=j.getElementsByTagName("stroke")&&j.getElementsByTagName("stroke")[0],L=!1;!p&&(L=p=K("stroke")),(I.stroke&&"none"!=I.stroke||I["stroke-width"]||null!=I["stroke-opacity"]||I["stroke-dasharray"]||I["stroke-miterlimit"]||I["stroke-linejoin"]||I["stroke-linecap"])&&(p.on=!0),("none"==I.stroke||null===I.stroke||null==p.on||0==I.stroke||0==I["stroke-width"])&&(p.on=!1);var h=c.getRGB(I.stroke);p.on&&I.stroke&&(p.color=h.hex),T=((+H["stroke-opacity"]+1||2)-1)*((+H.opacity+1||2)-1)*((+h.o+1||2)-1);var y=.75*(k(I["stroke-width"])||1);if(T=E(A(T,0),1),null==I["stroke-width"]&&(y=H["stroke-width"]),I["stroke-width"]&&(p.weight=y),y&&1>y&&(T*=y)&&(p.weight=1),p.opacity=T,I["stroke-linejoin"]&&(p.joinstyle=I["stroke-linejoin"]||"miter"),p.miterlimit=I["stroke-miterlimit"]||8,I["stroke-linecap"]&&(p.endcap="butt"==I["stroke-linecap"]?"flat":"square"==I["stroke-linecap"]?"square":"round"),"stroke-dasharray"in I){var s={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};p.dashstyle=s[v](I["stroke-dasharray"])?s[I["stroke-dasharray"]]:P}L&&j.appendChild(p)}if("text"==V.type){V.paper.canvas.style.display=P;var g=V.paper.span,b=H.font&&H.font.match(/\d+(?:\.\d*)?(?=px)/);$=g.style,H.font&&($.font=H.font),H["font-family"]&&($.fontFamily=H["font-family"]),H["font-weight"]&&($.fontWeight=H["font-weight"]),H["font-style"]&&($.fontStyle=H["font-style"]),b=k(H["font-size"]||b&&b[0])||10,$.fontSize=100*b+"px",V.textpath.string&&(g.innerHTML=_(V.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var m=g.getBoundingClientRect();V.W=H.w=(m.right-m.left)/100,V.H=H.h=(m.bottom-m.top)/100,V.X=H.x,V.Y=H.y+V.H/2,("x"in I||"y"in I)&&(V.path.v=c.format("m{0},{1}l{2},{1}",B(H.x*W),B(H.y*W),B(H.x*W)+1));for(var i=["x","y","text","font","font-family","font-weight","font-style","font-size"],n=0,t=i.length;t>n;n++)if(i[n]in I){V._.dirty=1;break}switch(H["text-anchor"]){case"start":V.textpath.style["v-text-align"]="left",V.bbx=V.W/2;break;case"end":V.textpath.style["v-text-align"]="right",V.bbx=-V.W/2;break;default:V.textpath.style["v-text-align"]="center",V.bbx=0}V.textpath.style["v-text-kern"]=!0}},S=function(v,B,A){v.attrs=v.attrs||{};var E=(v.attrs,Math.pow),I="linear",D=".5 .5";if(v.attrs.gradient=B,B=(B=_(B).replace(c._radial_gradient,function(c,v,_){return I="radial",v&&_&&(v=k(v),_=k(_),E(v-.5,2)+E(_-.5,2)>.25&&(_=M.sqrt(.25-E(v-.5,2))*(2*(_>.5)-1)+.5),D=v+N+_),P})).split(/\s*\-\s*/),"linear"==I){var q=B.shift();if(q=-k(q),isNaN(q))return null}var j=c._parseDots(B);if(!j)return null;if(v=v.shape||v.node,j.length){v.removeChild(A),A.on=!0,A.method="none",A.color=j[0].color,A.color2=j[j.length-1].color;for(var H=[],$=0,z=j.length;z>$;$++)j[$].offset&&H.push(j[$].offset+N+j[$].color);A.colors=H.length?H.join():"0% "+A.color,"radial"==I?(A.type="gradientTitle",A.focus="100%",A.focussize="0 0",A.focusposition=D,A.angle=0):(A.type="gradient",A.angle=(270-q)%360),v.appendChild(A)}return 1},C=function(v,_){this[0]=this.node=v,v.raphael=!0,this.id=c._oid++,v.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=_,this.matrix=c.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!_.bottom&&(_.bottom=this),this.prev=_.top,_.top&&(_.top.next=this),_.top=this,this.next=null},O=c.el;C.prototype=O,O.constructor=C,O.transform=function(v){if(null==v)return this._.transform;var k,M=this.paper._viewBoxShift,B=M?"s"+[M.scale,M.scale]+"-1-1t"+[M.dx,M.dy]:P;M&&(k=v=_(v).replace(/\.{3}|\u2026/g,this._.transform||P)),c._extractTransform(this,B+v);var A,E=this.matrix.clone(),I=this.skew,D=this.node,q=~_(this.attrs.fill).indexOf("-"),j=!_(this.attrs.fill).indexOf("url(");if(E.translate(1,1),j||q||"image"==this.type)if(I.matrix="1 0 0 1",I.offset="0 0",A=E.split(),q&&A.noRotation||!A.isSimple){D.style.filter=E.toFilter();var H=this.getBBox(),$=this.getBBox(1),z=H.x-$.x,F=H.y-$.y;D.coordorigin=z*-W+N+F*-W,Q(this,1,1,z,F,0)}else D.style.filter=P,Q(this,A.scalex,A.scaley,A.dx,A.dy,A.rotate);else D.style.filter=P,I.matrix=_(E),I.offset=E.offset();return null!==k&&(this._.transform=k,c._extractTransform(this,k)),this},O.rotate=function(c,v,M){if(this.removed)return this;if(null!=c){if((c=_(c).split(q)).length-1&&(v=k(c[1]),M=k(c[2])),c=k(c[0]),null==M&&(v=M),null==v||null==M){var B=this.getBBox(1);v=B.x+B.width/2,M=B.y+B.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",c,v,M]])),this}},O.translate=function(c,v){return this.removed?this:((c=_(c).split(q)).length-1&&(v=k(c[1])),c=k(c[0])||0,v=+v||0,this._.bbox&&(this._.bbox.x+=c,this._.bbox.y+=v),this.transform(this._.transform.concat([["t",c,v]])),this)},O.scale=function(c,v,M,B){if(this.removed)return this;if((c=_(c).split(q)).length-1&&(v=k(c[1]),M=k(c[2]),B=k(c[3]),isNaN(M)&&(M=null),isNaN(B)&&(B=null)),c=k(c[0]),null==v&&(v=c),null==B&&(M=B),null==M||null==B)var A=this.getBBox(1);return M=null==M?A.x+A.width/2:M,B=null==B?A.y+A.height/2:B,this.transform(this._.transform.concat([["s",c,v,M,B]])),this._.dirtyT=1,this},O.hide=function(){return!this.removed&&(this.node.style.display="none"),this},O.show=function(){return!this.removed&&(this.node.style.display=P),this},O.auxGetBBox=c.el.getBBox,O.getBBox=function(){var c=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var v={},_=1/this.paper._viewBoxShift.scale;return v.x=c.x-this.paper._viewBoxShift.dx,v.x*=_,v.y=c.y-this.paper._viewBoxShift.dy,v.y*=_,v.width=c.width*_,v.height=c.height*_,v.x2=v.x+v.width,v.y2=v.y+v.height,v}return c},O._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},O.remove=function(){if(!this.removed&&this.node.parentNode){for(var v in this.paper.__set__&&this.paper.__set__.exclude(this),c.eve.unbind("raphael.*.*."+this.id),c._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[v]="function"==typeof this[v]?c._removedFactory(v):null;this.removed=!0}},O.attr=function(_,k){if(this.removed)return this;if(null==_){var M={};for(var B in this.attrs)this.attrs[v](B)&&(M[B]=this.attrs[B]);return M.gradient&&"none"==M.fill&&(M.fill=M.gradient)&&delete M.gradient,M.transform=this._.transform,M}if(null==k&&c.is(_,"string")){if(_==D&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var A=_.split(q),E={},I=0,N=A.length;N>I;I++)(_=A[I])in this.attrs?E[_]=this.attrs[_]:c.is(this.paper.customAttributes[_],"function")?E[_]=this.paper.customAttributes[_].def:E[_]=c._availableAttrs[_];return N-1?E:E[A[0]]}if(this.attrs&&null==k&&c.is(_,"array")){for(E={},I=0,N=_.length;N>I;I++)E[_[I]]=this.attr(_[I]);return E}var P;for(var H in null!=k&&((P={})[_]=k),null==k&&c.is(_,"object")&&(P=_),P)j("raphael.attr."+H+"."+this.id,this,P[H]);if(P){for(H in this.paper.customAttributes)if(this.paper.customAttributes[v](H)&&P[v](H)&&c.is(this.paper.customAttributes[H],"function")){var $=this.paper.customAttributes[H].apply(this,[].concat(P[H]));for(var z in this.attrs[H]=P[H],$)$[v](z)&&(P[z]=$[z])}P.text&&"text"==this.type&&(this.textpath.string=P.text),R(this,P)}return this},O.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&c._tofront(this,this.paper),this},O.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),c._toback(this,this.paper)),this)},O.insertAfter=function(v){return this.removed?this:(v.constructor==c.st.constructor&&(v=v[v.length-1]),v.node.nextSibling?v.node.parentNode.insertBefore(this.node,v.node.nextSibling):v.node.parentNode.appendChild(this.node),c._insertafter(this,v,this.paper),this)},O.insertBefore=function(v){return this.removed?this:(v.constructor==c.st.constructor&&(v=v[0]),v.node.parentNode.insertBefore(this.node,v.node),c._insertbefore(this,v,this.paper),this)},O.blur=function(v){var _=this.node.runtimeStyle,k=_.filter;return k=k.replace(z,P),0!=+v?(this.attrs.blur=v,_.filter=k+N+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+v||1.5)+")",_.margin=c.format("-{0}px 0 0 -{0}px",B(+v||1.5))):(_.filter=k,_.margin=0,delete this.attrs.blur),this},c._engine.path=function(c,v){var _=K("shape");_.style.cssText=V,_.coordsize=W+N+W,_.coordorigin=v.coordorigin;var k=new C(_,v),M={fill:"none",stroke:"#000"};c&&(M.path=c),k.type="path",k.path=[],k.Path=P,R(k,M),v.canvas.appendChild(_);var B=K("skew");return B.on=!0,_.appendChild(B),k.skew=B,k.transform(P),k},c._engine.rect=function(v,_,k,M,B,A){var E=c._rectPath(_,k,M,B,A),I=v.path(E),D=I.attrs;return I.X=D.x=_,I.Y=D.y=k,I.W=D.width=M,I.H=D.height=B,D.r=A,D.path=E,I.type="rect",I},c._engine.ellipse=function(c,v,_,k,M){var B=c.path();return B.attrs,B.X=v-k,B.Y=_-M,B.W=2*k,B.H=2*M,B.type="ellipse",R(B,{cx:v,cy:_,rx:k,ry:M}),B},c._engine.circle=function(c,v,_,k){var M=c.path();return M.attrs,M.X=v-k,M.Y=_-k,M.W=M.H=2*k,M.type="circle",R(M,{cx:v,cy:_,r:k}),M},c._engine.image=function(v,_,k,M,B,A){var E=c._rectPath(k,M,B,A),I=v.path(E).attr({stroke:"none"}),q=I.attrs,j=I.node,N=j.getElementsByTagName(D)[0];return q.src=_,I.X=q.x=k,I.Y=q.y=M,I.W=q.width=B,I.H=q.height=A,q.path=E,I.type="image",N.parentNode==j&&j.removeChild(N),N.rotate=!0,N.src=_,N.type="tile",I._.fillpos=[k,M],I._.fillsize=[B,A],j.appendChild(N),Q(I,1,1,0,0,0),I},c._engine.text=function(v,k,M,A){var E=K("shape"),I=K("path"),D=K("textpath");k=k||0,M=M||0,A=A||"",I.v=c.format("m{0},{1}l{2},{1}",B(k*W),B(M*W),B(k*W)+1),I.textpathok=!0,D.string=_(A),D.on=!0,E.style.cssText=V,E.coordsize=W+N+W,E.coordorigin="0 0";var q=new C(E,v),j={fill:"#000",stroke:"none",font:c._availableAttrs.font,text:A};q.shape=E,q.path=I,q.textpath=D,q.type="text",q.attrs.text=_(A),q.attrs.x=k,q.attrs.y=M,q.attrs.w=1,q.attrs.h=1,R(q,j),E.appendChild(D),E.appendChild(I),v.canvas.appendChild(E);var H=K("skew");return H.on=!0,E.appendChild(H),q.skew=H,q.transform(P),q},c._engine.setSize=function(v,_){var k=this.canvas.style;return this.width=v,this.height=_,v==+v&&(v+="px"),_==+_&&(_+="px"),k.width=v,k.height=_,k.clip="rect(0 "+v+" "+_+" 0)",this._viewBox&&c._engine.setViewBox.apply(this,this._viewBox),this},c._engine.setViewBox=function(v,_,k,M,B){c.eve("raphael.setViewBox",this,this._viewBox,[v,_,k,M,B]);var A,E,I=this.getSize(),D=I.width,q=I.height;return B&&(D>k*(A=q/M)&&(v-=(D-k*A)/2/A),q>M*(E=D/k)&&(_-=(q-M*E)/2/E)),this._viewBox=[v,_,k,M,!!B],this._viewBoxShift={dx:-v,dy:-_,scale:I},this.forEach(function(c){c.transform("...")}),this},c._engine.initWin=function(c){var v=c.document;v.styleSheets.length<31?v.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):v.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!v.namespaces.rvml&&v.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),K=function(c){return v.createElement("<rvml:"+c+' class="rvml">')}}catch(c){K=function(c){return v.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},c._engine.initWin(c._g.win),c._engine.create=function(){var v=c._getContainer.apply(0,arguments),_=v.container,k=v.height,M=v.width,B=v.x,A=v.y;if(!_)throw new Error("VML container not found.");var E=new c._Paper,I=E.canvas=c._g.doc.createElement("div"),D=I.style;return B=B||0,A=A||0,M=M||512,k=k||342,E.width=M,E.height=k,M==+M&&(M+="px"),k==+k&&(k+="px"),E.coordsize=216e5+N+216e5,E.coordorigin="0 0",E.span=c._g.doc.createElement("span"),E.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",I.appendChild(E.span),D.cssText=c.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",M,k),1==_?(c._g.doc.body.appendChild(I),D.left=B+"px",D.top=A+"px",D.position="absolute"):_.firstChild?_.insertBefore(I,_.firstChild):_.appendChild(I),E.renderfix=function(){},E},c.prototype.clear=function(){c.eve("raphael.clear",this),this.canvas.innerHTML=P,this.span=c._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},c.prototype.remove=function(){for(var v in c.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[v]="function"==typeof this[v]?c._removedFactory(v):null;return!0};var U=c.st;for(var w in O)O[v](w)&&!U[v](w)&&(U[w]=function(c){return function(){var v=arguments;return this.forEach(function(_){_[c].apply(_,v)})}}(w))}}(c)}.apply(v,[B]),D=this,void 0===(I=function(c){return D.Raphael=function(c){return c.ninja()}(c)}.apply(v,[B,A,E]))||(c.exports=I)},function(c,v,_){_(12);var k=_(3);_(21);var M={parse:k};"undefined"!=typeof window&&(window.flowchart=M),c.exports=M},function(c,v){Array.prototype.indexOf||(Array.prototype.indexOf=function(c){"use strict";if(null===this)throw new TypeError;var v=Object(this),_=v.length>>>0;if(0===_)return-1;var k=0;if(arguments.length>0&&((k=Number(arguments[1]))!=k?k=0:0!==k&&k!=1/0&&k!=-1/0&&(k=(k>0||-1)*Math.floor(Math.abs(k)))),k>=_)return-1;for(var M=k>=0?k:Math.max(_-Math.abs(k),0);M<_;M++)if(M in v&&v[M]===c)return M;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(c){"use strict";if(null===this)throw new TypeError;var v=Object(this),_=v.length>>>0;if(0===_)return-1;var k=_;arguments.length>1&&((k=Number(arguments[1]))!=k?k=0:0!==k&&k!=1/0&&k!=-1/0&&(k=(k>0||-1)*Math.floor(Math.abs(k))));for(var M=k>=0?Math.min(k,_-1):_-Math.abs(k);M>=0;M--)if(M in v&&v[M]===c)return M;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},function(c,v,_){var k=_(14),M=_(0).defaults,B=_(15),A=_(4),E=_(5);function I(c,v){v=v||{},this.paper=new k(c),this.options=M(v,B),this.symbols=[],this.lines=[],this.start=null}I.prototype.handle=function(c){this.symbols.indexOf(c)<=-1&&this.symbols.push(c);var v=this;return c instanceof A?(c.yes=function(_){return c.yes_symbol=_,c.no_symbol&&(c.pathOk=!0),v.handle(_)},c.no=function(_){return c.no_symbol=_,c.yes_symbol&&(c.pathOk=!0),v.handle(_)}):c instanceof E?(c.path1=function(_){return c.path1_symbol=_,c.path2_symbol&&(c.pathOk=!0),v.handle(_)},c.path2=function(_){return c.path2_symbol=_,c.path3_symbol&&(c.pathOk=!0),v.handle(_)},c.path3=function(_){return c.path3_symbol=_,c.path1_symbol&&(c.pathOk=!0),v.handle(_)}):c.then=function(_){return c.next=_,c.pathOk=!0,v.handle(_)},c},I.prototype.startWith=function(c){return this.start=c,this.handle(c)},I.prototype.render=function(){var c,v,_,k,M=0,B=0,A=0,E=0,I=0,D=0,q=0,j=0;for(A=0,E=this.symbols.length;A<E;A++)(c=this.symbols[A]).width>M&&(M=c.width),c.height>B&&(B=c.height);for(A=0,E=this.symbols.length;A<E;A++)(c=this.symbols[A]).shiftX(this.options.x+(M-c.width)/2+this.options["line-width"]),c.shiftY(this.options.y+(B-c.height)/2+this.options["line-width"]);for(this.start.render(),A=0,E=this.symbols.length;A<E;A++)(c=this.symbols[A]).renderLines();for(I=this.maxXFromLine,A=0,E=this.symbols.length;A<E;A++)(_=(c=this.symbols[A]).getX()+c.width)>I&&(I=_),(k=c.getY()+c.height)>D&&(D=k);for(A=0,E=this.lines.length;A<E;A++){_=(v=this.lines[A].getBBox()).x,k=v.y;var N=v.x2,P=v.y2;_<q&&(q=_),k<j&&(j=k),N>I&&(I=N),P>D&&(D=P)}var H=this.options.scale,$=this.options["line-width"];this.minXFromSymbols<q&&(q=this.minXFromSymbols),q<0&&(q-=$),j<0&&(j-=$);var z=I+$-q,F=D+$-j;this.paper.setSize(z*H,F*H),this.paper.setViewBox(q,j,z,F,!0)},I.prototype.clean=function(){if(this.paper){var c=this.paper.canvas;c.parentNode.removeChild(c)}},c.exports=I},function(c,v,_){var k;k=function(){return function(c){function v(k){if(_[k])return _[k].exports;var M=_[k]={exports:{},id:k,loaded:!1};return c[k].call(M.exports,M,M.exports,v),M.loaded=!0,M.exports}var _={};return v.m=c,v.c=_,v.p="",v(0)}([function(c,v,_){var k,M;k=[_(1),_(3),_(4)],void 0===(M=function(c){return c}.apply(v,k))||(c.exports=M)},function(c,v,_){var k,M;k=[_(2)],void 0===(M=function(c){function v(_){if(v.is(_,"function"))return F?_():c.on("raphael.DOMload",_);if(v.is(_,s))return v._engine.create[u](v,_.splice(0,3+v.is(_[0],h))).add(_);var k=Array.prototype.slice.call(arguments,0);if(v.is(k[k.length-1],"function")){var M=k.pop();return F?M.call(v._engine.create[u](v,k)):c.on("raphael.DOMload",function(){M.call(v._engine.create[u](v,k))})}return v._engine.create[u](v,arguments)}function _(c){if("function"==typeof c||Object(c)!==c)return c;var v=new c.constructor;for(var k in c)c[J](k)&&(v[k]=_(c[k]));return v}function k(c,v,_){return function k(){var M=Array.prototype.slice.call(arguments,0),B=M.join("␀"),A=k.cache=k.cache||{},E=k.count=k.count||[];return A[J](B)?(function(c,v){for(var _=0,k=c.length;_<k;_++)if(c[_]===v)return c.push(c.splice(_,1)[0])}(E,B),_?_(A[B]):A[B]):(E.length>=1e3&&delete A[E.shift()],E.push(B),A[B]=c[u](v,M),_?_(A[B]):A[B])}}function M(){return this.hex}function B(c,v){for(var _=[],k=0,M=c.length;M-2*!v>k;k+=2){var B=[{x:+c[k-2],y:+c[k-1]},{x:+c[k],y:+c[k+1]},{x:+c[k+2],y:+c[k+3]},{x:+c[k+4],y:+c[k+5]}];v?k?M-4==k?B[3]={x:+c[0],y:+c[1]}:M-2==k&&(B[2]={x:+c[0],y:+c[1]},B[3]={x:+c[2],y:+c[3]}):B[0]={x:+c[M-2],y:+c[M-1]}:M-4==k?B[3]=B[2]:k||(B[0]={x:+c[k],y:+c[k+1]}),_.push(["C",(-B[0].x+6*B[1].x+B[2].x)/6,(-B[0].y+6*B[1].y+B[2].y)/6,(B[1].x+6*B[2].x-B[3].x)/6,(B[1].y+6*B[2].y-B[3].y)/6,B[2].x,B[2].y])}return _}function A(c,v,_,k,M){return c*(c*(-3*v+9*_-9*k+3*M)+6*v-12*_+6*k)-3*v+3*_}function E(c,v,_,k,M,B,E,I,D){null==D&&(D=1);for(var q=(D=D>1?1:D<0?0:D)/2,j=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],N=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],P=0,H=0;H<12;H++){var $=q*j[H]+q,z=A($,c,_,M,E),F=A($,v,k,B,I),V=z*z+F*F;P+=N[H]*a.sqrt(V)}return q*P}function I(c,v,_,k,M,B,A,E){if(!(f(c,_)<r(M,A)||r(c,_)>f(M,A)||f(v,k)<r(B,E)||r(v,k)>f(B,E))){var I=(c-_)*(B-E)-(v-k)*(M-A);if(I){var D=((c*k-v*_)*(M-A)-(c-_)*(M*E-B*A))/I,q=((c*k-v*_)*(B-E)-(v-k)*(M*E-B*A))/I,j=+D.toFixed(2),N=+q.toFixed(2);if(!(j<+r(c,_).toFixed(2)||j>+f(c,_).toFixed(2)||j<+r(M,A).toFixed(2)||j>+f(M,A).toFixed(2)||N<+r(v,k).toFixed(2)||N>+f(v,k).toFixed(2)||N<+r(B,E).toFixed(2)||N>+f(B,E).toFixed(2)))return{x:D,y:q}}}}function D(c,_,k){var M=v.bezierBBox(c),B=v.bezierBBox(_);if(!v.isBBoxIntersect(M,B))return k?0:[];for(var A=E.apply(0,c),D=E.apply(0,_),q=f(~~(A/5),1),j=f(~~(D/5),1),N=[],P=[],H={},$=k?0:[],z=0;z<q+1;z++){var F=v.findDotsAtSegment.apply(v,c.concat(z/q));N.push({x:F.x,y:F.y,t:z/q})}for(z=0;z<j+1;z++)F=v.findDotsAtSegment.apply(v,_.concat(z/j)),P.push({x:F.x,y:F.y,t:z/j});for(z=0;z<q;z++)for(var V=0;V<j;V++){var W=N[z],G=N[z+1],Y=P[V],J=P[V+1],Z=T(G.x-W.x)<.001?"y":"x",Q=T(J.x-Y.x)<.001?"y":"x",K=I(W.x,W.y,G.x,G.y,Y.x,Y.y,J.x,J.y);if(K){if(H[K.x.toFixed(4)]==K.y.toFixed(4))continue;H[K.x.toFixed(4)]=K.y.toFixed(4);var u=W.t+T((K[Z]-W[Z])/(G[Z]-W[Z]))*(G.t-W.t),R=Y.t+T((K[Q]-Y[Q])/(J[Q]-Y[Q]))*(J.t-Y.t);u>=0&&u<=1.001&&R>=0&&R<=1.001&&(k?$++:$.push({x:K.x,y:K.y,t1:r(u,1),t2:r(R,1)}))}}return $}function q(c,_,k){c=v._path2curve(c),_=v._path2curve(_);for(var M,B,A,E,I,q,j,N,P,H,$=k?0:[],z=0,F=c.length;z<F;z++){var V=c[z];if("M"==V[0])M=I=V[1],B=q=V[2];else{"C"==V[0]?(P=[M,B].concat(V.slice(1)),M=P[6],B=P[7]):(P=[M,B,M,B,I,q,I,q],M=I,B=q);for(var W=0,G=_.length;W<G;W++){var Y=_[W];if("M"==Y[0])A=j=Y[1],E=N=Y[2];else{"C"==Y[0]?(H=[A,E].concat(Y.slice(1)),A=H[6],E=H[7]):(H=[A,E,A,E,j,N,j,N],A=j,E=N);var J=D(P,H,k);if(k)$+=J;else{for(var Z=0,Q=J.length;Z<Q;Z++)J[Z].segment1=z,J[Z].segment2=W,J[Z].bez1=P,J[Z].bez2=H;$=$.concat(J)}}}}}return $}function j(c,v,_,k,M,B){null!=c?(this.a=+c,this.b=+v,this.c=+_,this.d=+k,this.e=+M,this.f=+B):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function N(){return this.x+O+this.y+O+this.width+" × "+this.height}function P(c,v,_,k,M,B){function A(c){return((D*c+I)*c+E)*c}var E=3*v,I=3*(k-v)-E,D=1-E-I,q=3*_,j=3*(M-_)-q,N=1-q-j;return function(c,v){var _=function(c,v){var _,k,M,B,q,j;for(M=c,j=0;j<8;j++){if(B=A(M)-c,T(B)<v)return M;if(T(q=(3*D*M+2*I)*M+E)<1e-6)break;M-=B/q}if(k=1,(M=c)<(_=0))return _;if(M>k)return k;for(;_<k;){if(B=A(M),T(B-c)<v)return M;c>B?_=M:k=M,M=(k-_)/2+_}return M}(c,v);return((N*_+j)*_+q)*_}(c,1/(200*B))}function H(c,v){var _=[],k={};if(this.ms=v,this.times=1,c){for(var M in c)c[J](M)&&(k[t(M)]=c[M],_.push(t(M)));_.sort(Ic)}this.anim=k,this.top=_[_.length-1],this.percents=_}function $(_,k,M,B,A,E){M=t(M);var I,D,q,N,H,$,z=_.ms,F={},V={},G={};if(B)for(Z=0,Q=_v.length;Z<Q;Z++){var Y=_v[Z];if(Y.el.id==k.id&&Y.anim==_){Y.percent!=M?(_v.splice(Z,1),q=1):D=Y,k.attr(Y.totalOrigin);break}}else B=+V;for(var Z=0,Q=_.percents.length;Z<Q;Z++){if(_.percents[Z]==M||_.percents[Z]>B*_.top){M=_.percents[Z],H=_.percents[Z-1]||0,z=z/_.top*(M-H),N=_.percents[Z+1],I=_.anim[M];break}B&&k.attr(_.anim[_.percents[Z]])}if(I){if(D)D.initstatus=B,D.start=new Date-D.ms*B;else{for(var K in I)if(I[J](K)&&(cc[J](K)||k.paper.customAttributes[J](K)))switch(F[K]=k.attr(K),null==F[K]&&(F[K]=o[K]),V[K]=I[K],cc[K]){case h:G[K]=(V[K]-F[K])/z;break;case"colour":F[K]=v.getRGB(F[K]);var u=v.getRGB(V[K]);G[K]={r:(u.r-F[K].r)/z,g:(u.g-F[K].g)/z,b:(u.b-F[K].b)/z};break;case"path":var S=wc(F[K],V[K]),C=S[1];for(F[K]=S[0],G[K]=[],Z=0,Q=F[K].length;Z<Q;Z++){G[K][Z]=[0];for(var O=1,d=F[K][Z].length;O<d;O++)G[K][Z][O]=(C[Z][O]-F[K][Z][O])/z}break;case"transform":var X=k._,x=fc(X[K],V[K]);if(x)for(F[K]=x.from,V[K]=x.to,G[K]=[],G[K].real=!0,Z=0,Q=F[K].length;Z<Q;Z++)for(G[K][Z]=[F[K][Z][0]],O=1,d=F[K][Z].length;O<d;O++)G[K][Z][O]=(V[K][Z][O]-F[K][Z][O])/z;else{var a=k.matrix||new j,f={_:{transform:X.transform},getBBox:function(){return k.getBBox(1)}};F[K]=[a.a,a.b,a.c,a.d,a.e,a.f],xc(f,V[K]),V[K]=f._.transform,G[K]=[(f.matrix.a-a.a)/z,(f.matrix.b-a.b)/z,(f.matrix.c-a.c)/z,(f.matrix.d-a.d)/z,(f.matrix.e-a.e)/z,(f.matrix.f-a.f)/z]}break;case"csv":var r=U(I[K])[w](W),T=U(F[K])[w](W);if("clip-rect"==K)for(F[K]=T,G[K]=[],Z=T.length;Z--;)G[K][Z]=(r[Z]-F[K][Z])/z;V[K]=r;break;default:for(r=[][R](I[K]),T=[][R](F[K]),G[K]=[],Z=k.paper.customAttributes[K].length;Z--;)G[K][Z]=((r[Z]||0)-(T[Z]||0))/z}var p=I.easing,L=v.easing_formulas[p];if(!L)if((L=U(p).match(i))&&5==L.length){var y=L;L=function(c){return P(c,+y[1],+y[2],+y[3],+y[4],z)}}else L=Dc;if(Y={anim:_,percent:M,timestamp:$=I.start||_.start||+new Date,start:$+(_.del||0),status:0,initstatus:B||0,stop:!1,ms:z,easing:L,from:F,diff:G,to:V,el:k,callback:I.callback,prev:H,next:N,repeat:E||_.times,origin:k.attr(),totalOrigin:A},_v.push(Y),B&&!D&&!q&&(Y.stop=!0,Y.start=new Date-z*B,1==_v.length))return Mv();q&&(Y.start=new Date-Y.ms*B),1==_v.length&&kv(Mv)}c("raphael.anim.start."+k.id,k,_)}}function z(c){for(var v=0;v<_v.length;v++)_v[v].el.paper==c&&_v.splice(v--,1)}v.version="2.2.0",v.eve=c;var F,V,W=/[, ]+/,G={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},Y=/\{(\d+)\}/g,J="hasOwnProperty",Z={doc:document,win:window},Q={was:Object.prototype[J].call(Z.win,"Raphael"),is:Z.win.Raphael},K=function(){this.ca=this.customAttributes={}},u="apply",R="concat",S="ontouchstart"in Z.win||Z.win.DocumentTouch&&Z.doc instanceof DocumentTouch,C="",O=" ",U=String,w="split",d="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[w](O),X={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x=U.prototype.toLowerCase,a=Math,f=a.max,r=a.min,T=a.abs,p=a.pow,L=a.PI,h="number",y="string",s="array",g=Object.prototype.toString,b=(v._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),m={NaN:1,Infinity:1,"-Infinity":1},i=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,n=a.round,t=parseFloat,l=parseInt,e=U.prototype.toUpperCase,o=v._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},cc=v._availableAnimAttrs={blur:h,"clip-rect":"csv",cx:h,cy:h,fill:"colour","fill-opacity":h,"font-size":h,height:h,opacity:h,path:"path",r:h,rx:h,ry:h,stroke:"colour","stroke-opacity":h,"stroke-width":h,transform:"transform",width:h,x:h,y:h},vc=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,_c={hs:1,rg:1},kc=/,?([achlmqrstvxz]),?/gi,Mc=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Bc=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Ac=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Ec=(v._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Ic=function(c,v){return t(c)-t(v)},Dc=function(c){return c},qc=v._rectPath=function(c,v,_,k,M){return M?[["M",c+M,v],["l",_-2*M,0],["a",M,M,0,0,1,M,M],["l",0,k-2*M],["a",M,M,0,0,1,-M,M],["l",2*M-_,0],["a",M,M,0,0,1,-M,-M],["l",0,2*M-k],["a",M,M,0,0,1,M,-M],["z"]]:[["M",c,v],["l",_,0],["l",0,k],["l",-_,0],["z"]]},jc=function(c,v,_,k){return null==k&&(k=_),[["M",c,v],["m",0,-k],["a",_,k,0,1,1,0,2*k],["a",_,k,0,1,1,0,-2*k],["z"]]},Nc=v._getPath={path:function(c){return c.attr("path")},circle:function(c){var v=c.attrs;return jc(v.cx,v.cy,v.r)},ellipse:function(c){var v=c.attrs;return jc(v.cx,v.cy,v.rx,v.ry)},rect:function(c){var v=c.attrs;return qc(v.x,v.y,v.width,v.height,v.r)},image:function(c){var v=c.attrs;return qc(v.x,v.y,v.width,v.height)},text:function(c){var v=c._getBBox();return qc(v.x,v.y,v.width,v.height)},set:function(c){var v=c._getBBox();return qc(v.x,v.y,v.width,v.height)}},Pc=v.mapPath=function(c,v){if(!v)return c;var _,k,M,B,A,E,I;for(M=0,A=(c=wc(c)).length;M<A;M++)for(B=1,E=(I=c[M]).length;B<E;B+=2)_=v.x(I[B],I[B+1]),k=v.y(I[B],I[B+1]),I[B]=_,I[B+1]=k;return c};if(v._g=Z,v.type=Z.win.SVGAngle||Z.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==v.type){var Hc,$c=Z.doc.createElement("div");if($c.innerHTML='<v:shape adj="1"/>',(Hc=$c.firstChild).style.behavior="url(#default#VML)",!Hc||"object"!=typeof Hc.adj)return v.type=C;$c=null}v.svg=!(v.vml="VML"==v.type),v._Paper=K,v.fn=V=K.prototype=v.prototype,v._id=0,v.is=function(c,v){return"finite"==(v=x.call(v))?!m[J](+c):"array"==v?c instanceof Array:"null"==v&&null===c||v==typeof c&&null!==c||"object"==v&&c===Object(c)||"array"==v&&Array.isArray&&Array.isArray(c)||g.call(c).slice(8,-1).toLowerCase()==v},v.angle=function(c,_,k,M,B,A){if(null==B){var E=c-k,I=_-M;return E||I?(180+180*a.atan2(-I,-E)/L+360)%360:0}return v.angle(c,_,B,A)-v.angle(k,M,B,A)},v.rad=function(c){return c%360*L/180},v.deg=function(c){return Math.round(180*c/L%360*1e3)/1e3},v.snapTo=function(c,_,k){if(k=v.is(k,"finite")?k:10,v.is(c,s)){for(var M=c.length;M--;)if(T(c[M]-_)<=k)return c[M]}else{var B=_%(c=+c);if(B<k)return _-B;if(B>c-k)return _-B+c}return _};v.createUUID=function(c,v){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(c,v).toUpperCase()}}(/[xy]/g,function(c){var v=16*a.random()|0;return("x"==c?v:3&v|8).toString(16)});v.setWindow=function(_){c("raphael.setWindow",v,Z.win,_),Z.win=_,Z.doc=Z.win.document,v._engine.initWin&&v._engine.initWin(Z.win)};var zc=function(c){if(v.vml){var _,M=/^\s+|\s+$/g;try{var B=new ActiveXObject("htmlfile");B.write("<body>"),B.close(),_=B.body}catch(c){_=createPopup().document.body}var A=_.createTextRange();zc=k(function(c){try{_.style.color=U(c).replace(M,C);var v=A.queryCommandValue("ForeColor");return"#"+("000000"+(v=(255&v)<<16|65280&v|(16711680&v)>>>16).toString(16)).slice(-6)}catch(c){return"none"}})}else{var E=Z.doc.createElement("i");E.title="Raphaël Colour Picker",E.style.display="none",Z.doc.body.appendChild(E),zc=k(function(c){return E.style.color=c,Z.doc.defaultView.getComputedStyle(E,C).getPropertyValue("color")})}return zc(c)},Fc=function(){return"hsb("+[this.h,this.s,this.b]+")"},Vc=function(){return"hsl("+[this.h,this.s,this.l]+")"},Wc=function(){return this.hex},Gc=function(c,_,k){if(null==_&&v.is(c,"object")&&"r"in c&&"g"in c&&"b"in c&&(k=c.b,_=c.g,c=c.r),null==_&&v.is(c,y)){var M=v.getRGB(c);c=M.r,_=M.g,k=M.b}return(c>1||_>1||k>1)&&(c/=255,_/=255,k/=255),[c,_,k]},Yc=function(c,_,k,M){var B={r:c*=255,g:_*=255,b:k*=255,hex:v.rgb(c,_,k),toString:Wc};return v.is(M,"finite")&&(B.opacity=M),B};v.color=function(c){var _;return v.is(c,"object")&&"h"in c&&"s"in c&&"b"in c?(_=v.hsb2rgb(c),c.r=_.r,c.g=_.g,c.b=_.b,c.hex=_.hex):v.is(c,"object")&&"h"in c&&"s"in c&&"l"in c?(_=v.hsl2rgb(c),c.r=_.r,c.g=_.g,c.b=_.b,c.hex=_.hex):(v.is(c,"string")&&(c=v.getRGB(c)),v.is(c,"object")&&"r"in c&&"g"in c&&"b"in c?(_=v.rgb2hsl(c),c.h=_.h,c.s=_.s,c.l=_.l,_=v.rgb2hsb(c),c.v=_.b):(c={hex:"none"}).r=c.g=c.b=c.h=c.s=c.v=c.l=-1),c.toString=Wc,c},v.hsb2rgb=function(c,v,_,k){var M,B,A,E,I;return this.is(c,"object")&&"h"in c&&"s"in c&&"b"in c&&(_=c.b,v=c.s,k=c.o,c=c.h),E=(I=_*v)*(1-T((c=(c*=360)%360/60)%2-1)),M=B=A=_-I,Yc(M+=[I,E,0,0,E,I][c=~~c],B+=[E,I,I,E,0,0][c],A+=[0,0,E,I,I,E][c],k)},v.hsl2rgb=function(c,v,_,k){var M,B,A,E,I;return this.is(c,"object")&&"h"in c&&"s"in c&&"l"in c&&(_=c.l,v=c.s,c=c.h),(c>1||v>1||_>1)&&(c/=360,v/=100,_/=100),E=(I=2*v*(_<.5?_:1-_))*(1-T((c=(c*=360)%360/60)%2-1)),M=B=A=_-I/2,Yc(M+=[I,E,0,0,E,I][c=~~c],B+=[E,I,I,E,0,0][c],A+=[0,0,E,I,I,E][c],k)},v.rgb2hsb=function(c,v,_){var k,M;return c=(_=Gc(c,v,_))[0],v=_[1],_=_[2],{h:((0==(M=(k=f(c,v,_))-r(c,v,_))?null:k==c?(v-_)/M:k==v?(_-c)/M+2:(c-v)/M+4)+360)%6*60/360,s:0==M?0:M/k,b:k,toString:Fc}},v.rgb2hsl=function(c,v,_){var k,M,B,A;return c=(_=Gc(c,v,_))[0],v=_[1],_=_[2],k=((M=f(c,v,_))+(B=r(c,v,_)))/2,{h:((0==(A=M-B)?null:M==c?(v-_)/A:M==v?(_-c)/A+2:(c-v)/A+4)+360)%6*60/360,s:0==A?0:k<.5?A/(2*k):A/(2-2*k),l:k,toString:Vc}},v._path2string=function(){return this.join(",").replace(kc,"$1")};v._preload=function(c,v){var _=Z.doc.createElement("img");_.style.cssText="position:absolute;left:-9999em;top:-9999em",_.onload=function(){v.call(this),this.onload=null,Z.doc.body.removeChild(this)},_.onerror=function(){Z.doc.body.removeChild(this)},Z.doc.body.appendChild(_),_.src=c};v.getRGB=k(function(c){if(!c||(c=U(c)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:M};if("none"==c)return{r:-1,g:-1,b:-1,hex:"none",toString:M};!_c[J](c.toLowerCase().substring(0,2))&&"#"!=c.charAt()&&(c=zc(c));var _,k,B,A,E,I,D=c.match(b);return D?(D[2]&&(B=l(D[2].substring(5),16),k=l(D[2].substring(3,5),16),_=l(D[2].substring(1,3),16)),D[3]&&(B=l((E=D[3].charAt(3))+E,16),k=l((E=D[3].charAt(2))+E,16),_=l((E=D[3].charAt(1))+E,16)),D[4]&&(I=D[4][w](vc),_=t(I[0]),"%"==I[0].slice(-1)&&(_*=2.55),k=t(I[1]),"%"==I[1].slice(-1)&&(k*=2.55),B=t(I[2]),"%"==I[2].slice(-1)&&(B*=2.55),"rgba"==D[1].toLowerCase().slice(0,4)&&(A=t(I[3])),I[3]&&"%"==I[3].slice(-1)&&(A/=100)),D[5]?(I=D[5][w](vc),_=t(I[0]),"%"==I[0].slice(-1)&&(_*=2.55),k=t(I[1]),"%"==I[1].slice(-1)&&(k*=2.55),B=t(I[2]),"%"==I[2].slice(-1)&&(B*=2.55),("deg"==I[0].slice(-3)||"°"==I[0].slice(-1))&&(_/=360),"hsba"==D[1].toLowerCase().slice(0,4)&&(A=t(I[3])),I[3]&&"%"==I[3].slice(-1)&&(A/=100),v.hsb2rgb(_,k,B,A)):D[6]?(I=D[6][w](vc),_=t(I[0]),"%"==I[0].slice(-1)&&(_*=2.55),k=t(I[1]),"%"==I[1].slice(-1)&&(k*=2.55),B=t(I[2]),"%"==I[2].slice(-1)&&(B*=2.55),("deg"==I[0].slice(-3)||"°"==I[0].slice(-1))&&(_/=360),"hsla"==D[1].toLowerCase().slice(0,4)&&(A=t(I[3])),I[3]&&"%"==I[3].slice(-1)&&(A/=100),v.hsl2rgb(_,k,B,A)):((D={r:_,g:k,b:B,toString:M}).hex="#"+(16777216|B|k<<8|_<<16).toString(16).slice(1),v.is(A,"finite")&&(D.opacity=A),D)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:M}},v),v.hsb=k(function(c,_,k){return v.hsb2rgb(c,_,k).hex}),v.hsl=k(function(c,_,k){return v.hsl2rgb(c,_,k).hex}),v.rgb=k(function(c,v,_){function k(c){return c+.5|0}return"#"+(16777216|k(_)|k(v)<<8|k(c)<<16).toString(16).slice(1)}),v.getColor=function(c){var v=this.getColor.start=this.getColor.start||{h:0,s:1,b:c||.75},_=this.hsb2rgb(v.h,v.s,v.b);return v.h+=.075,v.h>1&&(v.h=0,v.s-=.2,v.s<=0&&(this.getColor.start={h:0,s:1,b:v.b})),_.hex},v.getColor.reset=function(){delete this.start},v.parsePathString=function(c){if(!c)return null;var _=Jc(c);if(_.arr)return Qc(_.arr);var k={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},M=[];return v.is(c,s)&&v.is(c[0],s)&&(M=Qc(c)),M.length||U(c).replace(Mc,function(c,v,_){var B=[],A=v.toLowerCase();if(_.replace(Ac,function(c,v){v&&B.push(+v)}),"m"==A&&B.length>2&&(M.push([v][R](B.splice(0,2))),A="l",v="m"==v?"l":"L"),"r"==A)M.push([v][R](B));else for(;B.length>=k[A]&&(M.push([v][R](B.splice(0,k[A]))),k[A]););}),M.toString=v._path2string,_.arr=Qc(M),M},v.parseTransformString=k(function(c){if(!c)return null;var _=[];return v.is(c,s)&&v.is(c[0],s)&&(_=Qc(c)),_.length||U(c).replace(Bc,function(c,v,k){var M=[];x.call(v);k.replace(Ac,function(c,v){v&&M.push(+v)}),_.push([v][R](M))}),_.toString=v._path2string,_});var Jc=function(c){var v=Jc.ps=Jc.ps||{};return v[c]?v[c].sleep=100:v[c]={sleep:100},setTimeout(function(){for(var _ in v)v[J](_)&&_!=c&&(v[_].sleep--,!v[_].sleep&&delete v[_])}),v[c]};v.findDotsAtSegment=function(c,v,_,k,M,B,A,E,I){var D=1-I,q=p(D,3),j=p(D,2),N=I*I,P=N*I,H=q*c+3*j*I*_+3*D*I*I*M+P*A,$=q*v+3*j*I*k+3*D*I*I*B+P*E,z=c+2*I*(_-c)+N*(M-2*_+c),F=v+2*I*(k-v)+N*(B-2*k+v),V=_+2*I*(M-_)+N*(A-2*M+_),W=k+2*I*(B-k)+N*(E-2*B+k),G=D*c+I*_,Y=D*v+I*k,J=D*M+I*A,Z=D*B+I*E,Q=90-180*a.atan2(z-V,F-W)/L;return(z>V||F<W)&&(Q+=180),{x:H,y:$,m:{x:z,y:F},n:{x:V,y:W},start:{x:G,y:Y},end:{x:J,y:Z},alpha:Q}},v.bezierBBox=function(c,_,k,M,B,A,E,I){v.is(c,"array")||(c=[c,_,k,M,B,A,E,I]);var D=Uc.apply(null,c);return{x:D.min.x,y:D.min.y,x2:D.max.x,y2:D.max.y,width:D.max.x-D.min.x,height:D.max.y-D.min.y}},v.isPointInsideBBox=function(c,v,_){return v>=c.x&&v<=c.x2&&_>=c.y&&_<=c.y2},v.isBBoxIntersect=function(c,_){var k=v.isPointInsideBBox;return k(_,c.x,c.y)||k(_,c.x2,c.y)||k(_,c.x,c.y2)||k(_,c.x2,c.y2)||k(c,_.x,_.y)||k(c,_.x2,_.y)||k(c,_.x,_.y2)||k(c,_.x2,_.y2)||(c.x<_.x2&&c.x>_.x||_.x<c.x2&&_.x>c.x)&&(c.y<_.y2&&c.y>_.y||_.y<c.y2&&_.y>c.y)},v.pathIntersection=function(c,v){return q(c,v)},v.pathIntersectionNumber=function(c,v){return q(c,v,1)},v.isPointInsidePath=function(c,_,k){var M=v.pathBBox(c);return v.isPointInsideBBox(M,_,k)&&q(c,[["M",_,k],["H",M.x2+10]],1)%2==1},v._removedFactory=function(v){return function(){c("raphael.log",null,"Raphaël: you are calling to method “"+v+"” of removed object",v)}};var Zc=v.pathBBox=function(c){var v=Jc(c);if(v.bbox)return _(v.bbox);if(!c)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var k,M=0,B=0,A=[],E=[],I=0,D=(c=wc(c)).length;I<D;I++)if("M"==(k=c[I])[0])M=k[1],B=k[2],A.push(M),E.push(B);else{var q=Uc(M,B,k[1],k[2],k[3],k[4],k[5],k[6]);A=A[R](q.min.x,q.max.x),E=E[R](q.min.y,q.max.y),M=k[5],B=k[6]}var j=r[u](0,A),N=r[u](0,E),P=f[u](0,A),H=f[u](0,E),$=P-j,z=H-N,F={x:j,y:N,x2:P,y2:H,width:$,height:z,cx:j+$/2,cy:N+z/2};return v.bbox=_(F),F},Qc=function(c){var k=_(c);return k.toString=v._path2string,k},Kc=v._pathToRelative=function(c){var _=Jc(c);if(_.rel)return Qc(_.rel);v.is(c,s)&&v.is(c&&c[0],s)||(c=v.parsePathString(c));var k=[],M=0,B=0,A=0,E=0,I=0;"M"==c[0][0]&&(A=M=c[0][1],E=B=c[0][2],I++,k.push(["M",M,B]));for(var D=I,q=c.length;D<q;D++){var j=k[D]=[],N=c[D];if(N[0]!=x.call(N[0]))switch(j[0]=x.call(N[0]),j[0]){case"a":j[1]=N[1],j[2]=N[2],j[3]=N[3],j[4]=N[4],j[5]=N[5],j[6]=+(N[6]-M).toFixed(3),j[7]=+(N[7]-B).toFixed(3);break;case"v":j[1]=+(N[1]-B).toFixed(3);break;case"m":A=N[1],E=N[2];default:for(var P=1,H=N.length;P<H;P++)j[P]=+(N[P]-(P%2?M:B)).toFixed(3)}else{j=k[D]=[],"m"==N[0]&&(A=N[1]+M,E=N[2]+B);for(var $=0,z=N.length;$<z;$++)k[D][$]=N[$]}var F=k[D].length;switch(k[D][0]){case"z":M=A,B=E;break;case"h":M+=+k[D][F-1];break;case"v":B+=+k[D][F-1];break;default:M+=+k[D][F-2],B+=+k[D][F-1]}}return k.toString=v._path2string,_.rel=Qc(k),k},uc=v._pathToAbsolute=function(c){var _=Jc(c);if(_.abs)return Qc(_.abs);if(v.is(c,s)&&v.is(c&&c[0],s)||(c=v.parsePathString(c)),!c||!c.length)return[["M",0,0]];var k=[],M=0,A=0,E=0,I=0,D=0;"M"==c[0][0]&&(E=M=+c[0][1],I=A=+c[0][2],D++,k[0]=["M",M,A]);for(var q,j,N=3==c.length&&"M"==c[0][0]&&"R"==c[1][0].toUpperCase()&&"Z"==c[2][0].toUpperCase(),P=D,H=c.length;P<H;P++){if(k.push(q=[]),(j=c[P])[0]!=e.call(j[0]))switch(q[0]=e.call(j[0]),q[0]){case"A":q[1]=j[1],q[2]=j[2],q[3]=j[3],q[4]=j[4],q[5]=j[5],q[6]=+(j[6]+M),q[7]=+(j[7]+A);break;case"V":q[1]=+j[1]+A;break;case"H":q[1]=+j[1]+M;break;case"R":for(var $=[M,A][R](j.slice(1)),z=2,F=$.length;z<F;z++)$[z]=+$[z]+M,$[++z]=+$[z]+A;k.pop(),k=k[R](B($,N));break;case"M":E=+j[1]+M,I=+j[2]+A;default:for(z=1,F=j.length;z<F;z++)q[z]=+j[z]+(z%2?M:A)}else if("R"==j[0])$=[M,A][R](j.slice(1)),k.pop(),k=k[R](B($,N)),q=["R"][R](j.slice(-2));else for(var V=0,W=j.length;V<W;V++)q[V]=j[V];switch(q[0]){case"Z":M=E,A=I;break;case"H":M=q[1];break;case"V":A=q[1];break;case"M":E=q[q.length-2],I=q[q.length-1];default:M=q[q.length-2],A=q[q.length-1]}}return k.toString=v._path2string,_.abs=Qc(k),k},Rc=function(c,v,_,k){return[c,v,_,k,_,k]},Sc=function(c,v,_,k,M,B){var A=1/3,E=2/3;return[A*c+E*_,A*v+E*k,A*M+E*_,A*B+E*k,M,B]},Cc=function(c,v,_,M,B,A,E,I,D,q){var j,N=120*L/180,P=L/180*(+B||0),H=[],$=k(function(c,v,_){return{x:c*a.cos(_)-v*a.sin(_),y:c*a.sin(_)+v*a.cos(_)}});if(q)Q=q[0],K=q[1],J=q[2],Z=q[3];else{c=(j=$(c,v,-P)).x,v=j.y,I=(j=$(I,D,-P)).x,D=j.y;a.cos(L/180*B),a.sin(L/180*B);var z=(c-I)/2,F=(v-D)/2,V=z*z/(_*_)+F*F/(M*M);V>1&&(_*=V=a.sqrt(V),M*=V);var W=_*_,G=M*M,Y=(A==E?-1:1)*a.sqrt(T((W*G-W*F*F-G*z*z)/(W*F*F+G*z*z))),J=Y*_*F/M+(c+I)/2,Z=Y*-M*z/_+(v+D)/2,Q=a.asin(((v-Z)/M).toFixed(9)),K=a.asin(((D-Z)/M).toFixed(9));(Q=c<J?L-Q:Q)<0&&(Q=2*L+Q),(K=I<J?L-K:K)<0&&(K=2*L+K),E&&Q>K&&(Q-=2*L),!E&&K>Q&&(K-=2*L)}var u=K-Q;if(T(u)>N){var S=K,C=I,O=D;K=Q+N*(E&&K>Q?1:-1),I=J+_*a.cos(K),D=Z+M*a.sin(K),H=Cc(I,D,_,M,B,0,E,C,O,[K,S,J,Z])}u=K-Q;var U=a.cos(Q),d=a.sin(Q),X=a.cos(K),x=a.sin(K),f=a.tan(u/4),r=4/3*_*f,p=4/3*M*f,h=[c,v],y=[c+r*d,v-p*U],s=[I+r*x,D-p*X],g=[I,D];if(y[0]=2*h[0]-y[0],y[1]=2*h[1]-y[1],q)return[y,s,g][R](H);for(var b=[],m=0,i=(H=[y,s,g][R](H).join()[w](",")).length;m<i;m++)b[m]=m%2?$(H[m-1],H[m],P).y:$(H[m],H[m+1],P).x;return b},Oc=function(c,v,_,k,M,B,A,E,I){var D=1-I;return{x:p(D,3)*c+3*p(D,2)*I*_+3*D*I*I*M+p(I,3)*A,y:p(D,3)*v+3*p(D,2)*I*k+3*D*I*I*B+p(I,3)*E}},Uc=k(function(c,v,_,k,M,B,A,E){var I,D=M-2*_+c-(A-2*M+_),q=2*(_-c)-2*(M-_),j=c-_,N=(-q+a.sqrt(q*q-4*D*j))/2/D,P=(-q-a.sqrt(q*q-4*D*j))/2/D,H=[v,E],$=[c,A];return T(N)>"1e12"&&(N=.5),T(P)>"1e12"&&(P=.5),N>0&&N<1&&(I=Oc(c,v,_,k,M,B,A,E,N),$.push(I.x),H.push(I.y)),P>0&&P<1&&(I=Oc(c,v,_,k,M,B,A,E,P),$.push(I.x),H.push(I.y)),D=B-2*k+v-(E-2*B+k),j=v-k,N=(-(q=2*(k-v)-2*(B-k))+a.sqrt(q*q-4*D*j))/2/D,P=(-q-a.sqrt(q*q-4*D*j))/2/D,T(N)>"1e12"&&(N=.5),T(P)>"1e12"&&(P=.5),N>0&&N<1&&(I=Oc(c,v,_,k,M,B,A,E,N),$.push(I.x),H.push(I.y)),P>0&&P<1&&(I=Oc(c,v,_,k,M,B,A,E,P),$.push(I.x),H.push(I.y)),{min:{x:r[u](0,$),y:r[u](0,H)},max:{x:f[u](0,$),y:f[u](0,H)}}}),wc=v._path2curve=k(function(c,v){var _=!v&&Jc(c);if(!v&&_.curve)return Qc(_.curve);for(var k=uc(c),M=v&&uc(v),B={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E=function(c,v,_){var k,M;if(!c)return["C",v.x,v.y,v.x,v.y,v.x,v.y];switch(!(c[0]in{T:1,Q:1})&&(v.qx=v.qy=null),c[0]){case"M":v.X=c[1],v.Y=c[2];break;case"A":c=["C"][R](Cc[u](0,[v.x,v.y][R](c.slice(1))));break;case"S":"C"==_||"S"==_?(k=2*v.x-v.bx,M=2*v.y-v.by):(k=v.x,M=v.y),c=["C",k,M][R](c.slice(1));break;case"T":"Q"==_||"T"==_?(v.qx=2*v.x-v.qx,v.qy=2*v.y-v.qy):(v.qx=v.x,v.qy=v.y),c=["C"][R](Sc(v.x,v.y,v.qx,v.qy,c[1],c[2]));break;case"Q":v.qx=c[1],v.qy=c[2],c=["C"][R](Sc(v.x,v.y,c[1],c[2],c[3],c[4]));break;case"L":c=["C"][R](Rc(v.x,v.y,c[1],c[2]));break;case"H":c=["C"][R](Rc(v.x,v.y,c[1],v.y));break;case"V":c=["C"][R](Rc(v.x,v.y,v.x,c[1]));break;case"Z":c=["C"][R](Rc(v.x,v.y,v.X,v.Y))}return c},I=function(c,v){if(c[v].length>7){c[v].shift();for(var _=c[v];_.length;)q[v]="A",M&&(j[v]="A"),c.splice(v++,0,["C"][R](_.splice(0,6)));c.splice(v,1),$=f(k.length,M&&M.length||0)}},D=function(c,v,_,B,A){c&&v&&"M"==c[A][0]&&"M"!=v[A][0]&&(v.splice(A,0,["M",B.x,B.y]),_.bx=0,_.by=0,_.x=c[A][1],_.y=c[A][2],$=f(k.length,M&&M.length||0))},q=[],j=[],N="",P="",H=0,$=f(k.length,M&&M.length||0);H<$;H++){k[H]&&(N=k[H][0]),"C"!=N&&(q[H]=N,H&&(P=q[H-1])),k[H]=E(k[H],B,P),"A"!=q[H]&&"C"==N&&(q[H]="C"),I(k,H),M&&(M[H]&&(N=M[H][0]),"C"!=N&&(j[H]=N,H&&(P=j[H-1])),M[H]=E(M[H],A,P),"A"!=j[H]&&"C"==N&&(j[H]="C"),I(M,H)),D(k,M,B,A,H),D(M,k,A,B,H);var z=k[H],F=M&&M[H],V=z.length,W=M&&F.length;B.x=z[V-2],B.y=z[V-1],B.bx=t(z[V-4])||B.x,B.by=t(z[V-3])||B.y,A.bx=M&&(t(F[W-4])||A.x),A.by=M&&(t(F[W-3])||A.y),A.x=M&&F[W-2],A.y=M&&F[W-1]}return M||(_.curve=Qc(k)),M?[k,M]:k},null,Qc),dc=(v._parseDots=k(function(c){for(var _=[],k=0,M=c.length;k<M;k++){var B={},A=c[k].match(/^([^:]*):?([\d\.]*)/);if(B.color=v.getRGB(A[1]),B.color.error)return null;B.opacity=B.color.opacity,B.color=B.color.hex,A[2]&&(B.offset=A[2]+"%"),_.push(B)}for(k=1,M=_.length-1;k<M;k++)if(!_[k].offset){for(var E=t(_[k-1].offset||0),I=0,D=k+1;D<M;D++)if(_[D].offset){I=_[D].offset;break}I||(I=100,D=M);for(var q=((I=t(I))-E)/(D-k+1);k<D;k++)E+=q,_[k].offset=E+"%"}return _}),v._tear=function(c,v){c==v.top&&(v.top=c.prev),c==v.bottom&&(v.bottom=c.next),c.next&&(c.next.prev=c.prev),c.prev&&(c.prev.next=c.next)}),Xc=(v._tofront=function(c,v){v.top!==c&&(dc(c,v),c.next=null,c.prev=v.top,v.top.next=c,v.top=c)},v._toback=function(c,v){v.bottom!==c&&(dc(c,v),c.next=v.bottom,c.prev=null,v.bottom.prev=c,v.bottom=c)},v._insertafter=function(c,v,_){dc(c,_),v==_.top&&(_.top=c),v.next&&(v.next.prev=c),c.next=v.next,c.prev=v,v.next=c},v._insertbefore=function(c,v,_){dc(c,_),v==_.bottom&&(_.bottom=c),v.prev&&(v.prev.next=c),c.prev=v.prev,v.prev=c,c.next=v},v.toMatrix=function(c,v){var _=Zc(c),k={_:{transform:C},getBBox:function(){return _}};return xc(k,v),k.matrix}),xc=(v.transformPath=function(c,v){return Pc(c,Xc(c,v))},v._extractTransform=function(c,_){if(null==_)return c._.transform;_=U(_).replace(/\.{3}|\u2026/g,c._.transform||C);var k,M,B=v.parseTransformString(_),A=0,E=1,I=1,D=c._,q=new j;if(D.transform=B||[],B)for(var N=0,P=B.length;N<P;N++){var H,$,z,F,V,W=B[N],G=W.length,Y=U(W[0]).toLowerCase(),J=W[0]!=Y,Z=J?q.invert():0;"t"==Y&&3==G?J?(H=Z.x(0,0),$=Z.y(0,0),z=Z.x(W[1],W[2]),F=Z.y(W[1],W[2]),q.translate(z-H,F-$)):q.translate(W[1],W[2]):"r"==Y?2==G?(V=V||c.getBBox(1),q.rotate(W[1],V.x+V.width/2,V.y+V.height/2),A+=W[1]):4==G&&(J?(z=Z.x(W[2],W[3]),F=Z.y(W[2],W[3]),q.rotate(W[1],z,F)):q.rotate(W[1],W[2],W[3]),A+=W[1]):"s"==Y?2==G||3==G?(V=V||c.getBBox(1),q.scale(W[1],W[G-1],V.x+V.width/2,V.y+V.height/2),E*=W[1],I*=W[G-1]):5==G&&(J?(z=Z.x(W[3],W[4]),F=Z.y(W[3],W[4]),q.scale(W[1],W[2],z,F)):q.scale(W[1],W[2],W[3],W[4]),E*=W[1],I*=W[2]):"m"==Y&&7==G&&q.add(W[1],W[2],W[3],W[4],W[5],W[6]),D.dirtyT=1,c.matrix=q}c.matrix=q,D.sx=E,D.sy=I,D.deg=A,D.dx=k=q.e,D.dy=M=q.f,1==E&&1==I&&!A&&D.bbox?(D.bbox.x+=+k,D.bbox.y+=+M):D.dirtyT=1}),ac=function(c){var v=c[0];switch(v.toLowerCase()){case"t":return[v,0,0];case"m":return[v,1,0,0,1,0,0];case"r":return 4==c.length?[v,0,c[2],c[3]]:[v,0];case"s":return 5==c.length?[v,1,1,c[3],c[4]]:3==c.length?[v,1,1]:[v,1]}},fc=v._equaliseTransform=function(c,_){_=U(_).replace(/\.{3}|\u2026/g,c),c=v.parseTransformString(c)||[],_=v.parseTransformString(_)||[];for(var k,M,B,A,E=f(c.length,_.length),I=[],D=[],q=0;q<E;q++){if(B=c[q]||ac(_[q]),A=_[q]||ac(B),B[0]!=A[0]||"r"==B[0].toLowerCase()&&(B[2]!=A[2]||B[3]!=A[3])||"s"==B[0].toLowerCase()&&(B[3]!=A[3]||B[4]!=A[4]))return;for(I[q]=[],D[q]=[],k=0,M=f(B.length,A.length);k<M;k++)k in B&&(I[q][k]=B[k]),k in A&&(D[q][k]=A[k])}return{from:I,to:D}};v._getContainer=function(c,_,k,M){var B;if(null!=(B=null!=M||v.is(c,"object")?c:Z.doc.getElementById(c)))return B.tagName?null==_?{container:B,width:B.style.pixelWidth||B.offsetWidth,height:B.style.pixelHeight||B.offsetHeight}:{container:B,width:_,height:k}:{container:1,x:c,y:_,width:k,height:M}},v.pathToRelative=Kc,v._engine={},v.path2curve=wc,v.matrix=function(c,v,_,k,M,B){return new j(c,v,_,k,M,B)},function(c){function _(c){return c[0]*c[0]+c[1]*c[1]}function k(c){var v=a.sqrt(_(c));c[0]&&(c[0]/=v),c[1]&&(c[1]/=v)}c.add=function(c,v,_,k,M,B){var A,E,I,D,q=[[],[],[]],N=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],P=[[c,_,M],[v,k,B],[0,0,1]];for(c&&c instanceof j&&(P=[[c.a,c.c,c.e],[c.b,c.d,c.f],[0,0,1]]),A=0;A<3;A++)for(E=0;E<3;E++){for(D=0,I=0;I<3;I++)D+=N[A][I]*P[I][E];q[A][E]=D}this.a=q[0][0],this.b=q[1][0],this.c=q[0][1],this.d=q[1][1],this.e=q[0][2],this.f=q[1][2]},c.invert=function(){var c=this,v=c.a*c.d-c.b*c.c;return new j(c.d/v,-c.b/v,-c.c/v,c.a/v,(c.c*c.f-c.d*c.e)/v,(c.b*c.e-c.a*c.f)/v)},c.clone=function(){return new j(this.a,this.b,this.c,this.d,this.e,this.f)},c.translate=function(c,v){this.add(1,0,0,1,c,v)},c.scale=function(c,v,_,k){null==v&&(v=c),(_||k)&&this.add(1,0,0,1,_,k),this.add(c,0,0,v,0,0),(_||k)&&this.add(1,0,0,1,-_,-k)},c.rotate=function(c,_,k){c=v.rad(c),_=_||0,k=k||0;var M=+a.cos(c).toFixed(9),B=+a.sin(c).toFixed(9);this.add(M,B,-B,M,_,k),this.add(1,0,0,1,-_,-k)},c.x=function(c,v){return c*this.a+v*this.c+this.e},c.y=function(c,v){return c*this.b+v*this.d+this.f},c.get=function(c){return+this[U.fromCharCode(97+c)].toFixed(4)},c.toString=function(){return v.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},c.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},c.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},c.split=function(){var c={};c.dx=this.e,c.dy=this.f;var M=[[this.a,this.c],[this.b,this.d]];c.scalex=a.sqrt(_(M[0])),k(M[0]),c.shear=M[0][0]*M[1][0]+M[0][1]*M[1][1],M[1]=[M[1][0]-M[0][0]*c.shear,M[1][1]-M[0][1]*c.shear],c.scaley=a.sqrt(_(M[1])),k(M[1]),c.shear/=c.scaley;var B=-M[0][1],A=M[1][1];return A<0?(c.rotate=v.deg(a.acos(A)),B<0&&(c.rotate=360-c.rotate)):c.rotate=v.deg(a.asin(B)),c.isSimple=!(+c.shear.toFixed(9)||c.scalex.toFixed(9)!=c.scaley.toFixed(9)&&c.rotate),c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate,c.noRotation=!+c.shear.toFixed(9)&&!c.rotate,c},c.toTransformString=function(c){var v=c||this[w]();return v.isSimple?(v.scalex=+v.scalex.toFixed(4),v.scaley=+v.scaley.toFixed(4),v.rotate=+v.rotate.toFixed(4),(v.dx||v.dy?"t"+[v.dx,v.dy]:C)+(1!=v.scalex||1!=v.scaley?"s"+[v.scalex,v.scaley,0,0]:C)+(v.rotate?"r"+[v.rotate,0,0]:C)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(j.prototype);for(var rc=function(){this.returnValue=!1},Tc=function(){return this.originalEvent.preventDefault()},pc=function(){this.cancelBubble=!0},Lc=function(){return this.originalEvent.stopPropagation()},hc=function(c){var v=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,_=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft;return{x:c.clientX+_,y:c.clientY+v}},yc=Z.doc.addEventListener?function(c,v,_,k){var M=function(c){var v=hc(c);return _.call(k,c,v.x,v.y)};if(c.addEventListener(v,M,!1),S&&X[v]){var B=function(v){for(var M=hc(v),B=v,A=0,E=v.targetTouches&&v.targetTouches.length;A<E;A++)if(v.targetTouches[A].target==c){(v=v.targetTouches[A]).originalEvent=B,v.preventDefault=Tc,v.stopPropagation=Lc;break}return _.call(k,v,M.x,M.y)};c.addEventListener(X[v],B,!1)}return function(){return c.removeEventListener(v,M,!1),S&&X[v]&&c.removeEventListener(X[v],B,!1),!0}}:Z.doc.attachEvent?function(c,v,_,k){var M=function(c){c=c||Z.win.event;var v=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,M=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft,B=c.clientX+M,A=c.clientY+v;return c.preventDefault=c.preventDefault||rc,c.stopPropagation=c.stopPropagation||pc,_.call(k,c,B,A)};return c.attachEvent("on"+v,M),function(){return c.detachEvent("on"+v,M),!0}}:void 0,sc=[],gc=function(v){for(var _,k=v.clientX,M=v.clientY,B=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,A=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft,E=sc.length;E--;){if(_=sc[E],S&&v.touches){for(var I,D=v.touches.length;D--;)if((I=v.touches[D]).identifier==_.el._drag.id){k=I.clientX,M=I.clientY,(v.originalEvent?v.originalEvent:v).preventDefault();break}}else v.preventDefault();var q,j=_.el.node,N=j.nextSibling,P=j.parentNode,H=j.style.display;Z.win.opera&&P.removeChild(j),j.style.display="none",q=_.el.paper.getElementByPoint(k,M),j.style.display=H,Z.win.opera&&(N?P.insertBefore(j,N):P.appendChild(j)),q&&c("raphael.drag.over."+_.el.id,_.el,q),k+=A,M+=B,c("raphael.drag.move."+_.el.id,_.move_scope||_.el,k-_.el._drag.x,M-_.el._drag.y,k,M,v)}},bc=function(_){v.unmousemove(gc).unmouseup(bc);for(var k,M=sc.length;M--;)(k=sc[M]).el._drag={},c("raphael.drag.end."+k.el.id,k.end_scope||k.start_scope||k.move_scope||k.el,_);sc=[]},mc=v.el={},ic=d.length;ic--;)!function(c){v[c]=mc[c]=function(_,k){return v.is(_,"function")&&(this.events=this.events||[],this.events.push({name:c,f:_,unbind:yc(this.shape||this.node||Z.doc,c,_,k||this)})),this},v["un"+c]=mc["un"+c]=function(_){for(var k=this.events||[],M=k.length;M--;)k[M].name!=c||!v.is(_,"undefined")&&k[M].f!=_||(k[M].unbind(),k.splice(M,1),!k.length&&delete this.events);return this}}(d[ic]);mc.data=function(_,k){var M=Ec[this.id]=Ec[this.id]||{};if(0==arguments.length)return M;if(1==arguments.length){if(v.is(_,"object")){for(var B in _)_[J](B)&&this.data(B,_[B]);return this}return c("raphael.data.get."+this.id,this,M[_],_),M[_]}return M[_]=k,c("raphael.data.set."+this.id,this,k,_),this},mc.removeData=function(c){return null==c?Ec[this.id]={}:Ec[this.id]&&delete Ec[this.id][c],this},mc.getData=function(){return _(Ec[this.id]||{})},mc.hover=function(c,v,_,k){return this.mouseover(c,_).mouseout(v,k||_)},mc.unhover=function(c,v){return this.unmouseover(c).unmouseout(v)};var nc=[];mc.drag=function(_,k,M,B,A,E){function I(I){(I.originalEvent||I).preventDefault();var D=I.clientX,q=I.clientY,j=Z.doc.documentElement.scrollTop||Z.doc.body.scrollTop,N=Z.doc.documentElement.scrollLeft||Z.doc.body.scrollLeft;if(this._drag.id=I.identifier,S&&I.touches)for(var P,H=I.touches.length;H--;)if(P=I.touches[H],this._drag.id=P.identifier,P.identifier==this._drag.id){D=P.clientX,q=P.clientY;break}this._drag.x=D+N,this._drag.y=q+j,!sc.length&&v.mousemove(gc).mouseup(bc),sc.push({el:this,move_scope:B,start_scope:A,end_scope:E}),k&&c.on("raphael.drag.start."+this.id,k),_&&c.on("raphael.drag.move."+this.id,_),M&&c.on("raphael.drag.end."+this.id,M),c("raphael.drag.start."+this.id,A||B||this,I.clientX+N,I.clientY+j,I)}return this._drag={},nc.push({el:this,start:I}),this.mousedown(I),this},mc.onDragOver=function(v){v?c.on("raphael.drag.over."+this.id,v):c.unbind("raphael.drag.over."+this.id)},mc.undrag=function(){for(var _=nc.length;_--;)nc[_].el==this&&(this.unmousedown(nc[_].start),nc.splice(_,1),c.unbind("raphael.drag.*."+this.id));!nc.length&&v.unmousemove(gc).unmouseup(bc),sc=[]},V.circle=function(c,_,k){var M=v._engine.circle(this,c||0,_||0,k||0);return this.__set__&&this.__set__.push(M),M},V.rect=function(c,_,k,M,B){var A=v._engine.rect(this,c||0,_||0,k||0,M||0,B||0);return this.__set__&&this.__set__.push(A),A},V.ellipse=function(c,_,k,M){var B=v._engine.ellipse(this,c||0,_||0,k||0,M||0);return this.__set__&&this.__set__.push(B),B},V.path=function(c){c&&!v.is(c,y)&&!v.is(c[0],s)&&(c+=C);var _=v._engine.path(v.format[u](v,arguments),this);return this.__set__&&this.__set__.push(_),_},V.image=function(c,_,k,M,B){var A=v._engine.image(this,c||"about:blank",_||0,k||0,M||0,B||0);return this.__set__&&this.__set__.push(A),A},V.text=function(c,_,k){var M=v._engine.text(this,c||0,_||0,U(k));return this.__set__&&this.__set__.push(M),M},V.set=function(c){!v.is(c,"array")&&(c=Array.prototype.splice.call(arguments,0,arguments.length));var _=new Av(c);return this.__set__&&this.__set__.push(_),_.paper=this,_.type="set",_},V.setStart=function(c){this.__set__=c||this.set()},V.setFinish=function(c){var v=this.__set__;return delete this.__set__,v},V.getSize=function(){var c=this.canvas.parentNode;return{width:c.offsetWidth,height:c.offsetHeight}},V.setSize=function(c,_){return v._engine.setSize.call(this,c,_)},V.setViewBox=function(c,_,k,M,B){return v._engine.setViewBox.call(this,c,_,k,M,B)},V.top=V.bottom=null,V.raphael=v;V.getElementByPoint=function(c,v){var _=this,k=_.canvas,M=Z.doc.elementFromPoint(c,v);if(Z.win.opera&&"svg"==M.tagName){var B=function(c){var v=c.getBoundingClientRect(),_=c.ownerDocument,k=_.body,M=_.documentElement,B=M.clientTop||k.clientTop||0,A=M.clientLeft||k.clientLeft||0;return{y:v.top+(Z.win.pageYOffset||M.scrollTop||k.scrollTop)-B,x:v.left+(Z.win.pageXOffset||M.scrollLeft||k.scrollLeft)-A}}(k),A=k.createSVGRect();A.x=c-B.x,A.y=v-B.y,A.width=A.height=1;var E=k.getIntersectionList(A,null);E.length&&(M=E[E.length-1])}if(!M)return null;for(;M.parentNode&&M!=k.parentNode&&!M.raphael;)M=M.parentNode;return M==_.canvas.parentNode&&(M=k),M&&M.raphael?_.getById(M.raphaelid):null},V.getElementsByBBox=function(c){var _=this.set();return this.forEach(function(k){v.isBBoxIntersect(k.getBBox(),c)&&_.push(k)}),_},V.getById=function(c){for(var v=this.bottom;v;){if(v.id==c)return v;v=v.next}return null},V.forEach=function(c,v){for(var _=this.bottom;_;){if(!1===c.call(v,_))return this;_=_.next}return this},V.getElementsByPoint=function(c,v){var _=this.set();return this.forEach(function(k){k.isPointInside(c,v)&&_.push(k)}),_},mc.isPointInside=function(c,_){var k=this.realPath=Nc[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(k=v.transformPath(k,this.attr("transform"))),v.isPointInsidePath(k,c,_)},mc.getBBox=function(c){if(this.removed)return{};var v=this._;return c?(!v.dirty&&v.bboxwt||(this.realPath=Nc[this.type](this),v.bboxwt=Zc(this.realPath),v.bboxwt.toString=N,v.dirty=0),v.bboxwt):((v.dirty||v.dirtyT||!v.bbox)&&(!v.dirty&&this.realPath||(v.bboxwt=0,this.realPath=Nc[this.type](this)),v.bbox=Zc(Pc(this.realPath,this.matrix)),v.bbox.toString=N,v.dirty=v.dirtyT=0),v.bbox)},mc.clone=function(){if(this.removed)return null;var c=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(c),c},mc.glow=function(c){if("text"==this.type)return null;var v={width:((c=c||{}).width||10)+(+this.attr("stroke-width")||1),fill:c.fill||!1,opacity:null==c.opacity?.5:c.opacity,offsetx:c.offsetx||0,offsety:c.offsety||0,color:c.color||"#000"},_=v.width/2,k=this.paper,M=k.set(),B=this.realPath||Nc[this.type](this);B=this.matrix?Pc(B,this.matrix):B;for(var A=1;A<_+1;A++)M.push(k.path(B).attr({stroke:v.color,fill:v.fill?v.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(v.width/_*A).toFixed(3),opacity:+(v.opacity/_).toFixed(3)}));return M.insertBefore(this).translate(v.offsetx,v.offsety)};var tc=function(c,_,k,M,B,A,I,D,q){return null==q?E(c,_,k,M,B,A,I,D):v.findDotsAtSegment(c,_,k,M,B,A,I,D,function(c,v,_,k,M,B,A,I,D){if(!(D<0||E(c,v,_,k,M,B,A,I)<D)){var q,j=.5,N=1-j;for(q=E(c,v,_,k,M,B,A,I,N);T(q-D)>.01;)q=E(c,v,_,k,M,B,A,I,N+=(q<D?1:-1)*(j/=2));return N}}(c,_,k,M,B,A,I,D,q))},lc=function(c,_){return function(k,M,B){for(var A,E,I,D,q,j="",N={},P=0,H=0,$=(k=wc(k)).length;H<$;H++){if("M"==(I=k[H])[0])A=+I[1],E=+I[2];else{if(P+(D=tc(A,E,I[1],I[2],I[3],I[4],I[5],I[6]))>M){if(_&&!N.start){if(j+=["C"+(q=tc(A,E,I[1],I[2],I[3],I[4],I[5],I[6],M-P)).start.x,q.start.y,q.m.x,q.m.y,q.x,q.y],B)return j;N.start=j,j=["M"+q.x,q.y+"C"+q.n.x,q.n.y,q.end.x,q.end.y,I[5],I[6]].join(),P+=D,A=+I[5],E=+I[6];continue}if(!c&&!_)return{x:(q=tc(A,E,I[1],I[2],I[3],I[4],I[5],I[6],M-P)).x,y:q.y,alpha:q.alpha}}P+=D,A=+I[5],E=+I[6]}j+=I.shift()+I}return N.end=j,(q=c?P:_?N:v.findDotsAtSegment(A,E,I[0],I[1],I[2],I[3],I[4],I[5],1)).alpha&&(q={x:q.x,y:q.y,alpha:q.alpha}),q}},ec=lc(1),oc=lc(),cv=lc(0,1);v.getTotalLength=ec,v.getPointAtLength=oc,v.getSubpath=function(c,v,_){if(this.getTotalLength(c)-_<1e-6)return cv(c,v).end;var k=cv(c,_,1);return v?cv(k,v).end:k},mc.getTotalLength=function(){var c=this.getPath();if(c)return this.node.getTotalLength?this.node.getTotalLength():ec(c)},mc.getPointAtLength=function(c){var v=this.getPath();if(v)return oc(v,c)},mc.getPath=function(){var c,_=v._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return _&&(c=_(this)),c},mc.getSubpath=function(c,_){var k=this.getPath();if(k)return v.getSubpath(k,c,_)};var vv=v.easing_formulas={linear:function(c){return c},"<":function(c){return p(c,1.7)},">":function(c){return p(c,.48)},"<>":function(c){var v=.48-c/1.04,_=a.sqrt(.1734+v*v),k=_-v,M=-_-v,B=p(T(k),1/3)*(k<0?-1:1)+p(T(M),1/3)*(M<0?-1:1)+.5;return 3*(1-B)*B*B+B*B*B},backIn:function(c){var v=1.70158;return c*c*((v+1)*c-v)},backOut:function(c){var v=1.70158;return(c-=1)*c*((v+1)*c+v)+1},elastic:function(c){return c==!!c?c:p(2,-10*c)*a.sin(2*L*(c-.075)/.3)+1},bounce:function(c){var v,_=7.5625,k=2.75;return c<1/k?v=_*c*c:c<2/k?v=_*(c-=1.5/k)*c+.75:c<2.5/k?v=_*(c-=2.25/k)*c+.9375:v=_*(c-=2.625/k)*c+.984375,v}};vv.easeIn=vv["ease-in"]=vv["<"],vv.easeOut=vv["ease-out"]=vv[">"],vv.easeInOut=vv["ease-in-out"]=vv["<>"],vv["back-in"]=vv.backIn,vv["back-out"]=vv.backOut;var _v=[],kv=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){setTimeout(c,16)},Mv=function(){for(var _=+new Date,k=0;k<_v.length;k++){var M=_v[k];if(!M.el.removed&&!M.paused){var B,A,E=_-M.start,I=M.ms,D=M.easing,q=M.from,j=M.diff,N=M.to,P=(M.t,M.el),H={},z={};if(M.initstatus?(E=(M.initstatus*M.anim.top-M.prev)/(M.percent-M.prev)*I,M.status=M.initstatus,delete M.initstatus,M.stop&&_v.splice(k--,1)):M.status=(M.prev+(M.percent-M.prev)*(E/I))/M.anim.top,!(E<0))if(E<I){var F=D(E/I);for(var V in q)if(q[J](V)){switch(cc[V]){case h:B=+q[V]+F*I*j[V];break;case"colour":B="rgb("+[Bv(n(q[V].r+F*I*j[V].r)),Bv(n(q[V].g+F*I*j[V].g)),Bv(n(q[V].b+F*I*j[V].b))].join(",")+")";break;case"path":B=[];for(var W=0,G=q[V].length;W<G;W++){B[W]=[q[V][W][0]];for(var Y=1,Z=q[V][W].length;Y<Z;Y++)B[W][Y]=+q[V][W][Y]+F*I*j[V][W][Y];B[W]=B[W].join(O)}B=B.join(O);break;case"transform":if(j[V].real)for(B=[],W=0,G=q[V].length;W<G;W++)for(B[W]=[q[V][W][0]],Y=1,Z=q[V][W].length;Y<Z;Y++)B[W][Y]=q[V][W][Y]+F*I*j[V][W][Y];else{var Q=function(c){return+q[V][c]+F*I*j[V][c]};B=[["m",Q(0),Q(1),Q(2),Q(3),Q(4),Q(5)]]}break;case"csv":if("clip-rect"==V)for(B=[],W=4;W--;)B[W]=+q[V][W]+F*I*j[V][W];break;default:var K=[][R](q[V]);for(B=[],W=P.paper.customAttributes[V].length;W--;)B[W]=+K[W]+F*I*j[V][W]}H[V]=B}P.attr(H),function(v,_,k){setTimeout(function(){c("raphael.anim.frame."+v,_,k)})}(P.id,P,M.anim)}else{if(function(_,k,M){setTimeout(function(){c("raphael.anim.frame."+k.id,k,M),c("raphael.anim.finish."+k.id,k,M),v.is(_,"function")&&_.call(k)})}(M.callback,P,M.anim),P.attr(N),_v.splice(k--,1),M.repeat>1&&!M.next){for(A in N)N[J](A)&&(z[A]=M.totalOrigin[A]);M.el.attr(z),$(M.anim,M.el,M.anim.percents[0],null,M.totalOrigin,M.repeat-1)}M.next&&!M.stop&&$(M.anim,M.el,M.next,null,M.totalOrigin,M.repeat)}}}_v.length&&kv(Mv)},Bv=function(c){return c>255?255:c<0?0:c};mc.animateWith=function(c,_,k,M,B,A){var E=this;if(E.removed)return A&&A.call(E),E;var I=k instanceof H?k:v.animation(k,M,B,A);$(I,E,I.percents[0],null,E.attr());for(var D=0,q=_v.length;D<q;D++)if(_v[D].anim==_&&_v[D].el==c){_v[q-1].start=_v[D].start;break}return E},mc.onAnimation=function(v){return v?c.on("raphael.anim.frame."+this.id,v):c.unbind("raphael.anim.frame."+this.id),this},H.prototype.delay=function(c){var v=new H(this.anim,this.ms);return v.times=this.times,v.del=+c||0,v},H.prototype.repeat=function(c){var v=new H(this.anim,this.ms);return v.del=this.del,v.times=a.floor(f(c,0))||1,v},v.animation=function(c,_,k,M){if(c instanceof H)return c;!v.is(k,"function")&&k||(M=M||k||null,k=null),c=Object(c),_=+_||0;var B,A,E={};for(A in c)c[J](A)&&t(A)!=A&&t(A)+"%"!=A&&(B=!0,E[A]=c[A]);if(B)return k&&(E.easing=k),M&&(E.callback=M),new H({100:E},_);if(M){var I=0;for(var D in c){var q=l(D);c[J](D)&&q>I&&(I=q)}!c[I+="%"].callback&&(c[I].callback=M)}return new H(c,_)},mc.animate=function(c,_,k,M){var B=this;if(B.removed)return M&&M.call(B),B;var A=c instanceof H?c:v.animation(c,_,k,M);return $(A,B,A.percents[0],null,B.attr()),B},mc.setTime=function(c,v){return c&&null!=v&&this.status(c,r(v,c.ms)/c.ms),this},mc.status=function(c,v){var _,k,M=[],B=0;if(null!=v)return $(c,this,-1,r(v,1)),this;for(_=_v.length;B<_;B++)if((k=_v[B]).el.id==this.id&&(!c||k.anim==c)){if(c)return k.status;M.push({anim:k.anim,status:k.status})}return c?0:M},mc.pause=function(v){for(var _=0;_<_v.length;_++)_v[_].el.id!=this.id||v&&_v[_].anim!=v||!1!==c("raphael.anim.pause."+this.id,this,_v[_].anim)&&(_v[_].paused=!0);return this},mc.resume=function(v){for(var _=0;_<_v.length;_++)if(_v[_].el.id==this.id&&(!v||_v[_].anim==v)){var k=_v[_];!1!==c("raphael.anim.resume."+this.id,this,k.anim)&&(delete k.paused,this.status(k.anim,k.status))}return this},mc.stop=function(v){for(var _=0;_<_v.length;_++)_v[_].el.id!=this.id||v&&_v[_].anim!=v||!1!==c("raphael.anim.stop."+this.id,this,_v[_].anim)&&_v.splice(_--,1);return this},c.on("raphael.remove",z),c.on("raphael.clear",z),mc.toString=function(){return"Raphaël’s object"};var Av=function(c){if(this.items=[],this.length=0,this.type="set",c)for(var v=0,_=c.length;v<_;v++)!c[v]||c[v].constructor!=mc.constructor&&c[v].constructor!=Av||(this[this.items.length]=this.items[this.items.length]=c[v],this.length++)},Ev=Av.prototype;for(var Iv in Ev.push=function(){for(var c,v,_=0,k=arguments.length;_<k;_++)!(c=arguments[_])||c.constructor!=mc.constructor&&c.constructor!=Av||(this[v=this.items.length]=this.items[v]=c,this.length++);return this},Ev.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Ev.forEach=function(c,v){for(var _=0,k=this.items.length;_<k;_++)if(!1===c.call(v,this.items[_],_))return this;return this},mc)mc[J](Iv)&&(Ev[Iv]=function(c){return function(){var v=arguments;return this.forEach(function(_){_[c][u](_,v)})}}(Iv));return Ev.attr=function(c,_){if(c&&v.is(c,s)&&v.is(c[0],"object"))for(var k=0,M=c.length;k<M;k++)this.items[k].attr(c[k]);else for(var B=0,A=this.items.length;B<A;B++)this.items[B].attr(c,_);return this},Ev.clear=function(){for(;this.length;)this.pop()},Ev.splice=function(c,v,_){c=c<0?f(this.length+c,0):c,v=f(0,r(this.length-c,v));var k,M=[],B=[],A=[];for(k=2;k<arguments.length;k++)A.push(arguments[k]);for(k=0;k<v;k++)B.push(this[c+k]);for(;k<this.length-c;k++)M.push(this[c+k]);var E=A.length;for(k=0;k<E+M.length;k++)this.items[c+k]=this[c+k]=k<E?A[k]:M[k-E];for(k=this.items.length=this.length-=v-E;this[k];)delete this[k++];return new Av(B)},Ev.exclude=function(c){for(var v=0,_=this.length;v<_;v++)if(this[v]==c)return this.splice(v,1),!0},Ev.animate=function(c,_,k,M){(v.is(k,"function")||!k)&&(M=k||null);var B,A,E=this.items.length,I=E,D=this;if(!E)return this;M&&(A=function(){!--E&&M.call(D)}),k=v.is(k,y)?k:A;var q=v.animation(c,_,k,A);for(B=this.items[--I].animate(q);I--;)this.items[I]&&!this.items[I].removed&&this.items[I].animateWith(B,q,q),this.items[I]&&!this.items[I].removed||E--;return this},Ev.insertAfter=function(c){for(var v=this.items.length;v--;)this.items[v].insertAfter(c);return this},Ev.getBBox=function(){for(var c=[],v=[],_=[],k=[],M=this.items.length;M--;)if(!this.items[M].removed){var B=this.items[M].getBBox();c.push(B.x),v.push(B.y),_.push(B.x+B.width),k.push(B.y+B.height)}return{x:c=r[u](0,c),y:v=r[u](0,v),x2:_=f[u](0,_),y2:k=f[u](0,k),width:_-c,height:k-v}},Ev.clone=function(c){c=this.paper.set();for(var v=0,_=this.items.length;v<_;v++)c.push(this.items[v].clone());return c},Ev.toString=function(){return"Raphaël‘s set"},Ev.glow=function(c){var v=this.paper.set();return this.forEach(function(_,k){var M=_.glow(c);null!=M&&M.forEach(function(c,_){v.push(c)})}),v},Ev.isPointInside=function(c,v){var _=!1;return this.forEach(function(k){if(k.isPointInside(c,v))return _=!0,!1}),_},v.registerFont=function(c){if(!c.face)return c;this.fonts=this.fonts||{};var v={w:c.w,face:{},glyphs:{}},_=c.face["font-family"];for(var k in c.face)c.face[J](k)&&(v.face[k]=c.face[k]);if(this.fonts[_]?this.fonts[_].push(v):this.fonts[_]=[v],!c.svg)for(var M in v.face["units-per-em"]=l(c.face["units-per-em"],10),c.glyphs)if(c.glyphs[J](M)){var B=c.glyphs[M];if(v.glyphs[M]={w:B.w,k:{},d:B.d&&"M"+B.d.replace(/[mlcxtrv]/g,function(c){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[c]||"M"})+"z"},B.k)for(var A in B.k)B[J](A)&&(v.glyphs[M].k[A]=B.k[A])}return c},V.getFont=function(c,_,k,M){if(M=M||"normal",k=k||"normal",_=+_||{normal:400,bold:700,lighter:300,bolder:800}[_]||400,v.fonts){var B,A=v.fonts[c];if(!A){var E=new RegExp("(^|\\s)"+c.replace(/[^\w\d\s+!~.:_-]/g,C)+"(\\s|$)","i");for(var I in v.fonts)if(v.fonts[J](I)&&E.test(I)){A=v.fonts[I];break}}if(A)for(var D=0,q=A.length;D<q&&((B=A[D]).face["font-weight"]!=_||B.face["font-style"]!=k&&B.face["font-style"]||B.face["font-stretch"]!=M);D++);return B}},V.print=function(c,_,k,M,B,A,E,I){A=A||"middle",E=f(r(E||0,1),-1),I=f(r(I||1,3),1);var D,q=U(k)[w](C),j=0,N=0,P=C;if(v.is(M,"string")&&(M=this.getFont(M)),M){D=(B||16)/M.face["units-per-em"];for(var H=M.face.bbox[w](W),$=+H[0],z=H[3]-H[1],F=0,V=+H[1]+("baseline"==A?z+ +M.face.descent:z/2),G=0,Y=q.length;G<Y;G++){if("\n"==q[G])j=0,Z=0,N=0,F+=z*I;else{var J=N&&M.glyphs[q[G-1]]||{},Z=M.glyphs[q[G]];j+=N?(J.w||M.w)+(J.k&&J.k[q[G]]||0)+M.w*E:0,N=1}Z&&Z.d&&(P+=v.transformPath(Z.d,["t",j*D,F*D,"s",D,D,$,V,"t",(c-$)/D,(_-V)/D]))}}return this.path(P).attr({fill:"#000",stroke:"none"})},V.add=function(c){if(v.is(c,"array"))for(var _,k=this.set(),M=0,B=c.length;M<B;M++)_=c[M]||{},G[J](_.type)&&k.push(this[_.type]().attr(_));return k},v.format=function(c,_){var k=v.is(_,s)?[0][R](_):arguments;return c&&v.is(c,y)&&k.length-1&&(c=c.replace(Y,function(c,v){return null==k[++v]?C:k[v]})),c||C},v.fullfill=function(){var c=/\{([^\}]+)\}/g,v=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,_=function(c,_,k){var M=k;return _.replace(v,function(c,v,_,k,B){v=v||k,M&&(v in M&&(M=M[v]),"function"==typeof M&&B&&(M=M()))}),M=(null==M||M==k?c:M)+""};return function(v,k){return String(v).replace(c,function(c,v){return _(c,v,k)})}}(),v.ninja=function(){if(Q.was)Z.win.Raphael=Q.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(c){}}return v},v.st=Ev,c.on("raphael.DOMload",function(){F=!0}),function(c,_,k){null==c.readyState&&c.addEventListener&&(c.addEventListener(_,k=function(){c.removeEventListener(_,k,!1),c.readyState="complete"},!1),c.readyState="loading"),function _(){/in/.test(c.readyState)?setTimeout(_,9):v.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),v}.apply(v,k))||(c.exports=M)},function(c,v,_){var k,M,B,A,E,I,D,q,j,N,P,H,$,z;A="0.5.0",E="hasOwnProperty",I=/[\.\/]/,D=/\s*,\s*/,q=function(c,v){return c-v},j={n:{}},N=function(){for(var c=0,v=this.length;c<v;c++)if(void 0!==this[c])return this[c]},P=function(){for(var c=this.length;--c;)if(void 0!==this[c])return this[c]},H=Object.prototype.toString,$=String,z=Array.isArray||function(c){return c instanceof Array||"[object Array]"==H.call(c)},eve=function(c,v){var _,k=B,A=Array.prototype.slice.call(arguments,2),E=eve.listeners(c),I=0,D=[],j={},H=[],$=M;H.firstDefined=N,H.lastDefined=P,M=c,B=0;for(var z=0,F=E.length;z<F;z++)"zIndex"in E[z]&&(D.push(E[z].zIndex),E[z].zIndex<0&&(j[E[z].zIndex]=E[z]));for(D.sort(q);D[I]<0;)if(_=j[D[I++]],H.push(_.apply(v,A)),B)return B=k,H;for(z=0;z<F;z++)if("zIndex"in(_=E[z]))if(_.zIndex==D[I]){if(H.push(_.apply(v,A)),B)break;do{if((_=j[D[++I]])&&H.push(_.apply(v,A)),B)break}while(_)}else j[_.zIndex]=_;else if(H.push(_.apply(v,A)),B)break;return B=k,M=$,H},eve._events=j,eve.listeners=function(c){var v,_,k,M,B,A,E,D,q=z(c)?c:c.split(I),N=j,P=[N],H=[];for(M=0,B=q.length;M<B;M++){for(D=[],A=0,E=P.length;A<E;A++)for(_=[(N=P[A].n)[q[M]],N["*"]],k=2;k--;)(v=_[k])&&(D.push(v),H=H.concat(v.f||[]));P=D}return H},eve.separator=function(c){c?(c="["+(c=$(c).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",I=new RegExp(c)):I=/[\.\/]/},eve.on=function(c,v){if("function"!=typeof v)return function(){};for(var _=z(c)?z(c[0])?c:[c]:$(c).split(D),k=0,M=_.length;k<M;k++)!function(c){for(var _,k=z(c)?c:$(c).split(I),M=j,B=0,A=k.length;B<A;B++)M=(M=M.n).hasOwnProperty(k[B])&&M[k[B]]||(M[k[B]]={n:{}});for(M.f=M.f||[],B=0,A=M.f.length;B<A;B++)if(M.f[B]==v){_=!0;break}!_&&M.f.push(v)}(_[k]);return function(c){+c==+c&&(v.zIndex=+c)}},eve.f=function(c){var v=[].slice.call(arguments,1);return function(){eve.apply(null,[c,null].concat(v).concat([].slice.call(arguments,0)))}},eve.stop=function(){B=1},eve.nt=function(c){var v=z(M)?M.join("."):M;return c?new RegExp("(?:\\.|\\/|^)"+c+"(?:\\.|\\/|$)").test(v):v},eve.nts=function(){return z(M)?M:M.split(I)},eve.off=eve.unbind=function(c,v){if(c){var _=z(c)?z(c[0])?c:[c]:$(c).split(D);if(_.length>1)for(var k=0,M=_.length;k<M;k++)eve.off(_[k],v);else{_=z(c)?c:$(c).split(I);var B,A,q,N,P,H=[j];for(k=0,M=_.length;k<M;k++)for(N=0;N<H.length;N+=q.length-2){if(q=[N,1],B=H[N].n,"*"!=_[k])B[_[k]]&&q.push(B[_[k]]);else for(A in B)B[E](A)&&q.push(B[A]);H.splice.apply(H,q)}for(k=0,M=H.length;k<M;k++)for(B=H[k];B.n;){if(v){if(B.f){for(N=0,P=B.f.length;N<P;N++)if(B.f[N]==v){B.f.splice(N,1);break}!B.f.length&&delete B.f}for(A in B.n)if(B.n[E](A)&&B.n[A].f){var F=B.n[A].f;for(N=0,P=F.length;N<P;N++)if(F[N]==v){F.splice(N,1);break}!F.length&&delete B.n[A].f}}else for(A in delete B.f,B.n)B.n[E](A)&&B.n[A].f&&delete B.n[A].f;B=B.n}}}else eve._events=j={n:{}}},eve.once=function(c,v){var _=function(){return eve.off(c,_),v.apply(this,arguments)};return eve.on(c,_)},eve.version=A,eve.toString=function(){return"You are running Eve "+A},void 0!==c&&c.exports?c.exports=eve:void 0===(k=function(){return eve}.apply(v,[]))||(c.exports=k)},function(c,v,_){var k,M;k=[_(1)],void 0===(M=function(c){if(!c||c.svg){var v="hasOwnProperty",_=String,k=parseFloat,M=parseInt,B=Math,A=B.max,E=B.abs,I=B.pow,D=/[, ]+/,q=c.eve,j="",N=" ",P="http://www.w3.org/1999/xlink",H={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},$={};c.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var z=function(k,M){if(M)for(var B in"string"==typeof k&&(k=z(k)),M)M[v](B)&&("xlink:"==B.substring(0,6)?k.setAttributeNS(P,B.substring(6),_(M[B])):k.setAttribute(B,_(M[B])));else(k=c._g.doc.createElementNS("http://www.w3.org/2000/svg",k)).style&&(k.style.webkitTapHighlightColor="rgba(0,0,0,0)");return k},F=function(v,M){var D="linear",q=v.id+M,N=.5,P=.5,H=v.node,$=v.paper,F=H.style,W=c._g.doc.getElementById(q);if(!W){if(M=(M=_(M).replace(c._radial_gradient,function(c,v,_){if(D="radial",v&&_){N=k(v);var M=2*((P=k(_))>.5)-1;I(N-.5,2)+I(P-.5,2)>.25&&(P=B.sqrt(.25-I(N-.5,2))*M+.5)&&.5!=P&&(P=P.toFixed(5)-1e-5*M)}return j})).split(/\s*\-\s*/),"linear"==D){var G=M.shift();if(G=-k(G),isNaN(G))return null;var Y=[0,0,B.cos(c.rad(G)),B.sin(c.rad(G))],J=1/(A(E(Y[2]),E(Y[3]))||1);Y[2]*=J,Y[3]*=J,Y[2]<0&&(Y[0]=-Y[2],Y[2]=0),Y[3]<0&&(Y[1]=-Y[3],Y[3]=0)}var Z=c._parseDots(M);if(!Z)return null;if(q=q.replace(/[\(\)\s,\xb0#]/g,"_"),v.gradient&&q!=v.gradient.id&&($.defs.removeChild(v.gradient),delete v.gradient),!v.gradient){W=z(D+"Gradient",{id:q}),v.gradient=W,z(W,"radial"==D?{fx:N,fy:P}:{x1:Y[0],y1:Y[1],x2:Y[2],y2:Y[3],gradientTransform:v.matrix.invert()}),$.defs.appendChild(W);for(var Q=0,K=Z.length;Q<K;Q++)W.appendChild(z("stop",{offset:Z[Q].offset?Z[Q].offset:Q?"100%":"0%","stop-color":Z[Q].color||"#fff","stop-opacity":isFinite(Z[Q].opacity)?Z[Q].opacity:1}))}}return z(H,{fill:V(q),opacity:1,"fill-opacity":1}),F.fill=j,F.opacity=1,F.fillOpacity=1,1},V=function(c){if(function(){var c=document.documentMode;return c&&(9===c||10===c)}())return"url('#"+c+"')";var v=document.location;return"url('"+(v.protocol+"//"+v.host+v.pathname+v.search)+"#"+c+"')"},W=function(c){var v=c.getBBox(1);z(c.pattern,{patternTransform:c.matrix.invert()+" translate("+v.x+","+v.y+")"})},G=function(k,M,B){if("path"==k.type){for(var A,E,I,D,q,N=_(M).toLowerCase().split("-"),P=k.paper,F=B?"end":"start",V=k.node,W=k.attrs,G=W["stroke-width"],Y=N.length,J="classic",Z=3,Q=3,K=5;Y--;)switch(N[Y]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":J=N[Y];break;case"wide":Q=5;break;case"narrow":Q=2;break;case"long":Z=5;break;case"short":Z=2}if("open"==J?(Z+=2,Q+=2,K+=2,I=1,D=B?4:1,q={fill:"none",stroke:W.stroke}):(D=I=Z/2,q={fill:W.stroke,stroke:"none"}),k._.arrows?B?(k._.arrows.endPath&&$[k._.arrows.endPath]--,k._.arrows.endMarker&&$[k._.arrows.endMarker]--):(k._.arrows.startPath&&$[k._.arrows.startPath]--,k._.arrows.startMarker&&$[k._.arrows.startMarker]--):k._.arrows={},"none"!=J){var u="raphael-marker-"+J,R="raphael-marker-"+F+J+Z+Q+"-obj"+k.id;c._g.doc.getElementById(u)?$[u]++:(P.defs.appendChild(z(z("path"),{"stroke-linecap":"round",d:H[J],id:u})),$[u]=1);var S,C=c._g.doc.getElementById(R);C?($[R]++,S=C.getElementsByTagName("use")[0]):(C=z(z("marker"),{id:R,markerHeight:Q,markerWidth:Z,orient:"auto",refX:D,refY:Q/2}),S=z(z("use"),{"xlink:href":"#"+u,transform:(B?"rotate(180 "+Z/2+" "+Q/2+") ":j)+"scale("+Z/K+","+Q/K+")","stroke-width":(1/((Z/K+Q/K)/2)).toFixed(4)}),C.appendChild(S),P.defs.appendChild(C),$[R]=1),z(S,q);var O=I*("diamond"!=J&&"oval"!=J);B?(A=k._.arrows.startdx*G||0,E=c.getTotalLength(W.path)-O*G):(A=O*G,E=c.getTotalLength(W.path)-(k._.arrows.enddx*G||0)),(q={})["marker-"+F]="url(#"+R+")",(E||A)&&(q.d=c.getSubpath(W.path,A,E)),z(V,q),k._.arrows[F+"Path"]=u,k._.arrows[F+"Marker"]=R,k._.arrows[F+"dx"]=O,k._.arrows[F+"Type"]=J,k._.arrows[F+"String"]=M}else B?(A=k._.arrows.startdx*G||0,E=c.getTotalLength(W.path)-A):(A=0,E=c.getTotalLength(W.path)-(k._.arrows.enddx*G||0)),k._.arrows[F+"Path"]&&z(V,{d:c.getSubpath(W.path,A,E)}),delete k._.arrows[F+"Path"],delete k._.arrows[F+"Marker"],delete k._.arrows[F+"dx"],delete k._.arrows[F+"Type"],delete k._.arrows[F+"String"];for(q in $)if($[v](q)&&!$[q]){var U=c._g.doc.getElementById(q);U&&U.parentNode.removeChild(U)}}},Y={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},J=function(c,v,k){if(v=Y[_(v).toLowerCase()]){for(var M=c.attrs["stroke-width"]||"1",B={round:M,square:M,butt:0}[c.attrs["stroke-linecap"]||k["stroke-linecap"]]||0,A=[],E=v.length;E--;)A[E]=v[E]*M+(E%2?1:-1)*B;z(c.node,{"stroke-dasharray":A.join(",")})}else z(c.node,{"stroke-dasharray":"none"})},Z=function(k,B){var I=k.node,q=k.attrs,N=I.style.visibility;for(var H in I.style.visibility="hidden",B)if(B[v](H)){if(!c._availableAttrs[v](H))continue;var $=B[H];switch(q[H]=$,H){case"blur":k.blur($);break;case"title":var V=I.getElementsByTagName("title");if(V.length&&(V=V[0]))V.firstChild.nodeValue=$;else{V=z("title");var Y=c._g.doc.createTextNode($);V.appendChild(Y),I.appendChild(V)}break;case"href":case"target":var Z=I.parentNode;if("a"!=Z.tagName.toLowerCase()){var K=z("a");Z.insertBefore(K,I),K.appendChild(I),Z=K}"target"==H?Z.setAttributeNS(P,"show","blank"==$?"new":$):Z.setAttributeNS(P,H,$);break;case"cursor":I.style.cursor=$;break;case"transform":k.transform($);break;case"arrow-start":G(k,$);break;case"arrow-end":G(k,$,1);break;case"clip-rect":var u=_($).split(D);if(4==u.length){k.clip&&k.clip.parentNode.parentNode.removeChild(k.clip.parentNode);var R=z("clipPath"),S=z("rect");R.id=c.createUUID(),z(S,{x:u[0],y:u[1],width:u[2],height:u[3]}),R.appendChild(S),k.paper.defs.appendChild(R),z(I,{"clip-path":"url(#"+R.id+")"}),k.clip=S}if(!$){var C=I.getAttribute("clip-path");if(C){var O=c._g.doc.getElementById(C.replace(/(^url\(#|\)$)/g,j));O&&O.parentNode.removeChild(O),z(I,{"clip-path":j}),delete k.clip}}break;case"path":"path"==k.type&&(z(I,{d:$?q.path=c._pathToAbsolute($):"M0,0"}),k._.dirty=1,k._.arrows&&("startString"in k._.arrows&&G(k,k._.arrows.startString),"endString"in k._.arrows&&G(k,k._.arrows.endString,1)));break;case"width":if(I.setAttribute(H,$),k._.dirty=1,!q.fx)break;H="x",$=q.x;case"x":q.fx&&($=-q.x-(q.width||0));case"rx":if("rx"==H&&"rect"==k.type)break;case"cx":I.setAttribute(H,$),k.pattern&&W(k),k._.dirty=1;break;case"height":if(I.setAttribute(H,$),k._.dirty=1,!q.fy)break;H="y",$=q.y;case"y":q.fy&&($=-q.y-(q.height||0));case"ry":if("ry"==H&&"rect"==k.type)break;case"cy":I.setAttribute(H,$),k.pattern&&W(k),k._.dirty=1;break;case"r":"rect"==k.type?z(I,{rx:$,ry:$}):I.setAttribute(H,$),k._.dirty=1;break;case"src":"image"==k.type&&I.setAttributeNS(P,"href",$);break;case"stroke-width":1==k._.sx&&1==k._.sy||($/=A(E(k._.sx),E(k._.sy))||1),I.setAttribute(H,$),q["stroke-dasharray"]&&J(k,q["stroke-dasharray"],B),k._.arrows&&("startString"in k._.arrows&&G(k,k._.arrows.startString),"endString"in k._.arrows&&G(k,k._.arrows.endString,1));break;case"stroke-dasharray":J(k,$,B);break;case"fill":var U=_($).match(c._ISURL);if(U){R=z("pattern");var w=z("image");R.id=c.createUUID(),z(R,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),z(w,{x:0,y:0,"xlink:href":U[1]}),R.appendChild(w),function(v){c._preload(U[1],function(){var c=this.offsetWidth,_=this.offsetHeight;z(v,{width:c,height:_}),z(w,{width:c,height:_})})}(R),k.paper.defs.appendChild(R),z(I,{fill:"url(#"+R.id+")"}),k.pattern=R,k.pattern&&W(k);break}var d=c.getRGB($);if(d.error){if(("circle"==k.type||"ellipse"==k.type||"r"!=_($).charAt())&&F(k,$)){if("opacity"in q||"fill-opacity"in q){var X=c._g.doc.getElementById(I.getAttribute("fill").replace(/^url\(#|\)$/g,j));if(X){var x=X.getElementsByTagName("stop");z(x[x.length-1],{"stop-opacity":("opacity"in q?q.opacity:1)*("fill-opacity"in q?q["fill-opacity"]:1)})}}q.gradient=$,q.fill="none";break}}else delete B.gradient,delete q.gradient,!c.is(q.opacity,"undefined")&&c.is(B.opacity,"undefined")&&z(I,{opacity:q.opacity}),!c.is(q["fill-opacity"],"undefined")&&c.is(B["fill-opacity"],"undefined")&&z(I,{"fill-opacity":q["fill-opacity"]});d[v]("opacity")&&z(I,{"fill-opacity":d.opacity>1?d.opacity/100:d.opacity});case"stroke":d=c.getRGB($),I.setAttribute(H,d.hex),"stroke"==H&&d[v]("opacity")&&z(I,{"stroke-opacity":d.opacity>1?d.opacity/100:d.opacity}),"stroke"==H&&k._.arrows&&("startString"in k._.arrows&&G(k,k._.arrows.startString),"endString"in k._.arrows&&G(k,k._.arrows.endString,1));break;case"gradient":("circle"==k.type||"ellipse"==k.type||"r"!=_($).charAt())&&F(k,$);break;case"opacity":q.gradient&&!q[v]("stroke-opacity")&&z(I,{"stroke-opacity":$>1?$/100:$});case"fill-opacity":if(q.gradient){(X=c._g.doc.getElementById(I.getAttribute("fill").replace(/^url\(#|\)$/g,j)))&&(x=X.getElementsByTagName("stop"),z(x[x.length-1],{"stop-opacity":$}));break}default:"font-size"==H&&($=M($,10)+"px");var a=H.replace(/(\-.)/g,function(c){return c.substring(1).toUpperCase()});I.style[a]=$,k._.dirty=1,I.setAttribute(H,$)}}Q(k,B),I.style.visibility=N},Q=function(k,B){if("text"==k.type&&(B[v]("text")||B[v]("font")||B[v]("font-size")||B[v]("x")||B[v]("y"))){var A=k.attrs,E=k.node,I=E.firstChild?M(c._g.doc.defaultView.getComputedStyle(E.firstChild,j).getPropertyValue("font-size"),10):10;if(B[v]("text")){for(A.text=B.text;E.firstChild;)E.removeChild(E.firstChild);for(var D,q=_(B.text).split("\n"),N=[],P=0,H=q.length;P<H;P++)D=z("tspan"),P&&z(D,{dy:1.2*I,x:A.x}),D.appendChild(c._g.doc.createTextNode(q[P])),E.appendChild(D),N[P]=D}else for(P=0,H=(N=E.getElementsByTagName("tspan")).length;P<H;P++)P?z(N[P],{dy:1.2*I,x:A.x}):z(N[0],{dy:0});z(E,{x:A.x,y:A.y}),k._.dirty=1;var $=k._getBBox(),F=A.y-($.y+$.height/2);F&&c.is(F,"finite")&&z(N[0],{dy:F})}},K=function(c){return c.parentNode&&"a"===c.parentNode.tagName.toLowerCase()?c.parentNode:c},u=function(v,_){this[0]=this.node=v,v.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),v.raphaelid=this.id,this.matrix=c.matrix(),this.realPath=null,this.paper=_,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!_.bottom&&(_.bottom=this),this.prev=_.top,_.top&&(_.top.next=this),_.top=this,this.next=null},R=c.el;u.prototype=R,R.constructor=u,c._engine.path=function(c,v){var _=z("path");v.canvas&&v.canvas.appendChild(_);var k=new u(_,v);return k.type="path",Z(k,{fill:"none",stroke:"#000",path:c}),k},R.rotate=function(c,v,M){if(this.removed)return this;if((c=_(c).split(D)).length-1&&(v=k(c[1]),M=k(c[2])),c=k(c[0]),null==M&&(v=M),null==v||null==M){var B=this.getBBox(1);v=B.x+B.width/2,M=B.y+B.height/2}return this.transform(this._.transform.concat([["r",c,v,M]])),this},R.scale=function(c,v,M,B){if(this.removed)return this;if((c=_(c).split(D)).length-1&&(v=k(c[1]),M=k(c[2]),B=k(c[3])),c=k(c[0]),null==v&&(v=c),null==B&&(M=B),null==M||null==B)var A=this.getBBox(1);return M=null==M?A.x+A.width/2:M,B=null==B?A.y+A.height/2:B,this.transform(this._.transform.concat([["s",c,v,M,B]])),this},R.translate=function(c,v){return this.removed?this:((c=_(c).split(D)).length-1&&(v=k(c[1])),c=k(c[0])||0,v=+v||0,this.transform(this._.transform.concat([["t",c,v]])),this)},R.transform=function(_){var k=this._;if(null==_)return k.transform;if(c._extractTransform(this,_),this.clip&&z(this.clip,{transform:this.matrix.invert()}),this.pattern&&W(this),this.node&&z(this.node,{transform:this.matrix}),1!=k.sx||1!=k.sy){var M=this.attrs[v]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":M})}return this},R.hide=function(){return this.removed||(this.node.style.display="none"),this},R.show=function(){return this.removed||(this.node.style.display=""),this},R.remove=function(){var v=K(this.node);if(!this.removed&&v.parentNode){var _=this.paper;for(var k in _.__set__&&_.__set__.exclude(this),q.unbind("raphael.*.*."+this.id),this.gradient&&_.defs.removeChild(this.gradient),c._tear(this,_),v.parentNode.removeChild(v),this.removeData(),this)this[k]="function"==typeof this[k]?c._removedFactory(k):null;this.removed=!0}},R._getBBox=function(){if("none"==this.node.style.display){this.show();var c=!0}var v,_=!1;this.paper.canvas.parentElement?v=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(v=this.paper.canvas.parentNode.style),v&&"none"==v.display&&(_=!0,v.display="");var k={};try{k=this.node.getBBox()}catch(c){k={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{k=k||{},_&&(v.display="none")}return c&&this.hide(),k},R.attr=function(_,k){if(this.removed)return this;if(null==_){var M={};for(var B in this.attrs)this.attrs[v](B)&&(M[B]=this.attrs[B]);return M.gradient&&"none"==M.fill&&(M.fill=M.gradient)&&delete M.gradient,M.transform=this._.transform,M}if(null==k&&c.is(_,"string")){if("fill"==_&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==_)return this._.transform;for(var A=_.split(D),E={},I=0,j=A.length;I<j;I++)(_=A[I])in this.attrs?E[_]=this.attrs[_]:c.is(this.paper.customAttributes[_],"function")?E[_]=this.paper.customAttributes[_].def:E[_]=c._availableAttrs[_];return j-1?E:E[A[0]]}if(null==k&&c.is(_,"array")){for(E={},I=0,j=_.length;I<j;I++)E[_[I]]=this.attr(_[I]);return E}if(null!=k){var N={};N[_]=k}else null!=_&&c.is(_,"object")&&(N=_);for(var P in N)q("raphael.attr."+P+"."+this.id,this,N[P]);for(P in this.paper.customAttributes)if(this.paper.customAttributes[v](P)&&N[v](P)&&c.is(this.paper.customAttributes[P],"function")){var H=this.paper.customAttributes[P].apply(this,[].concat(N[P]));for(var $ in this.attrs[P]=N[P],H)H[v]($)&&(N[$]=H[$])}return Z(this,N),this},R.toFront=function(){if(this.removed)return this;var v=K(this.node);v.parentNode.appendChild(v);var _=this.paper;return _.top!=this&&c._tofront(this,_),this},R.toBack=function(){if(this.removed)return this;var v=K(this.node),_=v.parentNode;_.insertBefore(v,_.firstChild),c._toback(this,this.paper);this.paper;return this},R.insertAfter=function(v){if(this.removed||!v)return this;var _=K(this.node),k=K(v.node||v[v.length-1].node);return k.nextSibling?k.parentNode.insertBefore(_,k.nextSibling):k.parentNode.appendChild(_),c._insertafter(this,v,this.paper),this},R.insertBefore=function(v){if(this.removed||!v)return this;var _=K(this.node),k=K(v.node||v[0].node);return k.parentNode.insertBefore(_,k),c._insertbefore(this,v,this.paper),this},R.blur=function(v){var _=this;if(0!=+v){var k=z("filter"),M=z("feGaussianBlur");_.attrs.blur=v,k.id=c.createUUID(),z(M,{stdDeviation:+v||1.5}),k.appendChild(M),_.paper.defs.appendChild(k),_._blur=k,z(_.node,{filter:"url(#"+k.id+")"})}else _._blur&&(_._blur.parentNode.removeChild(_._blur),delete _._blur,delete _.attrs.blur),_.node.removeAttribute("filter");return _},c._engine.circle=function(c,v,_,k){var M=z("circle");c.canvas&&c.canvas.appendChild(M);var B=new u(M,c);return B.attrs={cx:v,cy:_,r:k,fill:"none",stroke:"#000"},B.type="circle",z(M,B.attrs),B},c._engine.rect=function(c,v,_,k,M,B){var A=z("rect");c.canvas&&c.canvas.appendChild(A);var E=new u(A,c);return E.attrs={x:v,y:_,width:k,height:M,rx:B||0,ry:B||0,fill:"none",stroke:"#000"},E.type="rect",z(A,E.attrs),E},c._engine.ellipse=function(c,v,_,k,M){var B=z("ellipse");c.canvas&&c.canvas.appendChild(B);var A=new u(B,c);return A.attrs={cx:v,cy:_,rx:k,ry:M,fill:"none",stroke:"#000"},A.type="ellipse",z(B,A.attrs),A},c._engine.image=function(c,v,_,k,M,B){var A=z("image");z(A,{x:_,y:k,width:M,height:B,preserveAspectRatio:"none"}),A.setAttributeNS(P,"href",v),c.canvas&&c.canvas.appendChild(A);var E=new u(A,c);return E.attrs={x:_,y:k,width:M,height:B,src:v},E.type="image",E},c._engine.text=function(v,_,k,M){var B=z("text");v.canvas&&v.canvas.appendChild(B);var A=new u(B,v);return A.attrs={x:_,y:k,"text-anchor":"middle",text:M,"font-family":c._availableAttrs["font-family"],"font-size":c._availableAttrs["font-size"],stroke:"none",fill:"#000"},A.type="text",Z(A,A.attrs),A},c._engine.setSize=function(c,v){return this.width=c||this.width,this.height=v||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},c._engine.create=function(){var v=c._getContainer.apply(0,arguments),_=v&&v.container,k=v.x,M=v.y,B=v.width,A=v.height;if(!_)throw new Error("SVG container not found.");var E,I=z("svg"),D="overflow:hidden;";return k=k||0,M=M||0,z(I,{height:A=A||342,version:1.1,width:B=B||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==_?(I.style.cssText=D+"position:absolute;left:"+k+"px;top:"+M+"px",c._g.doc.body.appendChild(I),E=1):(I.style.cssText=D+"position:relative",_.firstChild?_.insertBefore(I,_.firstChild):_.appendChild(I)),(_=new c._Paper).width=B,_.height=A,_.canvas=I,_.clear(),_._left=_._top=0,E&&(_.renderfix=function(){}),_.renderfix(),_},c._engine.setViewBox=function(c,v,_,k,M){q("raphael.setViewBox",this,this._viewBox,[c,v,_,k,M]);var B,E,I=this.getSize(),D=A(_/I.width,k/I.height),j=this.top,P=M?"xMidYMid meet":"xMinYMin";for(null==c?(this._vbSize&&(D=1),delete this._vbSize,B="0 0 "+this.width+N+this.height):(this._vbSize=D,B=c+N+v+N+_+N+k),z(this.canvas,{viewBox:B,preserveAspectRatio:P});D&&j;)E="stroke-width"in j.attrs?j.attrs["stroke-width"]:1,j.attr({"stroke-width":E}),j._.dirty=1,j._.dirtyT=1,j=j.prev;return this._viewBox=[c,v,_,k,!!M],this},c.prototype.renderfix=function(){var c,v=this.canvas,_=v.style;try{c=v.getScreenCTM()||v.createSVGMatrix()}catch(_){c=v.createSVGMatrix()}var k=-c.e%1,M=-c.f%1;(k||M)&&(k&&(this._left=(this._left+k)%1,_.left=this._left+"px"),M&&(this._top=(this._top+M)%1,_.top=this._top+"px"))},c.prototype.clear=function(){c.eve("raphael.clear",this);for(var v=this.canvas;v.firstChild;)v.removeChild(v.firstChild);this.bottom=this.top=null,(this.desc=z("desc")).appendChild(c._g.doc.createTextNode("Created with Raphaël "+c.version)),v.appendChild(this.desc),v.appendChild(this.defs=z("defs"))},c.prototype.remove=function(){for(var v in q("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[v]="function"==typeof this[v]?c._removedFactory(v):null};var S=c.st;for(var C in R)R[v](C)&&!S[v](C)&&(S[C]=function(c){return function(){var v=arguments;return this.forEach(function(_){_[c].apply(_,v)})}}(C))}}.apply(v,k))||(c.exports=M)},function(c,v,_){var k,M;k=[_(1)],void 0===(M=function(c){if(!c||c.vml){var v="hasOwnProperty",_=String,k=parseFloat,M=Math,B=M.round,A=M.max,E=M.min,I=M.abs,D="fill",q=/[, ]+/,j=c.eve,N=" ",P="",H={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},$=/([clmz]),?([^clmz]*)/gi,z=/ progid:\S+Blur\([^\)]+\)/g,F=/-?[^,\s-]+/g,V="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",W=21600,G={path:1,rect:1,image:1},Y={circle:1,ellipse:1},J=function(v){var k=/[ahqstv]/gi,M=c._pathToAbsolute;if(_(v).match(k)&&(M=c._path2curve),k=/[clmz]/g,M==c._pathToAbsolute&&!_(v).match(k)){var A=_(v).replace($,function(c,v,_){var k=[],M="m"==v.toLowerCase(),A=H[v];return _.replace(F,function(c){M&&2==k.length&&(A+=k+H["m"==v?"l":"L"],k=[]),k.push(B(c*W))}),A+k});return A}var E,I,D=M(v);A=[];for(var q=0,j=D.length;q<j;q++){E=D[q],"z"==(I=D[q][0].toLowerCase())&&(I="x");for(var z=1,V=E.length;z<V;z++)I+=B(E[z]*W)+(z!=V-1?",":P);A.push(I)}return A.join(N)},Z=function(v,_,k){var M=c.matrix();return M.rotate(-v,.5,.5),{dx:M.x(_,k),dy:M.y(_,k)}},Q=function(c,v,_,k,M,B){var A=c._,E=c.matrix,q=A.fillpos,j=c.node,P=j.style,H=1,$="",z=W/v,F=W/_;if(P.visibility="hidden",v&&_){if(j.coordsize=I(z)+N+I(F),P.rotation=B*(v*_<0?-1:1),B){var V=Z(B,k,M);k=V.dx,M=V.dy}if(v<0&&($+="x"),_<0&&($+=" y")&&(H=-1),P.flip=$,j.coordorigin=k*-z+N+M*-F,q||A.fillsize){var G=j.getElementsByTagName(D);G=G&&G[0],j.removeChild(G),q&&(V=Z(B,E.x(q[0],q[1]),E.y(q[0],q[1])),G.position=V.dx*H+N+V.dy*H),A.fillsize&&(G.size=A.fillsize[0]*I(v)+N+A.fillsize[1]*I(_)),j.appendChild(G)}P.visibility="visible"}};c.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var K,u=function(c,v,k){for(var M=_(v).toLowerCase().split("-"),B=k?"end":"start",A=M.length,E="classic",I="medium",D="medium";A--;)switch(M[A]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":E=M[A];break;case"wide":case"narrow":D=M[A];break;case"long":case"short":I=M[A]}var q=c.node.getElementsByTagName("stroke")[0];q[B+"arrow"]=E,q[B+"arrowlength"]=I,q[B+"arrowwidth"]=D},R=function(M,I){M.attrs=M.attrs||{};var j=M.node,H=M.attrs,$=j.style,z=G[M.type]&&(I.x!=H.x||I.y!=H.y||I.width!=H.width||I.height!=H.height||I.cx!=H.cx||I.cy!=H.cy||I.rx!=H.rx||I.ry!=H.ry||I.r!=H.r),F=Y[M.type]&&(H.cx!=I.cx||H.cy!=I.cy||H.r!=I.r||H.rx!=I.rx||H.ry!=I.ry),V=M;for(var Z in I)I[v](Z)&&(H[Z]=I[Z]);if(z&&(H.path=c._getPath[M.type](M),M._.dirty=1),I.href&&(j.href=I.href),I.title&&(j.title=I.title),I.target&&(j.target=I.target),I.cursor&&($.cursor=I.cursor),"blur"in I&&M.blur(I.blur),(I.path&&"path"==M.type||z)&&(j.path=J(~_(H.path).toLowerCase().indexOf("r")?c._pathToAbsolute(H.path):H.path),M._.dirty=1,"image"==M.type&&(M._.fillpos=[H.x,H.y],M._.fillsize=[H.width,H.height],Q(M,1,1,0,0,0))),"transform"in I&&M.transform(I.transform),F){var R=+H.cx,C=+H.cy,O=+H.rx||+H.r||0,U=+H.ry||+H.r||0;j.path=c.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",B((R-O)*W),B((C-U)*W),B((R+O)*W),B((C+U)*W),B(R*W)),M._.dirty=1}if("clip-rect"in I){var w=_(I["clip-rect"]).split(q);if(4==w.length){w[2]=+w[2]+ +w[0],w[3]=+w[3]+ +w[1];var d=j.clipRect||c._g.doc.createElement("div"),X=d.style;X.clip=c.format("rect({1}px {2}px {3}px {0}px)",w),j.clipRect||(X.position="absolute",X.top=0,X.left=0,X.width=M.paper.width+"px",X.height=M.paper.height+"px",j.parentNode.insertBefore(d,j),d.appendChild(j),j.clipRect=d)}I["clip-rect"]||j.clipRect&&(j.clipRect.style.clip="auto")}if(M.textpath){var x=M.textpath.style;I.font&&(x.font=I.font),I["font-family"]&&(x.fontFamily='"'+I["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,P)+'"'),I["font-size"]&&(x.fontSize=I["font-size"]),I["font-weight"]&&(x.fontWeight=I["font-weight"]),I["font-style"]&&(x.fontStyle=I["font-style"])}if("arrow-start"in I&&u(V,I["arrow-start"]),"arrow-end"in I&&u(V,I["arrow-end"],1),null!=I.opacity||null!=I.fill||null!=I.src||null!=I.stroke||null!=I["stroke-width"]||null!=I["stroke-opacity"]||null!=I["fill-opacity"]||null!=I["stroke-dasharray"]||null!=I["stroke-miterlimit"]||null!=I["stroke-linejoin"]||null!=I["stroke-linecap"]){var a=j.getElementsByTagName(D);if(!(a=a&&a[0])&&(a=K(D)),"image"==M.type&&I.src&&(a.src=I.src),I.fill&&(a.on=!0),null!=a.on&&"none"!=I.fill&&null!==I.fill||(a.on=!1),a.on&&I.fill){var f=_(I.fill).match(c._ISURL);if(f){a.parentNode==j&&j.removeChild(a),a.rotate=!0,a.src=f[1],a.type="tile";var r=M.getBBox(1);a.position=r.x+N+r.y,M._.fillpos=[r.x,r.y],c._preload(f[1],function(){M._.fillsize=[this.offsetWidth,this.offsetHeight]})}else a.color=c.getRGB(I.fill).hex,a.src=P,a.type="solid",c.getRGB(I.fill).error&&(V.type in{circle:1,ellipse:1}||"r"!=_(I.fill).charAt())&&S(V,I.fill,a)&&(H.fill="none",H.gradient=I.fill,a.rotate=!1)}if("fill-opacity"in I||"opacity"in I){var T=((+H["fill-opacity"]+1||2)-1)*((+H.opacity+1||2)-1)*((+c.getRGB(I.fill).o+1||2)-1);T=E(A(T,0),1),a.opacity=T,a.src&&(a.color="none")}j.appendChild(a);var p=j.getElementsByTagName("stroke")&&j.getElementsByTagName("stroke")[0],L=!1;!p&&(L=p=K("stroke")),(I.stroke&&"none"!=I.stroke||I["stroke-width"]||null!=I["stroke-opacity"]||I["stroke-dasharray"]||I["stroke-miterlimit"]||I["stroke-linejoin"]||I["stroke-linecap"])&&(p.on=!0),("none"==I.stroke||null===I.stroke||null==p.on||0==I.stroke||0==I["stroke-width"])&&(p.on=!1);var h=c.getRGB(I.stroke);p.on&&I.stroke&&(p.color=h.hex),T=((+H["stroke-opacity"]+1||2)-1)*((+H.opacity+1||2)-1)*((+h.o+1||2)-1);var y=.75*(k(I["stroke-width"])||1);if(T=E(A(T,0),1),null==I["stroke-width"]&&(y=H["stroke-width"]),I["stroke-width"]&&(p.weight=y),y&&y<1&&(T*=y)&&(p.weight=1),p.opacity=T,I["stroke-linejoin"]&&(p.joinstyle=I["stroke-linejoin"]||"miter"),p.miterlimit=I["stroke-miterlimit"]||8,I["stroke-linecap"]&&(p.endcap="butt"==I["stroke-linecap"]?"flat":"square"==I["stroke-linecap"]?"square":"round"),"stroke-dasharray"in I){var s={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};p.dashstyle=s[v](I["stroke-dasharray"])?s[I["stroke-dasharray"]]:P}L&&j.appendChild(p)}if("text"==V.type){V.paper.canvas.style.display=P;var g=V.paper.span,b=H.font&&H.font.match(/\d+(?:\.\d*)?(?=px)/);$=g.style,H.font&&($.font=H.font),H["font-family"]&&($.fontFamily=H["font-family"]),H["font-weight"]&&($.fontWeight=H["font-weight"]),H["font-style"]&&($.fontStyle=H["font-style"]),b=k(H["font-size"]||b&&b[0])||10,$.fontSize=100*b+"px",V.textpath.string&&(g.innerHTML=_(V.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var m=g.getBoundingClientRect();V.W=H.w=(m.right-m.left)/100,V.H=H.h=(m.bottom-m.top)/100,V.X=H.x,V.Y=H.y+V.H/2,("x"in I||"y"in I)&&(V.path.v=c.format("m{0},{1}l{2},{1}",B(H.x*W),B(H.y*W),B(H.x*W)+1));for(var i=["x","y","text","font","font-family","font-weight","font-style","font-size"],n=0,t=i.length;n<t;n++)if(i[n]in I){V._.dirty=1;break}switch(H["text-anchor"]){case"start":V.textpath.style["v-text-align"]="left",V.bbx=V.W/2;break;case"end":V.textpath.style["v-text-align"]="right",V.bbx=-V.W/2;break;default:V.textpath.style["v-text-align"]="center",V.bbx=0}V.textpath.style["v-text-kern"]=!0}},S=function(v,B,A){v.attrs=v.attrs||{};v.attrs;var E=Math.pow,I="linear",D=".5 .5";if(v.attrs.gradient=B,B=(B=_(B).replace(c._radial_gradient,function(c,v,_){return I="radial",v&&_&&(v=k(v),_=k(_),E(v-.5,2)+E(_-.5,2)>.25&&(_=M.sqrt(.25-E(v-.5,2))*(2*(_>.5)-1)+.5),D=v+N+_),P})).split(/\s*\-\s*/),"linear"==I){var q=B.shift();if(q=-k(q),isNaN(q))return null}var j=c._parseDots(B);if(!j)return null;if(v=v.shape||v.node,j.length){v.removeChild(A),A.on=!0,A.method="none",A.color=j[0].color,A.color2=j[j.length-1].color;for(var H=[],$=0,z=j.length;$<z;$++)j[$].offset&&H.push(j[$].offset+N+j[$].color);A.colors=H.length?H.join():"0% "+A.color,"radial"==I?(A.type="gradientTitle",A.focus="100%",A.focussize="0 0",A.focusposition=D,A.angle=0):(A.type="gradient",A.angle=(270-q)%360),v.appendChild(A)}return 1},C=function(v,_){this[0]=this.node=v,v.raphael=!0,this.id=c._oid++,v.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=_,this.matrix=c.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!_.bottom&&(_.bottom=this),this.prev=_.top,_.top&&(_.top.next=this),_.top=this,this.next=null},O=c.el;C.prototype=O,O.constructor=C,O.transform=function(v){if(null==v)return this._.transform;var k,M=this.paper._viewBoxShift,B=M?"s"+[M.scale,M.scale]+"-1-1t"+[M.dx,M.dy]:P;M&&(k=v=_(v).replace(/\.{3}|\u2026/g,this._.transform||P)),c._extractTransform(this,B+v);var A,E=this.matrix.clone(),I=this.skew,D=this.node,q=~_(this.attrs.fill).indexOf("-"),j=!_(this.attrs.fill).indexOf("url(");if(E.translate(1,1),j||q||"image"==this.type)if(I.matrix="1 0 0 1",I.offset="0 0",A=E.split(),q&&A.noRotation||!A.isSimple){D.style.filter=E.toFilter();var H=this.getBBox(),$=this.getBBox(1),z=H.x-$.x,F=H.y-$.y;D.coordorigin=z*-W+N+F*-W,Q(this,1,1,z,F,0)}else D.style.filter=P,Q(this,A.scalex,A.scaley,A.dx,A.dy,A.rotate);else D.style.filter=P,I.matrix=_(E),I.offset=E.offset();return null!==k&&(this._.transform=k,c._extractTransform(this,k)),this},O.rotate=function(c,v,M){if(this.removed)return this;if(null!=c){if((c=_(c).split(q)).length-1&&(v=k(c[1]),M=k(c[2])),c=k(c[0]),null==M&&(v=M),null==v||null==M){var B=this.getBBox(1);v=B.x+B.width/2,M=B.y+B.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",c,v,M]])),this}},O.translate=function(c,v){return this.removed?this:((c=_(c).split(q)).length-1&&(v=k(c[1])),c=k(c[0])||0,v=+v||0,this._.bbox&&(this._.bbox.x+=c,this._.bbox.y+=v),this.transform(this._.transform.concat([["t",c,v]])),this)},O.scale=function(c,v,M,B){if(this.removed)return this;if((c=_(c).split(q)).length-1&&(v=k(c[1]),M=k(c[2]),B=k(c[3]),isNaN(M)&&(M=null),isNaN(B)&&(B=null)),c=k(c[0]),null==v&&(v=c),null==B&&(M=B),null==M||null==B)var A=this.getBBox(1);return M=null==M?A.x+A.width/2:M,B=null==B?A.y+A.height/2:B,this.transform(this._.transform.concat([["s",c,v,M,B]])),this._.dirtyT=1,this},O.hide=function(){return!this.removed&&(this.node.style.display="none"),this},O.show=function(){return!this.removed&&(this.node.style.display=P),this},O.auxGetBBox=c.el.getBBox,O.getBBox=function(){var c=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var v={},_=1/this.paper._viewBoxShift.scale;return v.x=c.x-this.paper._viewBoxShift.dx,v.x*=_,v.y=c.y-this.paper._viewBoxShift.dy,v.y*=_,v.width=c.width*_,v.height=c.height*_,v.x2=v.x+v.width,v.y2=v.y+v.height,v}return c},O._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},O.remove=function(){if(!this.removed&&this.node.parentNode){for(var v in this.paper.__set__&&this.paper.__set__.exclude(this),c.eve.unbind("raphael.*.*."+this.id),c._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[v]="function"==typeof this[v]?c._removedFactory(v):null;this.removed=!0}},O.attr=function(_,k){if(this.removed)return this;if(null==_){var M={};for(var B in this.attrs)this.attrs[v](B)&&(M[B]=this.attrs[B]);return M.gradient&&"none"==M.fill&&(M.fill=M.gradient)&&delete M.gradient,M.transform=this._.transform,M}if(null==k&&c.is(_,"string")){if(_==D&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var A=_.split(q),E={},I=0,N=A.length;I<N;I++)(_=A[I])in this.attrs?E[_]=this.attrs[_]:c.is(this.paper.customAttributes[_],"function")?E[_]=this.paper.customAttributes[_].def:E[_]=c._availableAttrs[_];return N-1?E:E[A[0]]}if(this.attrs&&null==k&&c.is(_,"array")){for(E={},I=0,N=_.length;I<N;I++)E[_[I]]=this.attr(_[I]);return E}var P;for(var H in null!=k&&((P={})[_]=k),null==k&&c.is(_,"object")&&(P=_),P)j("raphael.attr."+H+"."+this.id,this,P[H]);if(P){for(H in this.paper.customAttributes)if(this.paper.customAttributes[v](H)&&P[v](H)&&c.is(this.paper.customAttributes[H],"function")){var $=this.paper.customAttributes[H].apply(this,[].concat(P[H]));for(var z in this.attrs[H]=P[H],$)$[v](z)&&(P[z]=$[z])}P.text&&"text"==this.type&&(this.textpath.string=P.text),R(this,P)}return this},O.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&c._tofront(this,this.paper),this},O.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),c._toback(this,this.paper)),this)},O.insertAfter=function(v){return this.removed?this:(v.constructor==c.st.constructor&&(v=v[v.length-1]),v.node.nextSibling?v.node.parentNode.insertBefore(this.node,v.node.nextSibling):v.node.parentNode.appendChild(this.node),c._insertafter(this,v,this.paper),this)},O.insertBefore=function(v){return this.removed?this:(v.constructor==c.st.constructor&&(v=v[0]),v.node.parentNode.insertBefore(this.node,v.node),c._insertbefore(this,v,this.paper),this)},O.blur=function(v){var _=this.node.runtimeStyle,k=_.filter;return k=k.replace(z,P),0!=+v?(this.attrs.blur=v,_.filter=k+N+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+v||1.5)+")",_.margin=c.format("-{0}px 0 0 -{0}px",B(+v||1.5))):(_.filter=k,_.margin=0,delete this.attrs.blur),this},c._engine.path=function(c,v){var _=K("shape");_.style.cssText=V,_.coordsize=W+N+W,_.coordorigin=v.coordorigin;var k=new C(_,v),M={fill:"none",stroke:"#000"};c&&(M.path=c),k.type="path",k.path=[],k.Path=P,R(k,M),v.canvas&&v.canvas.appendChild(_);var B=K("skew");return B.on=!0,_.appendChild(B),k.skew=B,k.transform(P),k},c._engine.rect=function(v,_,k,M,B,A){var E=c._rectPath(_,k,M,B,A),I=v.path(E),D=I.attrs;return I.X=D.x=_,I.Y=D.y=k,I.W=D.width=M,I.H=D.height=B,D.r=A,D.path=E,I.type="rect",I},c._engine.ellipse=function(c,v,_,k,M){var B=c.path();B.attrs;return B.X=v-k,B.Y=_-M,B.W=2*k,B.H=2*M,B.type="ellipse",R(B,{cx:v,cy:_,rx:k,ry:M}),B},c._engine.circle=function(c,v,_,k){var M=c.path();M.attrs;return M.X=v-k,M.Y=_-k,M.W=M.H=2*k,M.type="circle",R(M,{cx:v,cy:_,r:k}),M},c._engine.image=function(v,_,k,M,B,A){var E=c._rectPath(k,M,B,A),I=v.path(E).attr({stroke:"none"}),q=I.attrs,j=I.node,N=j.getElementsByTagName(D)[0];return q.src=_,I.X=q.x=k,I.Y=q.y=M,I.W=q.width=B,I.H=q.height=A,q.path=E,I.type="image",N.parentNode==j&&j.removeChild(N),N.rotate=!0,N.src=_,N.type="tile",I._.fillpos=[k,M],I._.fillsize=[B,A],j.appendChild(N),Q(I,1,1,0,0,0),I},c._engine.text=function(v,k,M,A){var E=K("shape"),I=K("path"),D=K("textpath");k=k||0,M=M||0,A=A||"",I.v=c.format("m{0},{1}l{2},{1}",B(k*W),B(M*W),B(k*W)+1),I.textpathok=!0,D.string=_(A),D.on=!0,E.style.cssText=V,E.coordsize=W+N+W,E.coordorigin="0 0";var q=new C(E,v),j={fill:"#000",stroke:"none",font:c._availableAttrs.font,text:A};q.shape=E,q.path=I,q.textpath=D,q.type="text",q.attrs.text=_(A),q.attrs.x=k,q.attrs.y=M,q.attrs.w=1,q.attrs.h=1,R(q,j),E.appendChild(D),E.appendChild(I),v.canvas.appendChild(E);var H=K("skew");return H.on=!0,E.appendChild(H),q.skew=H,q.transform(P),q},c._engine.setSize=function(v,_){var k=this.canvas.style;return this.width=v,this.height=_,v==+v&&(v+="px"),_==+_&&(_+="px"),k.width=v,k.height=_,k.clip="rect(0 "+v+" "+_+" 0)",this._viewBox&&c._engine.setViewBox.apply(this,this._viewBox),this},c._engine.setViewBox=function(v,_,k,M,B){c.eve("raphael.setViewBox",this,this._viewBox,[v,_,k,M,B]);var A,E,I=this.getSize(),D=I.width,q=I.height;return B&&(k*(A=q/M)<D&&(v-=(D-k*A)/2/A),M*(E=D/k)<q&&(_-=(q-M*E)/2/E)),this._viewBox=[v,_,k,M,!!B],this._viewBoxShift={dx:-v,dy:-_,scale:I},this.forEach(function(c){c.transform("...")}),this},c._engine.initWin=function(c){var v=c.document;v.styleSheets.length<31?v.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):v.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!v.namespaces.rvml&&v.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),K=function(c){return v.createElement("<rvml:"+c+' class="rvml">')}}catch(c){K=function(c){return v.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},c._engine.initWin(c._g.win),c._engine.create=function(){var v=c._getContainer.apply(0,arguments),_=v.container,k=v.height,M=v.width,B=v.x,A=v.y;if(!_)throw new Error("VML container not found.");var E=new c._Paper,I=E.canvas=c._g.doc.createElement("div"),D=I.style;return B=B||0,A=A||0,M=M||512,k=k||342,E.width=M,E.height=k,M==+M&&(M+="px"),k==+k&&(k+="px"),E.coordsize=216e5+N+216e5,E.coordorigin="0 0",E.span=c._g.doc.createElement("span"),E.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",I.appendChild(E.span),D.cssText=c.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",M,k),1==_?(c._g.doc.body.appendChild(I),D.left=B+"px",D.top=A+"px",D.position="absolute"):_.firstChild?_.insertBefore(I,_.firstChild):_.appendChild(I),E.renderfix=function(){},E},c.prototype.clear=function(){c.eve("raphael.clear",this),this.canvas.innerHTML=P,this.span=c._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},c.prototype.remove=function(){for(var v in c.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[v]="function"==typeof this[v]?c._removedFactory(v):null;return!0};var U=c.st;for(var w in O)O[v](w)&&!U[v](w)&&(U[w]=function(c){return function(){var v=arguments;return this.forEach(function(_){_[c].apply(_,v)})}}(w))}}.apply(v,k))||(c.exports=M)}])},c.exports=k()},function(c,v){c.exports={x:0,y:0,"line-width":3,"line-length":50,"text-margin":10,"font-size":14,"font-color":"black","line-color":"black","element-color":"black",fill:"white","yes-text":"yes","no-text":"no","arrow-end":"block",class:"flowchart",scale:1,symbols:{start:{},end:{},condition:{},inputoutput:{},operation:{},subroutine:{},parallel:{}}}},function(c,v,_){var k=_(1);function M(c,v){var _=c.paper.rect(0,0,0,0,20);(v=v||{}).text=v.text||"Start",k.call(this,c,v,_)}(0,_(0).inherits)(M,k),c.exports=M},function(c,v,_){var k=_(1);function M(c,v){var _=c.paper.rect(0,0,0,0,20);(v=v||{}).text=v.text||"End",k.call(this,c,v,_)}(0,_(0).inherits)(M,k),c.exports=M},function(c,v,_){var k=_(1);function M(c,v){var _=c.paper.rect(0,0,0,0);v=v||{},k.call(this,c,v,_)}(0,_(0).inherits)(M,k),c.exports=M},function(c,v,_){var k=_(1),M=_(0).inherits,B=_(2).drawPath;function A(c,v){v=v||{},k.call(this,c,v),this.textMargin=this.getAttr("text-margin"),this.text.attr({x:3*this.textMargin});var _=this.text.getBBox().width+4*this.textMargin,M=this.text.getBBox().height+2*this.textMargin,A=this.textMargin,E=M/2,I={x:A,y:E},D=[{x:A-this.textMargin,y:M},{x:A-this.textMargin+_,y:M},{x:A-this.textMargin+_+2*this.textMargin,y:0},{x:A-this.textMargin+2*this.textMargin,y:0},{x:A,y:E}],q=B(c,I,D);q.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),v.link&&q.attr("href",v.link),v.target&&q.attr("target",v.target),v.key&&(q.node.id=v.key),q.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:q.getBBox().height/2}),this.group.push(q),q.insertBefore(this.text),this.initialize()}M(A,k),A.prototype.getLeft=function(){var c=this.getY()+this.group.getBBox().height/2;return{x:this.getX()+this.textMargin,y:c}},A.prototype.getRight=function(){var c=this.getY()+this.group.getBBox().height/2;return{x:this.getX()+this.group.getBBox().width-this.textMargin,y:c}},c.exports=A},function(c,v,_){var k=_(1);function M(c,v){var _=c.paper.rect(0,0,0,0);v=v||{},k.call(this,c,v,_),_.attr({width:this.text.getBBox().width+4*this.getAttr("text-margin")}),this.text.attr({x:2*this.getAttr("text-margin")});var M=c.paper.rect(0,0,0,0);M.attr({x:this.getAttr("text-margin"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*this.getAttr("text-margin"),height:this.text.getBBox().height+2*this.getAttr("text-margin"),fill:this.getAttr("fill")}),v.key&&(M.node.id=v.key+"i");var B=this.getAttr("font"),A=this.getAttr("font-family"),E=this.getAttr("font-weight");B&&M.attr({font:B}),A&&M.attr({"font-family":A}),E&&M.attr({"font-weight":E}),v.link&&M.attr("href",v.link),v.target&&M.attr("target",v.target),this.group.push(M),M.insertBefore(this.text),this.initialize()}(0,_(0).inherits)(M,k),c.exports=M},function(c,v,_){if("undefined"!=typeof jQuery){var k=_(3);(M=jQuery).fn.flowChart=function(c){return this.each(function(){var v=M(this),_=k(v.text());v.html(""),_.drawSVG(this,c)})}}var M},function(c,v){var _;!function(){function c(c){this.mode=k.MODE_8BIT_BYTE,this.data=c,this.parsedData=[];for(var v=0,_=this.data.length;v<_;v++){var M=[],B=this.data.charCodeAt(v);B>65536?(M[0]=240|(1835008&B)>>>18,M[1]=128|(258048&B)>>>12,M[2]=128|(4032&B)>>>6,M[3]=128|63&B):B>2048?(M[0]=224|(61440&B)>>>12,M[1]=128|(4032&B)>>>6,M[2]=128|63&B):B>128?(M[0]=192|(1984&B)>>>6,M[1]=128|63&B):M[0]=B,this.parsedData.push(M)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function v(c,v){this.typeNumber=c,this.errorCorrectLevel=v,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}c.prototype={getLength:function(c){return this.parsedData.length},write:function(c){for(var v=0,_=this.parsedData.length;v<_;v++)c.put(this.parsedData[v],8)}},v.prototype={addData:function(v){var _=new c(v);this.dataList.push(_),this.dataCache=null},isDark:function(c,v){if(c<0||this.moduleCount<=c||v<0||this.moduleCount<=v)throw new Error(c+","+v);return this.modules[c][v]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(c,_){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var k=0;k<this.moduleCount;k++){this.modules[k]=new Array(this.moduleCount);for(var M=0;M<this.moduleCount;M++)this.modules[k][M]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(c,_),this.typeNumber>=7&&this.setupTypeNumber(c),null==this.dataCache&&(this.dataCache=v.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_)},setupPositionProbePattern:function(c,v){for(var _=-1;_<=7;_++)if(!(c+_<=-1||this.moduleCount<=c+_))for(var k=-1;k<=7;k++)v+k<=-1||this.moduleCount<=v+k||(this.modules[c+_][v+k]=0<=_&&_<=6&&(0==k||6==k)||0<=k&&k<=6&&(0==_||6==_)||2<=_&&_<=4&&2<=k&&k<=4)},getBestMaskPattern:function(){for(var c=0,v=0,_=0;_<8;_++){this.makeImpl(!0,_);var k=P.getLostPoint(this);(0==_||c>k)&&(c=k,v=_)}return v},createMovieClip:function(c,v,_){var k=c.createEmptyMovieClip(v,_);this.make();for(var M=0;M<this.modules.length;M++)for(var B=1*M,A=0;A<this.modules[M].length;A++){var E=1*A;this.modules[M][A]&&(k.beginFill(0,100),k.moveTo(E,B),k.lineTo(E+1,B),k.lineTo(E+1,B+1),k.lineTo(E,B+1),k.endFill())}return k},setupTimingPattern:function(){for(var c=8;c<this.moduleCount-8;c++)null==this.modules[c][6]&&(this.modules[c][6]=c%2==0);for(var v=8;v<this.moduleCount-8;v++)null==this.modules[6][v]&&(this.modules[6][v]=v%2==0)},setupPositionAdjustPattern:function(){for(var c=P.getPatternPosition(this.typeNumber),v=0;v<c.length;v++)for(var _=0;_<c.length;_++){var k=c[v],M=c[_];if(null==this.modules[k][M])for(var B=-2;B<=2;B++)for(var A=-2;A<=2;A++)this.modules[k+B][M+A]=-2==B||2==B||-2==A||2==A||0==B&&0==A}},setupTypeNumber:function(c){for(var v=P.getBCHTypeNumber(this.typeNumber),_=0;_<18;_++){var k=!c&&1==(v>>_&1);this.modules[Math.floor(_/3)][_%3+this.moduleCount-8-3]=k}for(_=0;_<18;_++){k=!c&&1==(v>>_&1);this.modules[_%3+this.moduleCount-8-3][Math.floor(_/3)]=k}},setupTypeInfo:function(c,v){for(var _=this.errorCorrectLevel<<3|v,k=P.getBCHTypeInfo(_),M=0;M<15;M++){var B=!c&&1==(k>>M&1);M<6?this.modules[M][8]=B:M<8?this.modules[M+1][8]=B:this.modules[this.moduleCount-15+M][8]=B}for(M=0;M<15;M++){B=!c&&1==(k>>M&1);M<8?this.modules[8][this.moduleCount-M-1]=B:M<9?this.modules[8][15-M-1+1]=B:this.modules[8][15-M-1]=B}this.modules[this.moduleCount-8][8]=!c},mapData:function(c,v){for(var _=-1,k=this.moduleCount-1,M=7,B=0,A=this.moduleCount-1;A>0;A-=2)for(6==A&&A--;;){for(var E=0;E<2;E++)if(null==this.modules[k][A-E]){var I=!1;B<c.length&&(I=1==(c[B]>>>M&1)),P.getMask(v,k,A-E)&&(I=!I),this.modules[k][A-E]=I,-1==--M&&(B++,M=7)}if((k+=_)<0||this.moduleCount<=k){k-=_,_=-_;break}}}},v.PAD0=236,v.PAD1=17,v.createData=function(c,_,k){for(var M=F.getRSBlocks(c,_),B=new V,A=0;A<k.length;A++){var E=k[A];B.put(E.mode,4),B.put(E.getLength(),P.getLengthInBits(E.mode,c)),E.write(B)}var I=0;for(A=0;A<M.length;A++)I+=M[A].dataCount;if(B.getLengthInBits()>8*I)throw new Error("code length overflow. ("+B.getLengthInBits()+">"+8*I+")");for(B.getLengthInBits()+4<=8*I&&B.put(0,4);B.getLengthInBits()%8!=0;)B.putBit(!1);for(;!(B.getLengthInBits()>=8*I||(B.put(v.PAD0,8),B.getLengthInBits()>=8*I));)B.put(v.PAD1,8);return v.createBytes(B,M)},v.createBytes=function(c,v){for(var _=0,k=0,M=0,B=new Array(v.length),A=new Array(v.length),E=0;E<v.length;E++){var I=v[E].dataCount,D=v[E].totalCount-I;k=Math.max(k,I),M=Math.max(M,D),B[E]=new Array(I);for(var q=0;q<B[E].length;q++)B[E][q]=255&c.buffer[q+_];_+=I;var j=P.getErrorCorrectPolynomial(D),N=new z(B[E],j.getLength()-1).mod(j);A[E]=new Array(j.getLength()-1);for(q=0;q<A[E].length;q++){var H=q+N.getLength()-A[E].length;A[E][q]=H>=0?N.get(H):0}}var $=0;for(q=0;q<v.length;q++)$+=v[q].totalCount;var F=new Array($),V=0;for(q=0;q<k;q++)for(E=0;E<v.length;E++)q<B[E].length&&(F[V++]=B[E][q]);for(q=0;q<M;q++)for(E=0;E<v.length;E++)q<A[E].length&&(F[V++]=A[E][q]);return F};for(var k={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},M={L:1,M:0,Q:3,H:2},B=0,A=1,E=2,I=3,D=4,q=5,j=6,N=7,P={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(c){for(var v=c<<10;P.getBCHDigit(v)-P.getBCHDigit(P.G15)>=0;)v^=P.G15<<P.getBCHDigit(v)-P.getBCHDigit(P.G15);return(c<<10|v)^P.G15_MASK},getBCHTypeNumber:function(c){for(var v=c<<12;P.getBCHDigit(v)-P.getBCHDigit(P.G18)>=0;)v^=P.G18<<P.getBCHDigit(v)-P.getBCHDigit(P.G18);return c<<12|v},getBCHDigit:function(c){for(var v=0;0!=c;)v++,c>>>=1;return v},getPatternPosition:function(c){return P.PATTERN_POSITION_TABLE[c-1]},getMask:function(c,v,_){switch(c){case B:return(v+_)%2==0;case A:return v%2==0;case E:return _%3==0;case I:return(v+_)%3==0;case D:return(Math.floor(v/2)+Math.floor(_/3))%2==0;case q:return v*_%2+v*_%3==0;case j:return(v*_%2+v*_%3)%2==0;case N:return(v*_%3+(v+_)%2)%2==0;default:throw new Error("bad maskPattern:"+c)}},getErrorCorrectPolynomial:function(c){for(var v=new z([1],0),_=0;_<c;_++)v=v.multiply(new z([1,H.gexp(_)],0));return v},getLengthInBits:function(c,v){if(1<=v&&v<10)switch(c){case k.MODE_NUMBER:return 10;case k.MODE_ALPHA_NUM:return 9;case k.MODE_8BIT_BYTE:case k.MODE_KANJI:return 8;default:throw new Error("mode:"+c)}else if(v<27)switch(c){case k.MODE_NUMBER:return 12;case k.MODE_ALPHA_NUM:return 11;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 10;default:throw new Error("mode:"+c)}else{if(!(v<41))throw new Error("type:"+v);switch(c){case k.MODE_NUMBER:return 14;case k.MODE_ALPHA_NUM:return 13;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 12;default:throw new Error("mode:"+c)}}},getLostPoint:function(c){for(var v=c.getModuleCount(),_=0,k=0;k<v;k++)for(var M=0;M<v;M++){for(var B=0,A=c.isDark(k,M),E=-1;E<=1;E++)if(!(k+E<0||v<=k+E))for(var I=-1;I<=1;I++)M+I<0||v<=M+I||0==E&&0==I||A==c.isDark(k+E,M+I)&&B++;B>5&&(_+=3+B-5)}for(k=0;k<v-1;k++)for(M=0;M<v-1;M++){var D=0;c.isDark(k,M)&&D++,c.isDark(k+1,M)&&D++,c.isDark(k,M+1)&&D++,c.isDark(k+1,M+1)&&D++,0!=D&&4!=D||(_+=3)}for(k=0;k<v;k++)for(M=0;M<v-6;M++)c.isDark(k,M)&&!c.isDark(k,M+1)&&c.isDark(k,M+2)&&c.isDark(k,M+3)&&c.isDark(k,M+4)&&!c.isDark(k,M+5)&&c.isDark(k,M+6)&&(_+=40);for(M=0;M<v;M++)for(k=0;k<v-6;k++)c.isDark(k,M)&&!c.isDark(k+1,M)&&c.isDark(k+2,M)&&c.isDark(k+3,M)&&c.isDark(k+4,M)&&!c.isDark(k+5,M)&&c.isDark(k+6,M)&&(_+=40);var q=0;for(M=0;M<v;M++)for(k=0;k<v;k++)c.isDark(k,M)&&q++;return _+=10*(Math.abs(100*q/v/v-50)/5)}},H={glog:function(c){if(c<1)throw new Error("glog("+c+")");return H.LOG_TABLE[c]},gexp:function(c){for(;c<0;)c+=255;for(;c>=256;)c-=255;return H.EXP_TABLE[c]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},$=0;$<8;$++)H.EXP_TABLE[$]=1<<$;for($=8;$<256;$++)H.EXP_TABLE[$]=H.EXP_TABLE[$-4]^H.EXP_TABLE[$-5]^H.EXP_TABLE[$-6]^H.EXP_TABLE[$-8];for($=0;$<255;$++)H.LOG_TABLE[H.EXP_TABLE[$]]=$;function z(c,v){if(null==c.length)throw new Error(c.length+"/"+v);for(var _=0;_<c.length&&0==c[_];)_++;this.num=new Array(c.length-_+v);for(var k=0;k<c.length-_;k++)this.num[k]=c[k+_]}function F(c,v){this.totalCount=c,this.dataCount=v}function V(){this.buffer=[],this.length=0}z.prototype={get:function(c){return this.num[c]},getLength:function(){return this.num.length},multiply:function(c){for(var v=new Array(this.getLength()+c.getLength()-1),_=0;_<this.getLength();_++)for(var k=0;k<c.getLength();k++)v[_+k]^=H.gexp(H.glog(this.get(_))+H.glog(c.get(k)));return new z(v,0)},mod:function(c){if(this.getLength()-c.getLength()<0)return this;for(var v=H.glog(this.get(0))-H.glog(c.get(0)),_=new Array(this.getLength()),k=0;k<this.getLength();k++)_[k]=this.get(k);for(k=0;k<c.getLength();k++)_[k]^=H.gexp(H.glog(c.get(k))+v);return new z(_,0).mod(c)}},F.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],F.getRSBlocks=function(c,v){var _=F.getRsBlockTable(c,v);if(null==_)throw new Error("bad rs block @ typeNumber:"+c+"/errorCorrectLevel:"+v);for(var k=_.length/3,M=[],B=0;B<k;B++)for(var A=_[3*B+0],E=_[3*B+1],I=_[3*B+2],D=0;D<A;D++)M.push(new F(E,I));return M},F.getRsBlockTable=function(c,v){switch(v){case M.L:return F.RS_BLOCK_TABLE[4*(c-1)+0];case M.M:return F.RS_BLOCK_TABLE[4*(c-1)+1];case M.Q:return F.RS_BLOCK_TABLE[4*(c-1)+2];case M.H:return F.RS_BLOCK_TABLE[4*(c-1)+3];default:return}},V.prototype={get:function(c){var v=Math.floor(c/8);return 1==(this.buffer[v]>>>7-c%8&1)},put:function(c,v){for(var _=0;_<v;_++)this.putBit(1==(c>>>v-_-1&1))},getLengthInBits:function(){return this.length},putBit:function(c){var v=Math.floor(this.length/8);this.buffer.length<=v&&this.buffer.push(0),c&&(this.buffer[v]|=128>>>this.length%8),this.length++}};var W=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function G(){var c=!1,v=navigator.userAgent;if(/android/i.test(v)){c=!0;var _=v.toString().match(/android ([0-9]\.[0-9])/i);_&&_[1]&&(c=parseFloat(_[1]))}return c}var Y=function(){var c=function(c,v){this._el=c,this._htOption=v};return c.prototype.draw=function(c){var v=this._htOption,_=this._el,k=c.getModuleCount();Math.floor(v.width/k),Math.floor(v.height/k);function M(c,v){var _=document.createElementNS("http://www.w3.org/2000/svg",c);for(var k in v)v.hasOwnProperty(k)&&_.setAttribute(k,v[k]);return _}this.clear();var B=M("svg",{viewBox:"0 0 "+String(k)+" "+String(k),width:"100%",height:"100%",fill:v.colorLight});B.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),_.appendChild(B),B.appendChild(M("rect",{fill:v.colorLight,width:"100%",height:"100%"})),B.appendChild(M("rect",{fill:v.colorDark,width:"1",height:"1",id:"template"}));for(var A=0;A<k;A++)for(var E=0;E<k;E++)if(c.isDark(A,E)){var I=M("use",{x:String(E),y:String(A)});I.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),B.appendChild(I)}},c.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},c}(),J="svg"===document.documentElement.tagName.toLowerCase()?Y:"undefined"==typeof CanvasRenderingContext2D?function(){var c=function(c,v){this._el=c,this._htOption=v};return c.prototype.draw=function(c){for(var v=this._htOption,_=this._el,k=c.getModuleCount(),M=Math.floor(v.width/k),B=Math.floor(v.height/k),A=['<table style="border:0;border-collapse:collapse;">'],E=0;E<k;E++){A.push("<tr>");for(var I=0;I<k;I++)A.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+M+"px;height:"+B+"px;background-color:"+(c.isDark(E,I)?v.colorDark:v.colorLight)+';"></td>');A.push("</tr>")}A.push("</table>"),_.innerHTML=A.join("");var D=_.childNodes[0],q=(v.width-D.offsetWidth)/2,j=(v.height-D.offsetHeight)/2;q>0&&j>0&&(D.style.margin=j+"px "+q+"px")},c.prototype.clear=function(){this._el.innerHTML=""},c}():function(){function c(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var v=1/window.devicePixelRatio,_=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(c,k,M,B,A,E,I,D,q){if("nodeName"in c&&/img/i.test(c.nodeName))for(var j=arguments.length-1;j>=1;j--)arguments[j]=arguments[j]*v;else void 0===D&&(arguments[1]*=v,arguments[2]*=v,arguments[3]*=v,arguments[4]*=v);_.apply(this,arguments)}}var k=function(c,v){this._bIsPainted=!1,this._android=G(),this._htOption=v,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=v.width,this._elCanvas.height=v.height,c.appendChild(this._elCanvas),this._el=c,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return k.prototype.draw=function(c){var v=this._elImage,_=this._oContext,k=this._htOption,M=c.getModuleCount(),B=k.width/M,A=k.height/M,E=Math.round(B),I=Math.round(A);v.style.display="none",this.clear();for(var D=0;D<M;D++)for(var q=0;q<M;q++){var j=c.isDark(D,q),N=q*B,P=D*A;_.strokeStyle=j?k.colorDark:k.colorLight,_.lineWidth=1,_.fillStyle=j?k.colorDark:k.colorLight,_.fillRect(N,P,B,A),_.strokeRect(Math.floor(N)+.5,Math.floor(P)+.5,E,I),_.strokeRect(Math.ceil(N)-.5,Math.ceil(P)-.5,E,I)}this._bIsPainted=!0},k.prototype.makeImage=function(){this._bIsPainted&&function(c,v){var _=this;if(_._fFail=v,_._fSuccess=c,null===_._bSupportDataURI){var k=document.createElement("img"),M=function(){_._bSupportDataURI=!1,_._fFail&&_._fFail.call(_)};return k.onabort=M,k.onerror=M,k.onload=function(){_._bSupportDataURI=!0,_._fSuccess&&_._fSuccess.call(_)},void(k.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===_._bSupportDataURI&&_._fSuccess?_._fSuccess.call(_):!1===_._bSupportDataURI&&_._fFail&&_._fFail.call(_)}.call(this,c)},k.prototype.isPainted=function(){return this._bIsPainted},k.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},k.prototype.round=function(c){return c?Math.floor(1e3*c)/1e3:c},k}();function Z(c,v){for(var _=1,k=function(c){var v=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return v.length+(v.length!=c?3:0)}(c),B=0,A=W.length;B<=A;B++){var E=0;switch(v){case M.L:E=W[B][0];break;case M.M:E=W[B][1];break;case M.Q:E=W[B][2];break;case M.H:E=W[B][3]}if(k<=E)break;_++}if(_>W.length)throw new Error("Too long data");return _}(_=function(c,v){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:M.H},"string"==typeof v&&(v={text:v}),v)for(var _ in v)this._htOption[_]=v[_];"string"==typeof c&&(c=document.getElementById(c)),this._htOption.useSVG&&(J=Y),this._android=G(),this._el=c,this._oQRCode=null,this._oDrawing=new J(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(c){this._oQRCode=new v(Z(c,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(c),this._oQRCode.make(),this._el.title=c,this._oDrawing.draw(this._oQRCode),this.makeImage()},_.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},_.prototype.clear=function(){this._oDrawing.clear()},_.CorrectLevel=M}(),c.exports=_},function(c,v,_){}]);